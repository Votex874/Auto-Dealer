/*! release#70.6.0 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("utils-bundle"),require("application-bundle"),require("global-bundle"),require("vendor-bundle")):"function"==typeof define&&define.amd?define("configurator-bundle",["utils-bundle","application-bundle","global-bundle","vendor-bundle"],e):"object"==typeof exports?exports["configurator-bundle"]=e(require("utils-bundle"),require("application-bundle"),require("global-bundle"),require("vendor-bundle")):t["configurator-bundle"]=e(t["utils-bundle"],t["application-bundle"],t["global-bundle"],t["vendor-bundle"])}("undefined"!=typeof self?self:this,function(__WEBPACK_EXTERNAL_MODULE_0__,__WEBPACK_EXTERNAL_MODULE_3__,__WEBPACK_EXTERNAL_MODULE_44__,__WEBPACK_EXTERNAL_MODULE_121__){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=278)}([
/*!*******************************!*\
  !*** external "utils-bundle" ***!
  \*******************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_0__},
/*!***************************************************************!*\
  !*** ../node_modules/babel-runtime/helpers/classCallCheck.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},
/*!************************************************************!*\
  !*** ../node_modules/babel-runtime/helpers/createClass.js ***!
  \************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! ../core-js/object/define-property */117));e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(t,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},
/*!*************************************!*\
  !*** external "application-bundle" ***!
  \*************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_3__},
/*!********************************************************!*\
  !*** ../node_modules/core-js/library/modules/_core.js ***!
  \********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){var n=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},
/*!**********************************************************!*\
  !*** ../node_modules/core-js/library/modules/_global.js ***!
  \**********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},
/*!*******************************************************!*\
  !*** ../node_modules/core-js/library/modules/_wks.js ***!
  \*******************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_shared */47)("wks"),i=n(/*! ./_uid */33),o=n(/*! ./_global */5).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},
/*!************************************************************************!*\
  !*** ../node_modules/babel-runtime/core-js/object/get-prototype-of.js ***!
  \************************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){t.exports={default:n(/*! core-js/library/fn/object/get-prototype-of */133),__esModule:!0}},
/*!**************************************************************************!*\
  !*** ../node_modules/babel-runtime/helpers/possibleConstructorReturn.js ***!
  \**************************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! ../helpers/typeof */59));e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,r.default)(e))&&"function"!=typeof e?t:e}},
/*!*********************************************************!*\
  !*** ../node_modules/babel-runtime/helpers/inherits.js ***!
  \*********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";e.__esModule=!0;var r=a(n(/*! ../core-js/object/set-prototype-of */15)),i=a(n(/*! ../core-js/object/create */135)),o=a(n(/*! ../helpers/typeof */59));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,o.default)(e)));t.prototype=(0,i.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},
/*!**********************************************************!*\
  !*** ../node_modules/core-js/library/modules/_export.js ***!
  \**********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_global */5),i=n(/*! ./_core */4),o=n(/*! ./_ctx */22),a=n(/*! ./_hide */20),s=function(t,e,n){var l,u,c,d=t&s.F,f=t&s.G,m=t&s.S,p=t&s.P,g=t&s.B,v=t&s.W,h=f?i:i[e]||(i[e]={}),y=h.prototype,S=f?r:m?r[e]:(r[e]||{}).prototype;for(l in f&&(n=e),n)(u=!d&&S&&void 0!==S[l])&&l in h||(c=u?S[l]:n[l],h[l]=f&&"function"!=typeof S[l]?n[l]:g&&u?o(c,r):v&&S[l]==c?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):p&&"function"==typeof c?o(Function.call,c):c,p&&((h.virtual||(h.virtual={}))[l]=c,t&s.R&&y&&!y[l]&&a(y,l,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},
/*!********************************************************!*\
  !*** ../node_modules/babel-runtime/core-js/promise.js ***!
  \********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){t.exports={default:n(/*! core-js/library/fn/promise */98),__esModule:!0}},
/*!*************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_an-object.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_is-object */13);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},
/*!*************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_is-object.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},
/*!*************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_object-dp.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_an-object */12),i=n(/*! ./_ie8-dom-define */69),o=n(/*! ./_to-primitive */50),a=Object.defineProperty;e.f=n(/*! ./_descriptors */16)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},
/*!************************************************************************!*\
  !*** ../node_modules/babel-runtime/core-js/object/set-prototype-of.js ***!
  \************************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){t.exports={default:n(/*! core-js/library/fn/object/set-prototype-of */127),__esModule:!0}},
/*!***************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_descriptors.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){t.exports=!n(/*! ./_fails */24)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},
/*!******************************************************************!*\
  !*** ../node_modules/babel-runtime/core-js/reflect/construct.js ***!
  \******************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){t.exports={default:n(/*! core-js/library/fn/reflect/construct */130),__esModule:!0}},
/*!**********************************************************!*\
  !*** ../node_modules/babel-runtime/regenerator/index.js ***!
  \**********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){t.exports=n(/*! regenerator-runtime */115)},
/*!*****************************************************************!*\
  !*** ../node_modules/babel-runtime/helpers/asyncToGenerator.js ***!
  \*****************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! ../core-js/promise */11));e.default=function(t){return function(){var e=t.apply(this,arguments);return new r.default(function(t,n){return function i(o,a){try{var s=e[o](a),l=s.value}catch(t){return void n(t)}if(!s.done)return r.default.resolve(l).then(function(t){i("next",t)},function(t){i("throw",t)});t(l)}("next")})}}},
/*!********************************************************!*\
  !*** ../node_modules/core-js/library/modules/_hide.js ***!
  \********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_object-dp */14),i=n(/*! ./_property-desc */30);t.exports=n(/*! ./_descriptors */16)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},
/*!*******************************************************!*\
  !*** ../node_modules/core-js/library/modules/_has.js ***!
  \*******************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},
/*!*******************************************************!*\
  !*** ../node_modules/core-js/library/modules/_ctx.js ***!
  \*******************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_a-function */25);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},
/*!**************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_to-iobject.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_iobject */68),i=n(/*! ./_defined */38);t.exports=function(t){return r(i(t))}},
/*!*********************************************************!*\
  !*** ../node_modules/core-js/library/modules/_fails.js ***!
  \*********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},
/*!**************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_a-function.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},
/*!*************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_iterators.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){t.exports={}},
/*!************************************!*\
  !*** ./js/configurator/dpu/api.js ***!
  \************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dpuApi=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! babel-runtime/core-js/object/keys */49)),i=n(/*! ../../global-bundle */44),o=n(/*! ./model */166);var a={},s={__:a};a.stored={},s.getSpecialFamilies=function(){var t,e=SETUPS.get("nemo.families"),n=s.getFamilies();if(!e&&n)for(t in e={},n)n[t].showstandard&&"true"===n[t].showstandard&&(e[t]=n[t]);return e||null},s.getFamilies=function(){return o.dpuModel.getFamilies()},s.sendRenderServiceRequest=function(t,e,n,r){return o.dpuModel.sendRenderServiceRequest(t,e,n,r)},s.search=function(t,e){var n=s.searchItems(t,e);return n.length>0?a.groupByFamily(n):[]},a.groupByFamily=function(t){var e,n,r={search:[]},i=s.getFamilies(),o={},a=s.getCarlineName(),l=t||{};return jQuery.each(l,function(t,s){if(void 0===s.family)return console.log("Found item without family: ",s),!0;if(n=i[s.family]){if(!n.name)return console.log("Found family without family.name: ",n),!0;n.group=n.group||n.name||n.id,o[n.group]||(o[n.group]=1,e={key:n.group,value:{carlineName:a,family:n,items:[]}},r.search.push(e)),e.value.items.push(s)}}),r.search},a.groupByExtColorKey=function(t){var e,n,r=s.getFamilies(),i=["extcolors.uni","extcolors.metallic","extcolors.pearl","extcolors.exclusive","extcolors.o","extcolors.m","extcolors.p"],o=[],a=[],l=s.getCarlineName(),u=t||{};for(jQuery.each(u,function(t,e){if(void 0===e.family)return console.log("Found item without family: ",e),!0;if(n=r[e.family]){if(!n.name)return console.log("Found family without family.name: ",n),!0;n.group=n.group||n.id||n.name,n.group=n.group.trim(),-1===i.indexOf(n.group)?console.log("Found unknown family group: ",n.group):(o[n.group]||(o[n.group]={key:n.group,value:{carlineName:l,family:n,items:[]}}),o[n.group].value.items.push(e))}}),e=0;e<i.length;e++)o[i[e]]&&a.push(o[i[e]]);return a},s.getRenderUrl=function(){return SETUPS.get("nemo.url.mediaservice")||null},s.getSelectedItems=function(){var t,e=s.getItems()||{},n=s.getSpecialFamilies(),r={},i=0;for(t in e)e[t].status&&"1"===e[t].status.charAt(3)&&("0"===e[t].status.charAt(4)&&(r[t]=e[t],i++),"1"===e[t].status.charAt(4)&&e[t].family&&n[e[t].family]&&(r[t]=e[t],i++));return i>0?r:null},s.getSelectedTrimline=function(){var t,e=s.getSelectedItems(),n=[];if(e)for(t=(n=(0,r.default)(e)).length;t--;)if(n[t].indexOf("trimline_")>-1)return n[t];return null},s.getSelectedItemsArray=function(){var t={};return jQuery.each(s.getItems(),function(e,n){n.selectionMethod&&(t[n.selectionMethod]=t[n.selectionMethod]||[],t[n.selectionMethod].push(n))}),t},s.getCarline=function(){return o.dpuModel.getCarline()},s.getCarlineName=function(){var t=s.getConfiguration();return t&&t.carlineName?t.carlineName:null},s.getEngine=function(){var t=s.getConfiguration();return t&&t.model?t.model:null},s.getTechdata=function(){var t=s.getConfiguration();return t&&t.techdata?t.techdata:null},s.getExtColor=function(){var t,e,n=s.getSelectedItemsIDsArray();for(t=0,e=n.length;t<e;t++)if(4===n[t].length)return n[t];return null},s.getModelYear=function(){var t=s.getConfiguration();return t&&t.modelyear?t.modelyear:null},s.getPriceRateMode=function(){var t=o.dpuModel.getHeader();return t&&t.mode?t.mode:"price"},s.getVisitorId=function(){var t=o.dpuModel.getHeader();return t&&t["visitor-id"]?t["visitor-id"]:null},s.getHiddenItemIDsFromVersion=function(){return o.dpuModel.getHiddenItemIDsFromVersion()},s.getPrString=function(){return o.dpuModel.getPrString()},s.getConfigurationStartType=function(){return o.dpuModel.getConfigurationStartType()},s.isContinuedConfiguration=function(){return o.dpuModel.isContinuedConfiguration()},s.getContentVersion=function(){var t=o.dpuModel.getHeader();return t&&t.version?t.version:null},s.getMarketVersion=function(){var t=o.dpuModel.getHeader();return t&&t.marketVersion?t.marketVersion:null},s.isLoggedIn=function(){return!!(o.dpuModel.getHeader()&&!0===o.dpuModel.getHeader()["logged-in"])},s.setLogin=function(t,e){return o.dpuModel.setLogin(t,e)},s.getSearchStopWords=function(){return o.dpuModel.getSearchStopWords()},s.getConflicts=function(){return o.dpuModel.getConflicts()},s.getConflictTriggers=function(){var t=null,e=s.getConflicts();return e&&e.triggers&&e.triggers.length&&(t=e.triggers),t},s.getTransfers=function(){var t=o.dpuModel.getTransfers();return t&&t.deleted&&t.deleted.length?t:null},s.getAudicode=function(){return o.dpuModel.getAudicode()},s.getConfiguration=function(){return o.dpuModel.getConfiguration()},s.getVersion=function(){return o.dpuModel.getVersion()},s.getMemcacheVersion=function(){return o.dpuModel.getMemcacheVersion()},s.getDpuUrl=function(){return o.dpuModel.getDpuUrl()},s.getContext=function(){return o.dpuModel.getContext()},s.getSubsessionID=function(){return o.dpuModel.getSubsessionID()},s.setSubsessionID=function(t){return o.dpuModel.setSubsessionID(t)},s.getMotorcode=function(){var t=s.getConfiguration();return t&&t.model?t.model:null},s.getConfigurationAssets=function(){var t=s.getConfiguration();return t&&t.assets?t.assets:null},s.getExtColors=function(){var t=a.getItemsByFamily("extcolors");return t?a.groupByExtColorKey(t):null},s.getDocrootUrl=function(){var t=window.location.protocol+"//"+window.location.host+(SETUPS.get("nemo.url.static")||"");return"/"===t.charAt(t.length-1)&&(t=t.slice(0,-1)),t},s.isConfigurable=function(){return!!SETUPS.get("nemo.url.carinfo")},s.isInPreviewMode=function(){return!!SETUPS.get("nemo.url.preview")},s.getPageTree=function(){return SETUPS.get("pagetree")},s.getGsaSearchUrl=function(){return SETUPS.get("gsaSearchLink")||null},s.searchNavigation=function(t,e){var n=[],r=[],i=t.toLowerCase();switch(e){case"model":r=a.getModelNavigationStorage();break;case"siteMap":r=a.getSiteNavigationStorage();break;case"footer":r=a.getFooterNavigationStorage();break;default:r=[]}return jQuery.each(r,function(t,e){if(!e.search)return!0;-1!==e.search.indexOf(i)&&e.url&&n.push(e)}),n},s.getItems=function(){return o.dpuModel.getItems()||null},s.isConfigurationStarted=function(){return o.dpuModel.isConfigurationStarted()},s.hasCustomConfiguration=function(){return o.dpuModel.hasCustomConfiguration()},s.isOptionSelectedInConfiguration=function(t){return s.getSelectedItemsIDsArray().indexOf(t)>-1},s.getSelectedItemsIDsArray=function(){var t=s.getSelectedItems()||{};return(0,r.default)(t)},s.getPrices=function(){var t=s.getConfiguration();return t&&t.prices?t.prices:null},s.getItem=function(t){var e=s.getItems();return e&&e[t]?e[t]:null},s.getItemsByStatus=function(t){var e=s.getItems(),n=null,r=t;return r&&e&&("function"!=typeof r.compile&&(r=new RegExp(r)),jQuery.each(e,function(t,e){e.status&&r.test(e.status)&&((n=n||{})[t]=e)})),n},a.getItemsByFamily=function(t){var e=s.getItems(),n=null,r=t;return r&&e&&("function"!=typeof r.compile&&(r=new RegExp(r)),jQuery.each(e,function(t,e){e.family&&r.test(e.family)&&((n=n||{})[t]=e)})),n},s.getItemsByFamily=a.getItemsByFamily,s.getConfigurationCarPriceRate=function(){var t=s.getConfiguration();return t&&t.rate?t.rate:null},s.getNwbLink=function(){var t=s.getConfiguration();return t&&t.nwbLink?t.nwbLink:null},s.getVtpRequestUrl=function(){return SETUPS.get("nemo.vtp.request.url")},s.getVtpEntryUrl=function(){return SETUPS.get("nemo.vtp.entry.url")},s.getDOMStatusCode=function(t){var e=t?t.get(0).className:"";return-1===e.indexOf("nm-j-configurator-status_")?null:e.split("nm-j-configurator-status_")[1].split(" ")[0]},s.supportsLocalStorage=function(){if(null!==window.navigator.userAgent.toLowerCase().match(/adobeair/i))return!0;try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(t){return t.code===window.DOMException.QUOTA_EXCEEDED_ERR&&0===localStorage.length}},s.getConfigurationFamilies=function(){var t=s.getConfiguration();return t&&t.families?t.families:null},s.getRecommendations=function(){var t=s.getConfiguration();return t&&t.recommendations?t.recommendations:[]},s.getDynamicRecommendations=function(){var t=s.getConfiguration();return t&&t.empfehlungenPoC&&t.empfehlungenPoC.recommendations?t.empfehlungenPoC.recommendations:[]},a.getSiteNavigationStorage=function(){var t=SETUPS.get("siteNavigation");return t||[]},a.getModelNavigationStorage=function(){var t=SETUPS.get("modelNavigation");return t||[]},s.searchItems=function(t,e){var n,r=!!window.mss||i.state.getStateOfModeFor("debug")||!1,o=s.getItems()||{},a=[],l=s.getFamilies(),u=t.toLowerCase();return u=u.replace(/^\w\s/," ").replace(/\s\w$/," ").replace(/\s\w\s/," ").trim(),jQuery.each(o,function(t,i){var o;if(!i.search||"string"!=typeof i.search)return!0;if(n=i.search,r&&i.mbvId&&(n+=" | "+i.mbvId.toLowerCase()),-1!==n.indexOf(u)){if(e&&("00000"===i.status||"10000"===i.status))return!0;if(void 0===i.family)return!0;if(!(o=l[i.family])||!o.name)return!0;a.push(i)}}),a},s.isInitialized=function(){return o.dpuModel.isInitialized()},s.getCarlineUrl=function(t){var e=SETUPS.get("nemo.carlineID2Url")||{},n=e[t];return!n&&(e=SETUPS.get("mssc.carlinemapping")||{})?(n=e[t])?n.posterViewUrl:void 0:n?n.baseurl:void 0},s.getCurrentCarlineUrl=function(){var t=s.getCarline();return s.getCarlineUrl(t)},a.d4=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},a.guid=function(){return a.d4()+a.d4()+a.d4()+a.d4()+a.d4()},s.getConfigurationId=function(){return a.configurationID=a.configurationID||a.guid(),a.configurationID},s.getModelsInfo=function(t){return o.dpuModel.getModelsInfo(t)},s.getCurrentModelInfo=function(){var t=s.getEngine();return t?s.getModelsInfo(t):null},s.getAveString=function(){var t=s.getConfiguration();return t&&t.ave?t.ave:null},s.getSCSmatchingAttributes=function(){var t=s.getSCSAttributes();return t&&t.attrs?t.attrs:[]},s.getSCSAttributes=function(){var t=s.getConfiguration();return t&&t["stock-car-attrs"]?t["stock-car-attrs"]:null},s.getErrorMessage=function(t){var e=a.getErrorMessageFromI18N(t),n=a.getErrorMessageFromDpuError(t),r=e||n;return r||a.getErrorMessageFromI18N("DEFAULT")},a.getErrorMessageFromI18N=function(t){var e="string"==typeof t?t:t.id;return window.i18n["error.message."+e]},a.getErrorMessageFromDpuError=function(t){return t.message?t.message:null},s.getAltImagePath=function(t,e){var n,r;return!!((n=s.getCarline())&&t&&e)&&(r=a.setFallbackGroup(n),a.setImagePath(r,t,e))},a.setFallbackGroup=function(t){var e;return e=t.substring(0,1),0!==t.indexOf("rs")&&0!==t.indexOf("s")||(e="a"),0===t.indexOf("tt")&&(e="r"),e},a.setImagePath=function(t,e,n){var r,i=".jpg";return r="selection-compare"!==e?t+"-"+n.split(".")[0]+"-"+e+i:t+"-"+e+(i=".jpg"),r="undefined"!=typeof mss?s.getDocrootUrl()+"/cms4i-nemo-mss/fallback-renderings/"+r:s.getDocrootUrl()+"/cms4i-nemo/fallback-renderings/"+r},a.getFooterNavigationStorage=function(){var t=SETUPS.get("footerNavigation");return t||[]},e.dpuApi=s},
/*!*******************************************************!*\
  !*** ../node_modules/core-js/library/modules/_cof.js ***!
  \*******************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},
/*!***************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_object-keys.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_object-keys-internal */67),i=n(/*! ./_enum-bug-keys */48);t.exports=Object.keys||function(t){return r(t,i)}},
/*!*****************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_property-desc.js ***!
  \*****************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},
/*!*********************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_set-to-string-tag.js ***!
  \*********************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_object-dp */14).f,i=n(/*! ./_has */21),o=n(/*! ./_wks */6)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},
/*!*************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_to-object.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_defined */38);t.exports=function(t){return Object(r(t))}},
/*!*******************************************************!*\
  !*** ../node_modules/core-js/library/modules/_uid.js ***!
  \*******************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},
/*!***********************************************************!*\
  !*** ../node_modules/core-js/library/modules/_library.js ***!
  \***********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){t.exports=!0},
/*!*****************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_object-create.js ***!
  \*****************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_an-object */12),i=n(/*! ./_object-dps */94),o=n(/*! ./_enum-bug-keys */48),a=n(/*! ./_shared-key */40)("IE_PROTO"),s=function(){},l=function(){var t,e=n(/*! ./_dom-create */41)("iframe"),r=o.length;for(e.style.display="none",n(/*! ./_html */61).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;r--;)delete l.prototype[o[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=l(),void 0===e?n:i(n,e)}},
/*!**************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_object-pie.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */,
/*!**************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_object-pie.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){e.f={}.propertyIsEnumerable},
/*!***********************************************************!*\
  !*** ../node_modules/core-js/library/modules/_defined.js ***!
  \***********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},
/*!**************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_to-integer.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},
/*!**************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_shared-key.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_shared */47)("keys"),i=n(/*! ./_uid */33);t.exports=function(t){return r[t]||(r[t]=i(t))}},
/*!**************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_dom-create.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_is-object */13),i=n(/*! ./_global */5).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},
/*!**********************************************************************!*\
  !*** ../node_modules/core-js/library/modules/es6.string.iterator.js ***!
  \**********************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";var r=n(/*! ./_string-at */92)(!0);n(/*! ./_iter-define */54)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},
/*!**************************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_new-promise-capability.js ***!
  \**************************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";var r=n(/*! ./_a-function */25);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}(t)}},
/*!********************************!*\
  !*** external "global-bundle" ***!
  \********************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_44__},
/*!******************************************************************!*\
  !*** ../node_modules/babel-runtime/helpers/toConsumableArray.js ***!
  \******************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! ../core-js/array/from */149));e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,r.default)(t)}},
/*!*************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_to-length.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_to-integer */39),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},
/*!**********************************************************!*\
  !*** ../node_modules/core-js/library/modules/_shared.js ***!
  \**********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_global */5),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},
/*!*****************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_enum-bug-keys.js ***!
  \*****************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},
/*!************************************************************!*\
  !*** ../node_modules/babel-runtime/core-js/object/keys.js ***!
  \************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){t.exports={default:n(/*! core-js/library/fn/object/keys */104),__esModule:!0}},
/*!****************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_to-primitive.js ***!
  \****************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_is-object */13);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},
/*!*******************************************************************!*\
  !*** ../node_modules/core-js/library/modules/web.dom.iterable.js ***!
  \*******************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){n(/*! ./es6.array.iterator */95);for(var r=n(/*! ./_global */5),i=n(/*! ./_hide */20),o=n(/*! ./_iterators */26),a=n(/*! ./_wks */6)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=r[u],d=c&&c.prototype;d&&!d[a]&&i(d,a,u),o[u]=o.Array}},
/*!***********************************************************!*\
  !*** ../node_modules/core-js/library/modules/_classof.js ***!
  \***********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_cof */28),i=n(/*! ./_wks */6)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},
/*!***************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_iter-define.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */,
/*!***************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_iter-define.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";var r=n(/*! ./_library */34),i=n(/*! ./_export */10),o=n(/*! ./_redefine */71),a=n(/*! ./_hide */20),s=n(/*! ./_has */21),l=n(/*! ./_iterators */26),u=n(/*! ./_iter-create */93),c=n(/*! ./_set-to-string-tag */31),d=n(/*! ./_object-gpo */73),f=n(/*! ./_wks */6)("iterator"),m=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,g,v,h,y){u(n,e,g);var S,C,E,b=function(t){if(!m&&t in _)return _[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",D="values"==v,A=!1,_=t.prototype,k=_[f]||_["@@iterator"]||v&&_[v],x=k||b(v),L=v?D?b("entries"):x:void 0,I="Array"==e&&_.entries||k;if(I&&(E=d(I.call(new t)))!==Object.prototype&&E.next&&(c(E,w,!0),r||s(E,f)||a(E,f,p)),D&&k&&"values"!==k.name&&(A=!0,x=function(){return k.call(this)}),r&&!y||!m&&!A&&_[f]||a(_,f,x),l[e]=x,l[w]=p,v)if(S={values:D?x:b("values"),keys:h?x:b("keys"),entries:L},y)for(C in S)C in _||o(_,C,S[C]);else i(i.P+i.F*(m||A),e,S);return S}},
/*!***********************************************************!*\
  !*** ../node_modules/core-js/library/modules/_wks-ext.js ***!
  \***********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){e.f=n(/*! ./_wks */6)},
/*!**************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_wks-define.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_global */5),i=n(/*! ./_core */4),o=n(/*! ./_library */34),a=n(/*! ./_wks-ext */55),s=n(/*! ./_object-dp */14).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},
/*!**********************************************************!*\
  !*** ../node_modules/core-js/library/modules/_for-of.js ***!
  \**********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_ctx */22),i=n(/*! ./_iter-call */82),o=n(/*! ./_is-array-iter */83),a=n(/*! ./_an-object */12),s=n(/*! ./_to-length */46),l=n(/*! ./core.get-iterator-method */75),u={},c={};(e=t.exports=function(t,e,n,d,f){var m,p,g,v,h=f?function(){return t}:l(t),y=r(n,d,e?2:1),S=0;if("function"!=typeof h)throw TypeError(t+" is not iterable!");if(o(h)){for(m=s(t.length);m>S;S++)if((v=e?y(a(p=t[S])[0],p[1]):y(t[S]))===u||v===c)return v}else for(g=h.call(t);!(p=g.next()).done;)if((v=i(g,y,p.value,e))===u||v===c)return v}).BREAK=u,e.RETURN=c},
/*!*******************************************************!*\
  !*** ../node_modules/babel-runtime/helpers/typeof.js ***!
  \*******************************************************/
/*! dynamic exports provided */
/*! all exports used */,
/*!*******************************************************!*\
  !*** ../node_modules/babel-runtime/helpers/typeof.js ***!
  \*******************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";e.__esModule=!0;var r=a(n(/*! ../core-js/symbol/iterator */106)),i=a(n(/*! ../core-js/symbol */108)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t};function a(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof i.default&&"symbol"===o(r.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":void 0===t?"undefined":o(t)}},
/*!***********************************************************************!*\
  !*** ../node_modules/core-js/library/modules/es6.object.to-string.js ***!
  \***********************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){},
/*!********************************************************!*\
  !*** ../node_modules/core-js/library/modules/_html.js ***!
  \********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_global */5).document;t.exports=r&&r.documentElement},
/*!***************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_object-gops.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){e.f=Object.getOwnPropertySymbols},
/*!***********************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_species-constructor.js ***!
  \***********************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_an-object */12),i=n(/*! ./_a-function */25),o=n(/*! ./_wks */6)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},
/*!********************************************************!*\
  !*** ../node_modules/core-js/library/modules/_task.js ***!
  \********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r,i,o,a=n(/*! ./_ctx */22),s=n(/*! ./_invoke */76),l=n(/*! ./_html */61),u=n(/*! ./_dom-create */41),c=n(/*! ./_global */5),d=c.process,f=c.setImmediate,m=c.clearImmediate,p=c.MessageChannel,g=c.Dispatch,v=0,h={},y=function(){var t=+this;if(h.hasOwnProperty(t)){var e=h[t];delete h[t],e()}},S=function(t){y.call(t.data)};f&&m||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return h[++v]=function(){s("function"==typeof t?t:Function(t),e)},r(v),v},m=function(t){delete h[t]},"process"==n(/*! ./_cof */28)(d)?r=function(t){d.nextTick(a(y,t,1))}:g&&g.now?r=function(t){g.now(a(y,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=S,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",S,!1)):r="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:f,clear:m}},
/*!***********************************************************!*\
  !*** ../node_modules/core-js/library/modules/_perform.js ***!
  \***********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},
/*!*******************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_promise-resolve.js ***!
  \*******************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_an-object */12),i=n(/*! ./_is-object */13),o=n(/*! ./_new-promise-capability */43);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},
/*!************************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_object-keys-internal.js ***!
  \************************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_has */21),i=n(/*! ./_to-iobject */23),o=n(/*! ./_array-includes */90)(!1),a=n(/*! ./_shared-key */40)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~o(u,n)||u.push(n));return u}},
/*!***********************************************************!*\
  !*** ../node_modules/core-js/library/modules/_iobject.js ***!
  \***********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_cof */28);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},
/*!******************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_ie8-dom-define.js ***!
  \******************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){t.exports=!n(/*! ./_descriptors */16)&&!n(/*! ./_fails */24)(function(){return 7!=Object.defineProperty(n(/*! ./_dom-create */41)("div"),"a",{get:function(){return 7}}).a})},
/*!***************************************************************!*\
  !*** ../node_modules/babel-runtime/core-js/json/stringify.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){t.exports={default:n(/*! core-js/library/fn/json/stringify */126),__esModule:!0}},
/*!************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_redefine.js ***!
  \************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){t.exports=n(/*! ./_hide */20)},
/*!**************************************************************!*\
  !*** ../node_modules/babel-runtime/core-js/object/assign.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){t.exports={default:n(/*! core-js/library/fn/object/assign */146),__esModule:!0}},
/*!**************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_object-gpo.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_has */21),i=n(/*! ./_to-object */32),o=n(/*! ./_shared-key */40)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},
/*!***************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_an-instance.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},
/*!***************************************************************************!*\
  !*** ../node_modules/core-js/library/modules/core.get-iterator-method.js ***!
  \***************************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_classof */52),i=n(/*! ./_wks */6)("iterator"),o=n(/*! ./_iterators */26);t.exports=n(/*! ./_core */4).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},
/*!**********************************************************!*\
  !*** ../node_modules/core-js/library/modules/_invoke.js ***!
  \**********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},
/*!****************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_redefine-all.js ***!
  \****************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_hide */20);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},
/*!**************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_object-sap.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */,
/*!**************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_object-sap.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_export */10),i=n(/*! ./_core */4),o=n(/*! ./_fails */24);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},
/*!***************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_object-gopn.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_object-keys-internal */67),i=n(/*! ./_enum-bug-keys */48).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},
/*!***************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_object-gopd.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_object-pie */37),i=n(/*! ./_property-desc */30),o=n(/*! ./_to-iobject */23),a=n(/*! ./_to-primitive */50),s=n(/*! ./_has */21),l=n(/*! ./_ie8-dom-define */69),u=Object.getOwnPropertyDescriptor;e.f=n(/*! ./_descriptors */16)?u:function(t,e){if(t=o(t),e=a(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},
/*!*************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_iter-call.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_an-object */12);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},
/*!*****************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_is-array-iter.js ***!
  \*****************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_iterators */26),i=n(/*! ./_wks */6)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},
/*!***************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_iter-detect.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_wks */6)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},
/*!*************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_iter-step.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */,
/*!*************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_iter-step.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},
/*!********************************************************!*\
  !*** ../node_modules/core-js/library/modules/_meta.js ***!
  \********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_uid */33)("meta"),i=n(/*! ./_is-object */13),o=n(/*! ./_has */21),a=n(/*! ./_object-dp */14).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(/*! ./_fails */24)(function(){return l(Object.preventExtensions({}))}),c=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},d=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[r].w},onFreeze:function(t){return u&&d.NEED&&l(t)&&!o(t,r)&&c(t),t}}},
/*!***************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_set-species.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";var r=n(/*! ./_global */5),i=n(/*! ./_core */4),o=n(/*! ./_object-dp */14),a=n(/*! ./_descriptors */16),s=n(/*! ./_wks */6)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];a&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},
/*!******************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_array-includes.js ***!
  \******************************************************************/
/*! dynamic exports provided */
/*! all exports used */,
/*!******************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_array-includes.js ***!
  \******************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_to-iobject */23),i=n(/*! ./_to-length */46),o=n(/*! ./_to-absolute-index */91);t.exports=function(t){return function(e,n,a){var s,l=r(e),u=i(l.length),c=o(a,u);if(t&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},
/*!*********************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_to-absolute-index.js ***!
  \*********************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_to-integer */39),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},
/*!*************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_string-at.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_to-integer */39),i=n(/*! ./_defined */38);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),l=r(n),u=s.length;return l<0||l>=u?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},
/*!***************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_iter-create.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";var r=n(/*! ./_object-create */35),i=n(/*! ./_property-desc */30),o=n(/*! ./_set-to-string-tag */31),a={};n(/*! ./_hide */20)(a,n(/*! ./_wks */6)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},
/*!**************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_object-dps.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_object-dp */14),i=n(/*! ./_an-object */12),o=n(/*! ./_object-keys */29);t.exports=n(/*! ./_descriptors */16)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,l=0;s>l;)r.f(t,n=a[l++],e[n]);return t}},
/*!*********************************************************************!*\
  !*** ../node_modules/core-js/library/modules/es6.array.iterator.js ***!
  \*********************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";var r=n(/*! ./_add-to-unscopables */96),i=n(/*! ./_iter-step */86),o=n(/*! ./_iterators */26),a=n(/*! ./_to-iobject */23);t.exports=n(/*! ./_iter-define */54)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},
/*!**********************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_add-to-unscopables.js ***!
  \**********************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){t.exports=function(){}},
/*!************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_is-array.js ***!
  \************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_cof */28);t.exports=Array.isArray||function(t){return"Array"==r(t)}},
/*!*****************************************************!*\
  !*** ../node_modules/core-js/library/fn/promise.js ***!
  \*****************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){n(/*! ../modules/es6.object.to-string */60),n(/*! ../modules/es6.string.iterator */42),n(/*! ../modules/web.dom.iterable */51),n(/*! ../modules/es6.promise */99),n(/*! ../modules/es7.promise.finally */101),n(/*! ../modules/es7.promise.try */102),t.exports=n(/*! ../modules/_core */4).Promise},
/*!**************************************************************!*\
  !*** ../node_modules/core-js/library/modules/es6.promise.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";var r,i,o,a,s=n(/*! ./_library */34),l=n(/*! ./_global */5),u=n(/*! ./_ctx */22),c=n(/*! ./_classof */52),d=n(/*! ./_export */10),f=n(/*! ./_is-object */13),m=n(/*! ./_a-function */25),p=n(/*! ./_an-instance */74),g=n(/*! ./_for-of */57),v=n(/*! ./_species-constructor */63),h=n(/*! ./_task */64).set,y=n(/*! ./_microtask */100)(),S=n(/*! ./_new-promise-capability */43),C=n(/*! ./_perform */65),E=n(/*! ./_promise-resolve */66),b=l.TypeError,w=l.process,D=l.Promise,A="process"==c(w),_=function(){},k=i=S.f,x=!!function(){try{var t=D.resolve(1),e=(t.constructor={})[n(/*! ./_wks */6)("species")]=function(t){t(_,_)};return(A||"function"==typeof PromiseRejectionEvent)&&t.then(_)instanceof e}catch(t){}}(),L=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},I=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a=i?e.ok:e.fail,s=e.resolve,l=e.reject,u=e.domain;try{a?(i||(2==t._h&&O(t),t._h=1),!0===a?n=r:(u&&u.enter(),n=a(r),u&&u.exit()),n===e.promise?l(b("Promise-chain cycle")):(o=L(n))?o.call(n,s,l):s(n)):l(r)}catch(t){l(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&T(t)})}},T=function(t){h.call(l,function(){var e,n,r,i=t._v,o=j(t);if(o&&(e=C(function(){A?w.emit("unhandledRejection",i,t):(n=l.onunhandledrejection)?n({promise:t,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=A||j(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},j=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if((e=n[r++]).fail||!j(e.promise))return!1;return!0},O=function(t){h.call(l,function(){var e;A?w.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},P=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),I(e,!0))},M=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw b("Promise can't be resolved itself");(e=L(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,u(M,r,1),u(P,r,1))}catch(t){P.call(r,t)}}):(n._v=t,n._s=1,I(n,!1))}catch(t){P.call({_w:n,_d:!1},t)}}};x||(D=function(t){p(this,D,"Promise","_h"),m(t),r.call(this);try{t(u(M,this,1),u(P,this,1))}catch(t){P.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(/*! ./_redefine-all */77)(D.prototype,{then:function(t,e){var n=k(v(this,D));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=A?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=u(M,t,1),this.reject=u(P,t,1)},S.f=k=function(t){return t===D||t===a?new o(t):i(t)}),d(d.G+d.W+d.F*!x,{Promise:D}),n(/*! ./_set-to-string-tag */31)(D,"Promise"),n(/*! ./_set-species */88)("Promise"),a=n(/*! ./_core */4).Promise,d(d.S+d.F*!x,"Promise",{reject:function(t){var e=k(this);return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(s||!x),"Promise",{resolve:function(t){return E(s&&this===a?D:this,t)}}),d(d.S+d.F*!(x&&n(/*! ./_iter-detect */84)(function(t){D.all(t).catch(_)})),"Promise",{all:function(t){var e=this,n=k(e),r=n.resolve,i=n.reject,o=C(function(){var n=[],o=0,a=1;g(t,!1,function(t){var s=o++,l=!1;n.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=k(e),r=n.reject,i=C(function(){g(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},
/*!*************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_microtask.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_global */5),i=n(/*! ./_task */64).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(/*! ./_cof */28)(a);t.exports=function(){var t,e,n,u=function(){var r,i;for(l&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(u)};else if(o){var c=!0,d=document.createTextNode("");new o(u).observe(d,{characterData:!0}),n=function(){d.data=c=!c}}else if(s&&s.resolve){var f=s.resolve();n=function(){f.then(u)}}else n=function(){i.call(r,u)};return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},
/*!**********************************************************************!*\
  !*** ../node_modules/core-js/library/modules/es7.promise.finally.js ***!
  \**********************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";var r=n(/*! ./_export */10),i=n(/*! ./_core */4),o=n(/*! ./_global */5),a=n(/*! ./_species-constructor */63),s=n(/*! ./_promise-resolve */66);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},
/*!******************************************************************!*\
  !*** ../node_modules/core-js/library/modules/es7.promise.try.js ***!
  \******************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";var r=n(/*! ./_export */10),i=n(/*! ./_new-promise-capability */43),o=n(/*! ./_perform */65);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},
/*!*********************************************************!*\
  !*** ../node_modules/core-js/library/fn/object/keys.js ***!
  \*********************************************************/
/*! dynamic exports provided */
/*! all exports used */,
/*!*********************************************************!*\
  !*** ../node_modules/core-js/library/fn/object/keys.js ***!
  \*********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){n(/*! ../../modules/es6.object.keys */105),t.exports=n(/*! ../../modules/_core */4).Object.keys},
/*!******************************************************************!*\
  !*** ../node_modules/core-js/library/modules/es6.object.keys.js ***!
  \******************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_to-object */32),i=n(/*! ./_object-keys */29);n(/*! ./_object-sap */79)("keys",function(){return function(t){return i(r(t))}})},
/*!****************************************************************!*\
  !*** ../node_modules/babel-runtime/core-js/symbol/iterator.js ***!
  \****************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){t.exports={default:n(/*! core-js/library/fn/symbol/iterator */107),__esModule:!0}},
/*!*************************************************************!*\
  !*** ../node_modules/core-js/library/fn/symbol/iterator.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){n(/*! ../../modules/es6.string.iterator */42),n(/*! ../../modules/web.dom.iterable */51),t.exports=n(/*! ../../modules/_wks-ext */55).f("iterator")},
/*!*******************************************************!*\
  !*** ../node_modules/babel-runtime/core-js/symbol.js ***!
  \*******************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){t.exports={default:n(/*! core-js/library/fn/symbol */109),__esModule:!0}},
/*!**********************************************************!*\
  !*** ../node_modules/core-js/library/fn/symbol/index.js ***!
  \**********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){n(/*! ../../modules/es6.symbol */110),n(/*! ../../modules/es6.object.to-string */60),n(/*! ../../modules/es7.symbol.async-iterator */113),n(/*! ../../modules/es7.symbol.observable */114),t.exports=n(/*! ../../modules/_core */4).Symbol},
/*!*************************************************************!*\
  !*** ../node_modules/core-js/library/modules/es6.symbol.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";var r=n(/*! ./_global */5),i=n(/*! ./_has */21),o=n(/*! ./_descriptors */16),a=n(/*! ./_export */10),s=n(/*! ./_redefine */71),l=n(/*! ./_meta */87).KEY,u=n(/*! ./_fails */24),c=n(/*! ./_shared */47),d=n(/*! ./_set-to-string-tag */31),f=n(/*! ./_uid */33),m=n(/*! ./_wks */6),p=n(/*! ./_wks-ext */55),g=n(/*! ./_wks-define */56),v=n(/*! ./_enum-keys */111),h=n(/*! ./_is-array */97),y=n(/*! ./_an-object */12),S=n(/*! ./_to-iobject */23),C=n(/*! ./_to-primitive */50),E=n(/*! ./_property-desc */30),b=n(/*! ./_object-create */35),w=n(/*! ./_object-gopn-ext */112),D=n(/*! ./_object-gopd */81),A=n(/*! ./_object-dp */14),_=n(/*! ./_object-keys */29),k=D.f,x=A.f,L=w.f,I=r.Symbol,T=r.JSON,j=T&&T.stringify,O=m("_hidden"),P=m("toPrimitive"),M={}.propertyIsEnumerable,B=c("symbol-registry"),R=c("symbols"),F=c("op-symbols"),U=Object.prototype,Q="function"==typeof I,N=r.QObject,z=!N||!N.prototype||!N.prototype.findChild,V=o&&u(function(){return 7!=b(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=k(U,e);r&&delete U[e],x(t,e,n),r&&t!==U&&x(U,e,r)}:x,q=function(t){var e=R[t]=b(I.prototype);return e._k=t,e},H=Q&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},W=function(t,e,n){return t===U&&W(F,e,n),y(t),e=C(e,!0),y(n),i(R,e)?(n.enumerable?(i(t,O)&&t[O][e]&&(t[O][e]=!1),n=b(n,{enumerable:E(0,!1)})):(i(t,O)||x(t,O,E(1,{})),t[O][e]=!0),V(t,e,n)):x(t,e,n)},G=function(t,e){y(t);for(var n,r=v(e=S(e)),i=0,o=r.length;o>i;)W(t,n=r[i++],e[n]);return t},Y=function(t){var e=M.call(this,t=C(t,!0));return!(this===U&&i(R,t)&&!i(F,t))&&(!(e||!i(this,t)||!i(R,t)||i(this,O)&&this[O][t])||e)},X=function(t,e){if(t=S(t),e=C(e,!0),t!==U||!i(R,e)||i(F,e)){var n=k(t,e);return!n||!i(R,e)||i(t,O)&&t[O][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=L(S(t)),r=[],o=0;n.length>o;)i(R,e=n[o++])||e==O||e==l||r.push(e);return r},J=function(t){for(var e,n=t===U,r=L(n?F:S(t)),o=[],a=0;r.length>a;)!i(R,e=r[a++])||n&&!i(U,e)||o.push(R[e]);return o};Q||(s((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===U&&e.call(F,n),i(this,O)&&i(this[O],t)&&(this[O][t]=!1),V(this,t,E(1,n))};return o&&z&&V(U,t,{configurable:!0,set:e}),q(t)}).prototype,"toString",function(){return this._k}),D.f=X,A.f=W,n(/*! ./_object-gopn */80).f=w.f=$,n(/*! ./_object-pie */37).f=Y,n(/*! ./_object-gops */62).f=J,o&&!n(/*! ./_library */34)&&s(U,"propertyIsEnumerable",Y,!0),p.f=function(t){return q(m(t))}),a(a.G+a.W+a.F*!Q,{Symbol:I});for(var K="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Z=0;K.length>Z;)m(K[Z++]);for(var tt=_(m.store),et=0;tt.length>et;)g(tt[et++]);a(a.S+a.F*!Q,"Symbol",{for:function(t){return i(B,t+="")?B[t]:B[t]=I(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!Q,"Object",{create:function(t,e){return void 0===e?b(t):G(b(t),e)},defineProperty:W,defineProperties:G,getOwnPropertyDescriptor:X,getOwnPropertyNames:$,getOwnPropertySymbols:J}),T&&a(a.S+a.F*(!Q||u(function(){var t=I();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!H(t)){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);return"function"==typeof(e=r[1])&&(n=e),!n&&h(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!H(e))return e}),r[1]=e,j.apply(T,r)}}}),I.prototype[P]||n(/*! ./_hide */20)(I.prototype,P,I.prototype.valueOf),d(I,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},
/*!*************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_enum-keys.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_object-keys */29),i=n(/*! ./_object-gops */62),o=n(/*! ./_object-pie */37);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),l=o.f,u=0;s.length>u;)l.call(t,a=s[u++])&&e.push(a);return e}},
/*!*******************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_object-gopn-ext.js ***!
  \*******************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_to-iobject */23),i=n(/*! ./_object-gopn */80).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},
/*!****************************************************************************!*\
  !*** ../node_modules/core-js/library/modules/es7.symbol.async-iterator.js ***!
  \****************************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){n(/*! ./_wks-define */56)("asyncIterator")},
/*!************************************************************************!*\
  !*** ../node_modules/core-js/library/modules/es7.symbol.observable.js ***!
  \************************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){n(/*! ./_wks-define */56)("observable")},
/*!****************************************************************************************!*\
  !*** ../node_modules/babel-runtime/node_modules/regenerator-runtime/runtime-module.js ***!
  \****************************************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(/*! ./runtime */116),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},
/*!*********************************************************************************!*\
  !*** ../node_modules/babel-runtime/node_modules/regenerator-runtime/runtime.js ***!
  \*********************************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",u="object"==typeof t,c=e.regeneratorRuntime;if(c)u&&(t.exports=c);else{(c=e.regeneratorRuntime=u?t.exports:{}).wrap=C;var d="suspendedStart",f="suspendedYield",m="executing",p="completed",g={},v={};v[a]=function(){return this};var h=Object.getPrototypeOf,y=h&&h(h(T([])));y&&y!==r&&i.call(y,a)&&(v=y);var S=D.prototype=b.prototype=Object.create(v);w.prototype=S.constructor=D,D.constructor=w,D[l]=w.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,D):(t.__proto__=D,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(S),t},c.awrap=function(t){return{__await:t}},A(_.prototype),_.prototype[s]=function(){return this},c.AsyncIterator=_,c.async=function(t,e,n,r){var i=new _(C(t,e,n,r));return c.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},A(S),S[l]="Generator",S[a]=function(){return this},S.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=T,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return s.type="throw",s.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),g}}}function C(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),a=new I(r||[]);return o._invoke=function(t,e,n){var r=d;return function(i,o){if(r===m)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return j()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=m;var l=E(t,e,n);if("normal"===l.type){if(r=n.done?p:f,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function E(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function b(){}function w(){}function D(){}function A(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function _(t){var e;this._invoke=function(n,r){function o(){return new Promise(function(e,o){!function e(n,r,o,a){var s=E(t[n],t,r);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(u).then(function(t){l.value=t,o(l)},a)}a(s.arg)}(n,r,e,o)})}return e=e?e.then(o,o):o()}}function k(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,k(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=E(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function T(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},
/*!***********************************************************************!*\
  !*** ../node_modules/babel-runtime/core-js/object/define-property.js ***!
  \***********************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){t.exports={default:n(/*! core-js/library/fn/object/define-property */118),__esModule:!0}},
/*!********************************************************************!*\
  !*** ../node_modules/core-js/library/fn/object/define-property.js ***!
  \********************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){n(/*! ../../modules/es6.object.define-property */119);var r=n(/*! ../../modules/_core */4).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},
/*!*****************************************************************************!*\
  !*** ../node_modules/core-js/library/modules/es6.object.define-property.js ***!
  \*****************************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_export */10);r(r.S+r.F*!n(/*! ./_descriptors */16),"Object",{defineProperty:n(/*! ./_object-dp */14).f})},
/*!********************************!*\
  !*** external "vendor-bundle" ***!
  \********************************/
/*! dynamic exports provided */
/*! all exports used */,
/*!********************************!*\
  !*** external "vendor-bundle" ***!
  \********************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_121__},,,,
/*!************************************************************!*\
  !*** ../node_modules/core-js/library/fn/json/stringify.js ***!
  \************************************************************/
/*! dynamic exports provided */
/*! all exports used */,
/*!************************************************************!*\
  !*** ../node_modules/core-js/library/fn/json/stringify.js ***!
  \************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ../../modules/_core */4),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},
/*!*********************************************************************!*\
  !*** ../node_modules/core-js/library/fn/object/set-prototype-of.js ***!
  \*********************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){n(/*! ../../modules/es6.object.set-prototype-of */128),t.exports=n(/*! ../../modules/_core */4).Object.setPrototypeOf},
/*!******************************************************************************!*\
  !*** ../node_modules/core-js/library/modules/es6.object.set-prototype-of.js ***!
  \******************************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_export */10);r(r.S,"Object",{setPrototypeOf:n(/*! ./_set-proto */129).set})},
/*!*************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_set-proto.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_is-object */13),i=n(/*! ./_an-object */12),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(/*! ./_ctx */22)(Function.call,n(/*! ./_object-gopd */81).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},
/*!***************************************************************!*\
  !*** ../node_modules/core-js/library/fn/reflect/construct.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){n(/*! ../../modules/es6.reflect.construct */131),t.exports=n(/*! ../../modules/_core */4).Reflect.construct},
/*!************************************************************************!*\
  !*** ../node_modules/core-js/library/modules/es6.reflect.construct.js ***!
  \************************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_export */10),i=n(/*! ./_object-create */35),o=n(/*! ./_a-function */25),a=n(/*! ./_an-object */12),s=n(/*! ./_is-object */13),l=n(/*! ./_fails */24),u=n(/*! ./_bind */132),c=(n(/*! ./_global */5).Reflect||{}).construct,d=l(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),f=!l(function(){c(function(){})});r(r.S+r.F*(d||f),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(f&&!d)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(u.apply(t,r))}var l=n.prototype,m=i(s(l)?l:Object.prototype),p=Function.apply.call(t,m,e);return s(p)?p:m}})},
/*!********************************************************!*\
  !*** ../node_modules/core-js/library/modules/_bind.js ***!
  \********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";var r=n(/*! ./_a-function */25),i=n(/*! ./_is-object */13),o=n(/*! ./_invoke */76),a=[].slice,s={};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),l=function(){var r=n.concat(a.call(arguments));return this instanceof l?function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)}(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(l.prototype=e.prototype),l}},
/*!*********************************************************************!*\
  !*** ../node_modules/core-js/library/fn/object/get-prototype-of.js ***!
  \*********************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){n(/*! ../../modules/es6.object.get-prototype-of */134),t.exports=n(/*! ../../modules/_core */4).Object.getPrototypeOf},
/*!******************************************************************************!*\
  !*** ../node_modules/core-js/library/modules/es6.object.get-prototype-of.js ***!
  \******************************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_to-object */32),i=n(/*! ./_object-gpo */73);n(/*! ./_object-sap */79)("getPrototypeOf",function(){return function(t){return i(r(t))}})},
/*!**************************************************************!*\
  !*** ../node_modules/babel-runtime/core-js/object/create.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){t.exports={default:n(/*! core-js/library/fn/object/create */136),__esModule:!0}},
/*!***********************************************************!*\
  !*** ../node_modules/core-js/library/fn/object/create.js ***!
  \***********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){n(/*! ../../modules/es6.object.create */137);var r=n(/*! ../../modules/_core */4).Object;t.exports=function(t,e){return r.create(t,e)}},
/*!********************************************************************!*\
  !*** ../node_modules/core-js/library/modules/es6.object.create.js ***!
  \********************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_export */10);r(r.S,"Object",{create:n(/*! ./_object-create */35)})},
/*!*******************************************!*\
  !*** ./js/configurator/dpu/controller.js ***!
  \*******************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dpuController=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! babel-runtime/core-js/promise */11)),i=n(/*! ../../application-bundle */3),o=n(/*! ./api */27),a=n(/*! ./model */166),s=n(/*! ../startlayer */218),l=n(/*! ../carline-mapping */217),u=n(/*! ./user-configurations */219),c=n(/*! ./transfer */220),d=n(/*! ./conflict */221);var f={},m={__:f},p=!1;f.dataInitialized=!1,f.initMaxTries=20,f.oDefaults={sSelectorDelegateClick:".nm-j-configurator-delegate-click",sSelectorDelegateChangeCount:".nm-quantity",sSelectorChangeSelect:".nm-md-bicolor-chooser-interior",sSelectorDelegateNewClick:".nm-configuration-new",sSelectorPrintBtn:".nm-configuration-print",sSelectorLoadAudiCode:".nm-j-load-audicode",sSelectorLoadPrString:".nm-j-load-prstring"},f.startLayerActivated=!1,f.openedLayer=null,f.configurationContinued=!1,f.addEvents=function(){f.legacyEventBus.on("click.configuration.item",f.oDefaults.sSelectorDelegateClick,{triggerAction:"click"},f.handleConfigurationItemChanges),f.legacyEventBus.on("change.configuration.count",f.oDefaults.sSelectorDelegateChangeCount,{triggerAction:"changeCount"},f.handleConfigurationItemChanges),f.legacyEventBus.on("change.configuration.select",f.oDefaults.sSelectorChangeSelect,{triggerAction:"dropDown"},f.handleConfigurationItemChanges),f.legacyEventBus.on("click.configuration.new",f.oDefaults.sSelectorDelegateNewClick,f.handleNewConfigurationClick),f.addModeSwitchEventAfterReset(),f.eventBus.on(i.appEvents.CONFLICT_CLOSE,f.handleConflictClose),f.eventBus.on(i.appEvents.TRANSFER_CLOSE,f.handleTransferClose),f.eventBus.on(i.appEvents.STARTLAYER_CLOSE,f.handleStartlayerClose),f.legacyEventBus.on("click.nemo.configurator.print",f.oDefaults.sSelectorPrintBtn,f.callPrint),f.eventBus.on(i.appEvents.FORM_FINISHED,f.receiveAudicodeForm),f.legacyEventBus.on("click.nemo.loadbyaudicode",f.oDefaults.sSelectorLoadAudiCode,f.receiveAudicodeLink),f.legacyEventBus.on("click.nemo.loadbyprstring",f.oDefaults.sSelectorLoadPrString,f.receivePrstringLink),document.addEventListener("changeItemInConfiguration",f.handleEventForConfigurationChange)},f.callPrint=function(){f.eventBus.emit(i.appEvents.CONFIG_PDF);var t=SETUPS.get("nemo.core.configurator.dpu.oAjaxRESTConfigurationURIPrint"),e=jQuery(this),n=o.dpuApi.getContext(),r=o.dpuApi.getSubsessionID()?"&subsession="+o.dpuApi.getSubsessionID():"",a=o.dpuApi.getPrString();return t=t+"?context="+n+r+"&ids="+encodeURIComponent(a),e.attr({href:t,target:"_blank"}),!0},f.isSelectedRadioButton=function(t){var e=t.closest(".nm-j-configurator-item");return!(!e.is(".nm-j-configurator-status_11010, .nm-j-configurator-status_100110")||e.is(".nm-md-bicolor-chooser-el-options")||!1!==t.data("is-deselectable"))},f.isPreselectedConflictItem=function(t){var e,n;return!!o.dpuApi.getConflicts()&&(-1!==(n=t.closest(".nm-j-configurator-item").get(0).className).indexOf("nm-j-configurator-status_")&&(5===(e=n.split("nm-j-configurator-status_")[1].split(" ")[0]).length&&"1"===e[3]))},f.handleConfigurationItemChanges=function(t){f.cancelEvent(t);var e=jQuery(t.target);if(f.isSelectedRadioButton(e)||f.isPreselectedConflictItem(e))return!1;var n=e.closest(".nm-j-configurator-item"),r=n.attr("data-configurator-id"),a=n.find(f.oDefaults.sSelectorDelegateChangeCount).val(),s=void 0,l=t.data.triggerAction||"no-GUI-action-defined",u=o.dpuApi.isOptionSelectedInConfiguration(r);switch(l){case"changeCount":if(!u)return!1;s="itemAdd";break;case"click":if(!1===f.isSelectableItem(n))return;s=u?"itemRemove":"itemAdd",s=f.isIndividualColorConfiguration(r)?"itemAdd":s;break;case"dropDown":r=(n=jQuery(this)).val(),s=(u=o.dpuApi.isOptionSelectedInConfiguration(r))?"itemRemove":"itemAdd";break;default:return}var c={id:r,count:a,action:s},d=jQuery.extend(!0,c,{triggerAction:l,$element:n});f.eventBus.emit(i.appEvents.CONFIG_CHANGEREQUEST_START,d),f.triggerChangeRequest(c)},f.handleEventForConfigurationChange=function(t){try{t.detail.id&&f.triggerConfigurationChange(t.detail.id)}catch(t){console.error("handleEventForConfigurationChange: ","<id> is not defined")}},f.triggerConfigurationChange=function(t){var e={},n=o.dpuApi.isOptionSelectedInConfiguration(t);e.id=t,e.count=0,e.action=n?"itemRemove":"itemAdd",f.triggerChangeRequest(e)},f.receiveAudicodeForm=function(t){f.cancelEvent(this),t.id&&t.id.indexOf("audicode")>-1&&(f.lockPrString(o.dpuApi.getPrString()),r.default.resolve(t.response).then(function(t){if(f.detectConfigurationChanges(o.dpuApi.getPrString()))throw new TypeError("receiveAudicodeForm:configuration changed while processing, loaded configuration was rejected");m.handleExternalConfiguration(t,{startType:"audicode-input"})}).then(void 0,function(t){console.warn(t),f.eventBus.emit(i.appEvents.ERROR,[window.i18n["standard-audicode-error"],t.message])}))},f.receiveAudicodeLink=function(t){var e;f.cancelEvent(t),f.lockPrString(o.dpuApi.getPrString()),e=jQuery(this).attr("data-audicode"),m.loadConfigurationByAudiCode(e).then(function(t){if(f.detectConfigurationChanges(o.dpuApi.getPrString()))throw new TypeError("receiveAudicodeLink:configuration changed while processing, loaded chonfiguration was rejected");m.handleExternalConfiguration(t,{startType:"audicode-link"})}).then(void 0,function(t){console.warn(t)})},m.generateAudiCode=function(t){return a.dpuModel.generateAudiCode(t)},f.receivePrstringLink=function(t){f.cancelEvent(t),f.lockPrString(o.dpuApi.getPrString());var e=jQuery(this).attr("data-prstring");m.loadConfigurationByPrString(e).then(function(t){if(f.detectConfigurationChanges(o.dpuApi.getPrString()))throw new TypeError("receivePrstringLink: configuration changed while processing, loaded chonfiguration was rejected");m.handleExternalConfiguration(t,{startType:"prstring-link"})}).then(void 0,function(t){console.warn(t)})},f.lockPrString=function(t){f.lockedPrString=t},f.detectConfigurationChanges=function(t){return f.lockedPrString!==t},m.handleExternalConfiguration=function(t,e){if(!t||t&&t.audicode&&!1===t.audicode.success||t&&t.errorMessage){var n=void 0;if(t.audicode&&!t.audicode.success&&t.audicode&&t.audicode["other-url"])return void(window.location.href=t.audicode["other-url"]);throw n=t&&t.audicode&&t.audicode.message?t.audicode.message:t&&t.errorMessage?t.errorMessage:t&&t.header&&t.header.errormessages?t.header.errormessages.join(","):"unknown_error",new TypeError(n)}if(!e.startType)return a.dpuModel.adoptConfiguration(t).then(function(t){f.handleConfigurationUpdate(t)}).catch(function(t){f.handleConfigurationUpdateError(t)});if(f.startLayerActivated=!0,"user-configuration"===e.startType&&(f.startLayerActivated=!1),l.carlineMapping.isMatchingConfiguration(t))return a.dpuModel.adoptConfiguration(t).then(function(t){f.setConfigurationStartType(e.startType),f.handleConfigurationUpdate(t)}).catch(function(t){f.handleConfigurationUpdateError(t)});var i=o.dpuApi.getSubsessionID();return t.subsession&&(i=t.subsession),t.header&&t.header.subsession&&(i=t.header.subsession),new r.default(function(){l.carlineMapping.useTrampoline(t,i,e.startType),r.default.reject("using trampoline page")}).catch(function(t){console.err("Trampoline failed",t)})},f.setConfigurationStartType=function(t){a.dpuModel.setConfigurationStartType(t)},f.handleConfigurationUpdate=function(){f.eventBus.emit(i.appEvents.CONFIG_UPDATE),f.dispatchCustomEvent(),f.checkLayerQueue()},f.dispatchCustomEvent=function(){try{var t=o.dpuApi.getItems(),e=new CustomEvent("configurationItemsUpdate",{detail:{items:t}});document.dispatchEvent(e)}catch(t){console.error("dispatchCustomEvent: ","the custom-event for the configuration-change could not be dispatched",t)}},f.checkLayerQueue=function(){var t,e;e=o.dpuApi.getTransfers(),t=o.dpuApi.getConflicts();var n=!e&&!t,r=o.dpuApi.getConfigurationStartType();if(f.startLayerActivated&&n&&!o.dpuApi.isContinuedConfiguration()&&"default"!==r&&"configuration-change"!==r){if(f.startLayerActivated=!1,"configuration-reset"===r)return f.handleStartLayerDemand(),!1;var i={configuration:o.dpuApi.getConfiguration(),assets:o.dpuApi.getConfigurationAssets(),ms_url:o.dpuApi.getRenderUrl(),start_type:r};return f.handleStartLayerDemand(i),!1}return f.unHandleStartLayerDemand(),e&&o.dpuApi.isContinuedConfiguration()?(c.dpuTransfer.handleTransfer(e),!1):!t||(d.dpuConflict.handleConflict(t),!1)},f.handleStartLayerDemand=function(t){s.startlayer.handleStartLayer(t).then(function(){},function(t){console.warn("handleStartLayerDemand Error",t.message)})},f.unHandleStartLayerDemand=function(){s.startlayer.unHandleStartLayer()},f.handleConflictClose=function(t){var e=new Date;a.dpuModel.requestTransferOrConflictResolve(t.url).then(f.handleConfigurationUpdate).catch(f.handleConfigurationUpdateError).then(function(){f.onAjaxCompleted(e)})},f.handleTransferClose=function(t){if(a.dpuModel.transferCompleted(),t&&t.url){var e=new Date;a.dpuModel.requestTransferOrConflictResolve(t.url).then(f.handleConfigurationUpdate).catch(f.handleConfigurationUpdateError).then(function(){f.onAjaxCompleted(e)})}else f.checkLayerQueue()},f.handleStartlayerClose=function(){f.checkLayerQueue()},m.addToConfiguration=function(t){var e={action:"itemAdd",count:null,id:t};return f.eventBus.emit(i.appEvents.CONFIG_CHANGEREQUEST_START,{}),f.triggerChangeRequest(e)},m.removeFromConfiguration=function(t){var e={action:"itemRemove",count:null,id:t};return f.eventBus.emit(i.appEvents.CONFIG_CHANGEREQUEST_START,{}),f.triggerChangeRequest(e)},f.triggerChangeRequest=function(t){var e=new Date;return a.dpuModel.requestConfigurationChange(t).then(function(e){f.updateItemSelectionMethod(t,"active"),f.setConfigurationStartType("configuration-change"),f.handleConfigurationUpdate(e)}).catch(f.handleConfigurationUpdateError).then(function(){f.onAjaxCompleted(e)})},f.updateItemSelectionMethod=function(t,e){var n;n=t.id,"itemAdd"===t.action?a.dpuModel.setItemSelectionMethod(n,e):a.dpuModel.setItemSelectionMethod(n,"")},f.updatePreselectedItems=function(){var t=o.dpuApi.getItems();jQuery.each(t,function(t,e){e.status&&5===e.status.length&&"1"===e.status.substr(3,1)&&a.dpuModel.setItemSelectionMethod(t,"pre")})},f.handleConfigurationUpdateError=function(t){console.error("Configuration Error",t);var e=o.dpuApi.getErrorMessage(t);f.eventBus.emit(i.appEvents.ERROR,e)},f.isIndividualColorConfiguration=function(t){return"Q0Q0"===t||"O0O0"===t||"BODY_Q0"===t||"BODY_O0"===t},f.isSelectableItem=function(t){var e=o.dpuApi.getDOMStatusCode(t).split(""),n=window.mss||null;return!!t.hasClass("nm-j-configurator-item-forceselectable")||"0"!==e[0]&&("0"!==e[1]&&(("1"!==e[4]||"1"!==e[3]||!n)&&(e[2],!0)))},f.cancelEvent=function(t){t&&"function"==typeof t.preventDefault&&t.preventDefault()},f.handleNewConfigurationClick=function(t){f.cancelEvent(t),a.dpuModel.requestConfigurationReset().then(function(t){f.startLayerActivated=!0,a.dpuModel.setConfigurationStartType("configuration-reset"),f.handleConfigurationUpdate(t)}).then(void 0,f.configurationErrors).then(f.onAjaxCompleted)},f.configurationErrors=function(t){console.warn("Configuration Error",t.mesage)},f.addModeSwitchEventAfterReset=function(){var t,e=jQuery("nm-price-rate-switch");e&&(e.checked=!1),f.legacyEventBus.on("change",".nm-price-rate-switch",function(e){t=!0===e.target.checked?"rate":"price",a.dpuModel.changeRatePriceMode(t).then(f.handleConfigurationUpdate).then(void 0,f.configurationErrors).then(f.onAjaxCompleted)})},f.onAjaxCompleted=function(t){f.eventBus.emit(i.appEvents.CONFIG_CHANGEREQUEST_END)},f.initialize=function(){var t;p||(f.addEvents(),p=!0,t=new Date,f.dataInitialized=!1,a.dpuModel.fireDataInitializationChain().then(function(){f.initPreviousConfiguration(),f.updatePreselectedItems(),f.dispatchCustomEvent(),console.info("fireDataInitializationChain completed after "+((new Date).getTime()-t.getTime())+" ms")},function(e){f.initPreviousConfiguration(),console.warn("fireDataInitializationChain failed after "+((new Date).getTime()-t.getTime())+" ms:"+e.message)}))},f.initPreviousConfiguration=function(){var t,e,n,r,a;if(window.location.search&&window.location.search.indexOf("new_config")>-1&&(e=!0),n=l.carlineMapping.getPreviousWindowConfig(),r=l.carlineMapping.getConfigurationRequestParam(),a=u.userConfigurations.getPreviousUserConfigurationPrString(),r&&(r.audicode&&m.loadConfigurationByAudiCode(r.audicode).then(function(t){m.handleExternalConfiguration(t,{startType:"teaser-audicode"})}).then(void 0,function(e){t=o.dpuApi.getErrorMessage(e),f.eventBus.emit(i.appEvents.ERROR,[window.i18n["standard-configuration-error"],t])}),r.prstring&&m.loadConfigurationByPrString(r.prstring).then(function(t){m.handleExternalConfiguration(t,{startType:"teaser-prstring"})}).then(void 0,function(e){t=o.dpuApi.getErrorMessage(e),f.eventBus.emit(i.appEvents.ERROR,[window.i18n["standard-configuration-error"],t])})),n){if(n.carline!==o.dpuApi.getCarline())return l.carlineMapping.useTrampoline(n,n.subsession,n.entryType),null;m.loadConfigurationByPrString(n.prstring,n.subsession).then(function(t){m.handleExternalConfiguration(t,{startType:n.entryType})},function(e){t=o.dpuApi.getErrorMessage(e),f.eventBus.emit(i.appEvents.ERROR,[window.i18n["standard-configuration-error"],t])})}n||r||(e?m.loadConfigurationByPrString(SETUPS.get("nemo.default.prstring")).then(function(t){m.handleExternalConfiguration(t,{startType:"configuration-reset"})},function(t){console.warn(t.message)}):(console.log("previousUserConfigurationPromise - loadConfiguration"),a.then(function(t){m.loadConfigurationByPrString(t).then(function(t){m.handleExternalConfiguration(t,{startType:"user-configuration"})},function(t){console.warn(t.message)})}).catch(function(t){console.warn(t.message)})))},m.loadConfigurationByPrString=function(t,e){return a.dpuModel.loadConfigurationByPrString(t,e)},m.loadConfigurationFromTeaser=function(t,e){var n,a=o.dpuApi.getSubsessionID();return t.prstring?m.loadConfigurationByPrString(t.prstring,a).then(function(t){m.handleExternalConfiguration(t,{startType:e})}).catch(function(t){n=o.dpuApi.getErrorMessage(t),f.eventBus.emit(i.appEvents.ERROR,[window.i18n["standard-configuration-error"],n])}):t.audicode?m.loadConfigurationByAudiCode(t.audicode).then(function(t){m.handleExternalConfiguration(t,{startType:e})}).catch(function(t){n=o.dpuApi.getErrorMessage(t),f.eventBus.emit(i.appEvents.ERROR,[window.i18n["standard-configuration-error"],n])}):r.default.reject("No valid config option found")},m.loadConfigurationByAudiCode=function(t){return a.dpuModel.loadConfigurationByAudiCode(t)},m.listCarstoreItems=function(){return a.dpuModel.sendCarstoreRequest("list")},m.switchCarline=function(t,e,n,r){return a.dpuModel.switchCarline(t,e,n).then(function(){r?a.dpuModel.adoptConfiguration(r).then(function(t){f.handleConfigurationUpdate(t)}).catch(function(t){f.handleConfigurationUpdateError(t)}):(f.eventBus.emit(i.appEvents.CONFIG_RESET),a.dpuModel.setConfigurationStartType("switched-carline"))})},m.loadCarstoreItem=function(t){return a.dpuModel.sendCarstoreRequest("load",{slot:t}).then(function(t){m.handleExternalConfiguration(t,{startType:"carstore"})})},m.deleteCarstoreItem=function(t){return a.dpuModel.sendCarstoreRequest("delete",{slot:t})},m.setSubsessionID=function(t){a.dpuModel.setSubsessionID(t)},m.resetToDefaultSetupParams=function(){a.dpuModel.resetToDefaultSetupParams()},m.getAjaxMarker=function(){var t={marker:"",overwrites:!1};return new r.default(function(e){o.dpuApi.isConfigurable()?(t.marker=o.dpuApi.getMemcacheVersion(),t.overwrites=!0):t.marker=SETUPS.get("nemo.staticversion"),e(t)})},m.setDpuExtra=function(t){a.dpuModel.setDpuExtra(t)},m.initialize=function(t){f.eventBus=t,f.legacyEventBus=jQuery("body"),i.content.registerMarkerProvider(m.getAjaxMarker),f.initialize()},e.dpuController=m},,,,,,,
/*!***********************************************************!*\
  !*** ../node_modules/core-js/library/fn/object/assign.js ***!
  \***********************************************************/
/*! dynamic exports provided */
/*! all exports used */,
/*!***********************************************************!*\
  !*** ../node_modules/core-js/library/fn/object/assign.js ***!
  \***********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){n(/*! ../../modules/es6.object.assign */147),t.exports=n(/*! ../../modules/_core */4).Object.assign},
/*!********************************************************************!*\
  !*** ../node_modules/core-js/library/modules/es6.object.assign.js ***!
  \********************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_export */10);r(r.S+r.F,"Object",{assign:n(/*! ./_object-assign */148)})},
/*!*****************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_object-assign.js ***!
  \*****************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";var r=n(/*! ./_object-keys */29),i=n(/*! ./_object-gops */62),o=n(/*! ./_object-pie */37),a=n(/*! ./_to-object */32),s=n(/*! ./_iobject */68),l=Object.assign;t.exports=!l||n(/*! ./_fails */24)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r})?function(t,e){for(var n=a(t),l=arguments.length,u=1,c=i.f,d=o.f;l>u;)for(var f,m=s(arguments[u++]),p=c?r(m).concat(c(m)):r(m),g=p.length,v=0;g>v;)d.call(m,f=p[v++])&&(n[f]=m[f]);return n}:l},
/*!***********************************************************!*\
  !*** ../node_modules/babel-runtime/core-js/array/from.js ***!
  \***********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){t.exports={default:n(/*! core-js/library/fn/array/from */150),__esModule:!0}},
/*!********************************************************!*\
  !*** ../node_modules/core-js/library/fn/array/from.js ***!
  \********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){n(/*! ../../modules/es6.string.iterator */42),n(/*! ../../modules/es6.array.from */151),t.exports=n(/*! ../../modules/_core */4).Array.from},
/*!*****************************************************************!*\
  !*** ../node_modules/core-js/library/modules/es6.array.from.js ***!
  \*****************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";var r=n(/*! ./_ctx */22),i=n(/*! ./_export */10),o=n(/*! ./_to-object */32),a=n(/*! ./_iter-call */82),s=n(/*! ./_is-array-iter */83),l=n(/*! ./_to-length */46),u=n(/*! ./_create-property */152),c=n(/*! ./core.get-iterator-method */75);i(i.S+i.F*!n(/*! ./_iter-detect */84)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,d,f=o(t),m="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g,h=0,y=c(f);if(v&&(g=r(g,p>2?arguments[2]:void 0,2)),void 0==y||m==Array&&s(y))for(n=new m(e=l(f.length));e>h;h++)u(n,h,v?g(f[h],h):f[h]);else for(d=y.call(f),n=new m;!(i=d.next()).done;h++)u(n,h,v?a(d,g,[i.value,h],!0):i.value);return n.length=h,n}})},
/*!*******************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_create-property.js ***!
  \*******************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";var r=n(/*! ./_object-dp */14),i=n(/*! ./_property-desc */30);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},,,,,,,,,,,,,
/*!**************************************!*\
  !*** ./js/configurator/dpu/model.js ***!
  \**************************************/
/*! dynamic exports provided */
/*! all exports used */,
/*!**************************************!*\
  !*** ./js/configurator/dpu/model.js ***!
  \**************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dpuModel=void 0;var r=s(n(/*! babel-runtime/core-js/object/assign */72)),i=s(n(/*! babel-runtime/core-js/promise */11)),o=n(/*! ../../application-bundle */3),a=n(/*! core-utils */0);function s(t){return t&&t.__esModule?t:{default:t}}var l={},u={__:l},c=!1;l.oDefaults={actionsLookup:{itemAdd:"set",removeItem:"remove",itemRemove:"remove"}},l.configurationStartType="default",l.configurationContinued=!1,l.dataInitialized=!1,l.configurationEndpoint="configuration",l.dpuExtra="",l.storage={configuration:null,conflicts:null,transfers:null,items:null,defaultPrString:null,header:null,families:null,searchstopwords:null,modelsInfo:null},l.sendResetRequest=function(){l.checkDefaultSetup();var t=u.getDpuUrl()+l.configurationEndpoint,e={context:u.getContext(),ids:l.getDefaultPrString()};return e=l.addDpuExtraData(e),e=l.addSubsessionData(e),a.ajax.getJSON(t,e).then(l.checkDPUresponseStatus)},u.changeRatePriceMode=function(t){return l.checkDefaultSetup(),new i.default(function(e,n){var r,i,o,s,c,d;if(((c=u.getHeader())&&c.mode?c.mode:"price")===r)return n(new TypeError("Rate/Price mode did not change")),null;o=u.getContext(),d=encodeURIComponent(u.getPrString()),r="rate"===t?"rate":"price",s=l.isStatelessMode?"":u.getSubsessionID()?"subsession="+u.getSubsessionID()+"&":"",i=u.getDpuUrl()+l.configurationEndpoint+"?"+s+"context="+o+"&ids="+d+"&mode="+r,i=l.addDpuExtraParam(i),a.ajax.getJSON(i).then(l.checkDPUresponseStatus).then(function(t){l.setConfigurationRaw(t),e(!0)},function(t){n(new TypeError("Error switching priceRateMode: "+t.message))})})},l.sendChangeRequest=function(t){var e=u.getDpuUrl()+l.configurationEndpoint,n=l.generateRequestData(t);return n=l.addDpuExtraData(n),n=l.addSubsessionData(n),a.ajax.getJSON(e,n).then(l.checkDPUresponseStatus)},l.setStatelessParams=function(t){var e=u.getConflicts();return l.isStatelessMode&&e&&(e.triggerIds&&(t.trigger=e.triggerIds),e.choiceIds&&(t.choices=e.choiceIds)),t},l.generateRequestData=function(t){var e=u.getSubsessionID(),n=l.oDefaults.actionsLookup[t.action]||"missing_action",r=t.id,i={context:u.getContext(),ids:u.getPrString()};return t.count&&(r+="*"+t.count),i[n]=r,i=l.setStatelessParams(i),e&&!l.isStatelessMode&&(i.subsession=e),l.isDebugMode()&&(i.dpu_extra="messages"),i},l.isDebugMode=function(){var t=document.querySelector("html");return new RegExp("(^| )nm-state-is-debug( |$)","gi").test(t.className)},u.getVersion=function(){var t=u.getHeader();return t&&t.version?t.version:null},u.getStaticVersion=function(){var t=SETUPS.get("nemo.staticversion");return t||null},u.isInitialized=function(){return l.dataInitialized},u.getMemcacheVersion=function(){var t,e,n="",r=u.getDpuHeader();return r&&(r.version&&(n=r.version),r.taggedVersion?n=r.taggedVersion:r.marketVersion&&(n=r.marketVersion),!!r.taggedVersion&&!!r.marketVersion&&r.manualRevision&&parseInt(r.manualRevision,10)>0&&(n+="."+r.manualRevision)),t=u.getStaticVersion(),(e=SETUPS.get("nemo.build.time"))&&t&&e!==t&&(n+="."+t),n&&0===n.toString().indexOf(".")&&(n=n.substring(1)),n},u.getContext=function(){var t=u.getHeader();return t&&t.context?t.context:null},u.getSubsessionID=function(){var t=u.getHeader();return t&&t.subsession?t.subsession:null},u.setSubsessionID=function(t){l.storage.header.subsession=t},u.getPrString=function(){var t=u.getConfiguration();return t&&t.prstring?t.prstring:null},l.getDefaultPrString=function(){return l.storage.defaultPrString||null},l.setDefaultPrString=function(t){l.storage.defaultPrString=t||null},u.handleConfigurationResponse=function(t){return l.setConfigurationRaw(t)},u.adoptConfiguration=function(t){return new i.default(function(e){e(l.setConfigurationRaw(t))})},l.setPrice=function(t){t&&t.configuration&&t.configuration.prices&&t.configuration.prices.rotr&&(l.storage.configuration.rotrprice=t.configuration.prices.rotr)},l.setConfigurationRaw=function(t){var e,n=!0,r=u.getPrString();return l.setHeader(t),l.setAudicode(t),l.setConfiguration(t),l.setPrice(t),l.setItems(t),l.setFamilies(t),l.storage.searchstopwords=t.searchstopwords||l.storage.searchstopwords||null,l.setConflictsAndTransfers(t),!!t.configuration&&(l.getDefaultPrString()||(e=SETUPS.get("nemo.default.prstring")||t.configuration.prstring,l.setDefaultPrString(e)),r&&r===u.getPrString()&&(n=!1),n)},l.setFamilies=function(t){t&&t.families&&(l.storage.families=jQuery.extend(!0,l.storage.families,t.families))},u.getFamilies=function(){return l.storage.families||null},l.setConflictsAndTransfers=function(t){l.storage.conflicts=t.conflicts||null,l.storage.transfers=t.transfers||null},l.setAudicode=function(t){l.storage.audicode=!(!t.audicode||!t.audicode.id)&&t.audicode.id},l.setConfiguration=function(t){l.storage.configuration=jQuery.extend(!1,l.storage.configuration,t.configuration)},l.setHeader=function(t){var e;t&&t.header&&(e=l.storage&&l.storage.header&&l.storage.header.version?{version:l.storage.header.version}:{},l.storage.header=jQuery.extend(!0,l.storage.header,t.header,e))},l.setItems=function(t){var e,n;if("full"===t.itemsUpdateMode&&t.items)for(e in l.storage.items)l.storage.items.hasOwnProperty(e)&&l.storage.items[e].status&&(l.storage.items[e].status="00000");else for(n in console.log("DPU_MODEL.setItems::incrmental update"),t.items)t.items[n].packageDescription||(t.items[n].packageDescription="");for(n in t.items)t.items[n].subname?t.items[n].subname="("+t.items[n].subname+")":t.items[n].subname="";for(e in l.storage.items=jQuery.extend(!0,l.storage.items,t.items),l.storage.items)l.storage.items.hasOwnProperty(e)&&("11001"!==l.storage.items[e].status&&"10011"!==l.storage.items[e].status||(l.storage.items[e].price=window.i18n&&window.i18n.standard||"***Serie***"))},l.sendVersionRequest=function(){var t=u.getDpuUrl()+"version",e=u.getCarline();if(!e)return i.default.reject(new TypeError("no carline defined for version request"));var n={context:u.getContext(),carline:e};return n=l.addDpuExtraData(n),a.ajax.getJSON(t,n).then(l.checkDPUresponseStatus)},l.handleVersionResponse=function(t){var e,n=t.items,r=[];if(n)for(e in n)n.hasOwnProperty(e)&&!0===n[e].hidden&&r.push(e);l.storage.header=t.header,l.storage.headerItems=r,l.eventBus.emit(o.appEvents.VERSION_LOAD_COMPLETE)},l.sendCarinfoRequest=function(){var t=l.getCarinfoUrl(),e=l.addDpuExtraData({});return e=l.addSubsessionData(e),a.ajax.getJSON(t,e).then(l.checkDPUresponseStatus)},l.handleCarinfoResponse=function(t){console.log("handleCarinfoResponse",t,u.isConfigurationStarted()),u.isConfigurationStarted()?(l.setFamilies(t),l.updateItemsFromCarinfo(t.items)):u.handleConfigurationResponse(t),l.eventBus.emit(o.appEvents.CARINFO_LOAD_COMPLETE)},l.sendModelsinfoRequest=function(){var t=l.getModelsinfoUrl(),e=l.addDpuExtraData({});return e=l.addSubsessionData(e),a.ajax.getJSON(t,e).then(l.checkDPUresponseStatus)},l.handleModelsinfoResponse=function(t){console.log("handleModelsinfoResponse",t,u.isConfigurationStarted()),l.setModelsInfo(t.models),l.eventBus.emit(o.appEvents.MODELSINFO_LOAD_COMPLETE)},l.setModelsInfo=function(t){l.storage.modelsInfo=t||null},u.getModelsInfo=function(t){var e;return t?((e=l.storage.modelsInfo)?e[t]:null)||null:l.storage.modelsInfo||null},l.updateItemsFromCarinfo=function(t){var e=jQuery.extend(!0,{},u.getItems());if(!t)return console.log("Carinfo Items missing!"),!1;l.storage.items=t,l.storage.items=jQuery.extend(!0,l.storage.items,e)},l.handleAjaxError=function(t){console.error("Error",t)},l.getCarinfoUrl=function(){var t=SETUPS.get("nemo.url.carinfo");return t?t=t.split(".json").join("."+u.getMemcacheVersion()+".json"):null},l.getModelsinfoUrl=function(){var t=SETUPS.get("nemo.url.modelsinfo");return t?t=t.split(".json").join("."+u.getMemcacheVersion()+".json"):null},l.setLoginState=function(t){var e=u.getHeader();e&&(e["logged-in"]=t)},u.sendCarstoreRequest=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l.checkDefaultSetup();if(!["list","delete","load"].includes(t))return i.default.reject(new TypeError("sendCarestoreRequest: invalid actionStr"));e.slot||(e.slot=null);var n=u.getDpuUrl()+"carstore",o={action:t,context:u.getContext(),subsession:u.getSubsessionID()},s=(0,r.default)({},o,e);return s=l.addDpuExtraData(s),a.ajax.getJSON(n,s).then(l.checkDPUresponseStatus)},l.getFilteredPrNumbersFromCurrentConfig=function(t){var e,n,r,i,o,a=u.getPrString().split("|"),s=[];for(e=0,r=a.length,i=t.length;e<r;e++){for(o=!0,n=0;n<i;n++)a[e].indexOf(t[n])>-1&&(o=!1);!0===o&&s.push(a[e])}return s},u.sendRenderServiceRequest=function(t,e,n,r){l.checkDefaultSetup();var i=u.getDpuUrl()+"stateless-render-service",o=l.getFilteredPrNumbersFromCurrentConfig(t),s={context:u.getContext(),ids:o.join("|"),"render-prnrs":e,"render-views":n,"render-sizes":r};return s=l.addDpuExtraData(s),a.ajax.getJSON(i,s).then(l.checkDPUresponseStatus)},u.sendCarstoreHistoryRequest=function(t){l.checkDefaultSetup();var e=u.getDpuUrl()+"history",n=t;t&&""!==n&&void 0!==n||(n={}),n.slot&&""!==n.slot&&void 0!==n.slot||(n.slot=null);var i={context:u.getContext(),subsession:u.getSubsessionID()};return i=(0,r.default)(i,n),i=l.addDpuExtraData(i),a.ajax.getJSON(e,i)},u.setLogin=function(t,e){return new i.default(function(n,r){"boolean"==typeof t&&e?(u.setSubsessionID(e),l.setLoginState(t),n(t)):(l.setLoginState(!1),r(new TypeError("login failure")))})},u.requestConfigurationChange=function(t){return new i.default(function(e,n){l.sendChangeRequest(t).then(function(t){e(u.handleConfigurationResponse(t))},function(t){n(t)})})},u.requestConfigurationReset=function(){return new i.default(function(t,e){l.sendResetRequest().then(function(e){t(u.handleConfigurationResponse(e))},function(t){e(t)})})},u.setItemSelectionMethod=function(t,e){var n=u.getItems();n&&n[t]&&(n[t].selectionMethod=e||null)},u.requestTransferOrConflictResolve=function(t){return new i.default(function(e,n){var r=l.addDpuExtraParam(t);a.ajax.getJSON(r).then(l.checkDPUresponseStatus).then(function(t){e(u.handleConfigurationResponse(t))},function(t){n(t)})})},u.loadConfigurationByAudiCode=function(t){l.checkDefaultSetup();var e=u.getDpuUrl()+"audicode",n=t;void 0!==n&&(n=n.toUpperCase());var r={context:u.getContext(),audicode:n};return r=l.addDpuExtraData(r),r=l.addSubsessionData(r),a.ajax.getJSON(e,r).then(l.checkDPUresponseStatus)},u.generateAudiCode=function(t){l.checkDefaultSetup();var e=u.getDpuUrl()+"audicode",n=t;n&&""!==n&&void 0!==n||(n={});var i={context:u.getContext(),ids:u.getPrString(),subsession:u.getSubsessionID()};return i=(0,r.default)(i,n),i=l.addDpuExtraData(i),a.ajax.getJSON(e,i).then(l.checkDPUresponseStatus)},u.loadConfigurationByPrString=function(t,e){l.checkDefaultSetup();var n=u.getDpuUrl()+l.configurationEndpoint,r={context:u.getContext(),ids:t},i=void 0;return e&&!l.isStatelessMode&&(r.subsession=e),r=l.addDpuExtraData(r),a.ajax.getJSON(n,r).then(l.checkDPUresponseStatus).catch(function(e){throw"PRSTRING_MODEL_NOT_FOUND"===e.id&&(i=new CustomEvent("TNT_ERROR",{detail:{errorCode:e.id,prString:t}}),document.dispatchEvent(i)),e})},u.getHeader=function(){return l.storage.header||null},u.getHiddenItemIDsFromVersion=function(){return l.storage.headerItems||null},u.getSearchStopWords=function(){return l.storage.searchstopwords||null},u.transferCompleted=function(){l.storage.transfers=null},u.fireDataInitializationChain=function(){return l.dataInitialized=!1,l.checkDefaultSetup(),l.sendVersionRequest().then(l.handleVersionResponse).then(l.getSignedLink).then(l.sendCarinfoRequest).then(l.handleCarinfoResponse).then(l.sendModelsinfoRequest).then(l.handleModelsinfoResponse).then(function(){l.dataInitialized=!0})},u.getConflicts=function(){return l.storage.conflicts||null},u.getDpuHeader=function(){return l.storage.header||null},u.getTransfers=function(){return l.storage.transfers||null},u.getRecommendations=function(){return l.storage.configuration.recommendations||[]},u.getAudicode=function(){return l.storage.audicode||!1},u.getConfiguration=function(){return l.storage.configuration||null},u.getItems=function(){return l.storage.items||null},u.getCarline=function(){var t=u.getConfiguration();return t&&t.carline?t.carline:SETUPS.get("nemo.default.carline")||null},u.getDpuUrl=function(){return SETUPS.get("nemo.url.dpu")||null},u.isConfigurationStarted=function(){return l.configurationStartType&&"default"!==l.configurationStartType},u.getFamilies=function(){return l.storage.families||null},u.hasCustomConfiguration=function(){return u.isConfigurationStarted()&&l.getDefaultPrString()!==u.getPrString()},u.isContinuedConfiguration=function(){return l.configurationContinued},l.getSignedLink=function(){var t=SETUPS.get("nemo.url.preview");if(t){var e=l.addDpuExtraData({});return a.ajax.getJSON(t,e).then(l.checkDPUresponseStatus).then(function(t){l.handleSignedLinkResponse(t)}).then(void 0,function(t){console.warn("loading signedPreviewUrl failed: "+t.message)})}return i.default.resolve("no signedPreviewUrl available")},l.handleSignedLinkResponse=function(t){console.log("Signed Link loaded",t),l.setConfigurationRaw(t)},u.switchCarline=function(t,e,n){l.checkDefaultSetup();var r=void 0;return e&&t?(SETUPS.set("nemo.default.carline",t),SETUPS.set("nemo.url.carinfo",e),SETUPS.set("nemo.url.modelsinfo",n),r={configuration:{carline:t},header:{context:u.getContext()}},l.clearConfigurationData(r),u.fireDataInitializationChain()):i.default.reject("switchCarline: missing params for initialization!")},l.clearConfigurationData=function(t){var e;if(l.configurationContinued=!1,l.configurationStartType="default",l.clearStorage(),t&&t)for(e in t)t[e]&&(l.storage[e]=t[e])},l.clearStorage=function(){l.storage={configuration:null,conflicts:null,transfers:null,items:null,defaultPrString:null,header:null,families:null,searchstopwords:null}},u.setConfigurationStartType=function(t){if("default"===u.getConfigurationStartType()&&"configuration-change"===t)return l.configurationContinued=!1,l.configurationStartType=t,void l.eventBus.emit(o.appEvents.CONFIG_START,l.configurationStartType);"configuration-change"!==t?(l.configurationStartType=t,l.configurationContinued=!1,l.eventBus.emit(o.appEvents.CONFIG_START,l.configurationStartType)):l.configurationContinued=!0},l.checkDPUresponseStatus=function(t){if(t.header&&t.header.statuscode){var e=Math.floor(t.header.statuscode/100);3!==e&&5!==e||l.setupAndThrowError(t)}return t},l.setupAndThrowError=function(t){var e=new Error;if(e.status=t.statuscode,t.audicode&&t.audicode.message&&(e.name="custom-dpu-error"),t.header&&t.header.error){if(e.id=t.header.error.id,"HIDDEN_CARLINE"===e.id)return void l.sendModalWltpErrorLayerEvent();t.header.error.message?e.message=t.header.error.message:t.header.statusmessage&&(e.message=t.header.statusmessage)}throw e},l.sendModalWltpErrorLayerEvent=function(){var t={layerType:"ModalWltpErrorLayerElement",clickOnShaderClosesModal:!1,isLayerClosable:!1,dataset:{headline:window.i18n["error.no_wltp_data.modal_layer.headline"],messageType:"string",message:window.i18n["error.no_wltp_data.modal_layer.message"],actionButtonLinkText:window.i18n["error.no_wltp_data.modal_layer.link.text"],actionButtonLinkUrl:window.i18n["error.no_wltp_data.modal_layer.link.url"]}},e=new CustomEvent("MODAL_LAYER_OPEN",{detail:t});document.dispatchEvent(e)},u.getConfigurationStartType=function(){return l.configurationStartType},u.resetToDefaultSetupParams=function(){var t={prstring:SETUPS.get("nemo.default.prstring"),header:SETUPS.get("nemo.default.header"),configuration:SETUPS.get("nemo.default.configuration"),items:SETUPS.get("nemo.minimal.carinfoitems")||{}};l.clearConfigurationData(t)},l.checkDefaultSetup=function(){c||(l.isStatelessMode=SETUPS.get("scope.nemo.configuration.stateless"),l.configurationEndpoint=l.isStatelessMode?"stateless-configuration":"configuration",c=!0,u.resetToDefaultSetupParams())},u.setDpuExtra=function(t){l.dpuExtra=t,window.sessionStorage&&(t?window.sessionStorage.setItem("dpu_extra",t):window.sessionStorage.removeItem("dpu_extra"))},u.getDpuExtra=function(){var t="";return l.dpuExtra?t=l.dpuExtra:l.isDebugMode()&&(t="messages"),t},l.restoreDpuExtra=function(){window.sessionStorage&&(l.dpuExtra=window.sessionStorage.getItem("dpu_extra"))},l.addDpuExtraData=function(t){var e=u.getDpuExtra();return e&&(t.dpu_extra=e),t},l.addDpuExtraParam=function(t){var e=u.getDpuExtra();return e?t.indexOf("?")>=0?t+"&dpu_extra="+e:t+"?dpu_extra="+e:t},l.addSubsessionData=function(t){var e=u.getSubsessionID();return e&&(t.subsession=e),t},u.initialize=function(t){l.eventBus=t,l.checkDefaultSetup(),l.restoreDpuExtra()},e.dpuModel=u},
/*!***************************************************************!*\
  !*** ../node_modules/babel-runtime/core-js/object/entries.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){t.exports={default:n(/*! core-js/library/fn/object/entries */193),__esModule:!0}},,,,,,,,,,,,,,,,,,,,,,,,
/*!************************************!*\
  !*** ./js/configurator/ave/api.js ***!
  \************************************/
/*! dynamic exports provided */
/*! all exports used */,
/*!************************************!*\
  !*** ./js/configurator/ave/api.js ***!
  \************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.aveApi=void 0;var r=n(/*! core-utils */0),i=n(/*! ../../application-bundle */3),o=n(/*! ../dpu/api */27),a=n(/*! ./dom */216),s={},l={__:s};s.oDefaults={sSelectorAnimationListSelector:".nm-ave-animation-selection"},s.debugEnabled=!0,s.zlLoaded=!1,s.zlValidated=!1,s.zlEnvLive="live",s.zlEnvStaging="prelive",s.zlCustomerLive="audi",s.zlCustomerStaging="audi",s.zlboltURL="//zlbolt.zlthunder.net/v1/zlbolt.min.js",s.zlboltURLPre="//zlbolt.zlthunder.net/v1pre/zlbolt.min.js",s.cameraMappings={closeup_lights:"FrontRightShare",closeup_wheels:"Rims",dashboard:"Interior",exterior:"MRVSide",exterior_back:"MRV4",exterior_front:"MRV1",exterior_straight_back:"MRV5",exterior_straight_front:"MRV6",interior:"InteriorSide_L0L",rearseat:"Interior_Rear_View"},s.defaultCamera="MRV1",s.zlGetCustomer=function(){var t=s.zlCustomerLive,e=SETUPS.get("ave3d.customer");return s.zlLoaded||s.debug("zlbolt not yet loaded"),-1===document.location.host.indexOf("pre-")&&-1===document.location.host.indexOf("nemo-t")&&-1===document.location.host.indexOf("local")||(t=s.zlCustomerStaging),e&&(s.debug("override zlbolt customer with "+e),t=e),t},s.zlGetEnv=function(){var t=s.zlEnvLive,e=SETUPS.get("ave3d.env");return s.zlLoaded||s.debug("zlbolt not yet loaded"),-1===document.location.host.indexOf("pre-")&&-1===document.location.host.indexOf("nemo-t")&&-1===document.location.host.indexOf("local")||(t=s.zlEnvStaging),e&&(s.debug("override zlbolt env with "+e),t=e),t},s.zlValidate=function(){var t;s.zlLoaded?"undefined"!=typeof zlbolt?!1===s.zlValidated&&(t=s.buildUpValidateObject(),zlbolt.validate(t,function(t,e){e&&"valid"===e.status?(s.zlValidated=!0,s.eventBus.emit(i.appEvents.AVE_AVAILABLE)):e&&e.reason?s.debug("zl validation failed: "+e.reason):s.debug("zl validation failed")})):s.debug("failed zlbolt.validate"):s.debug("zlbolt not yet loaded")},s.zlSetReady=function(){s.debug("zlbolt loaded"),s.zlLoaded=!0,s.zlValidate()},s.prepareZLboltURL=function(){var t=SETUPS.get("ave3d.url");-1===document.location.host.indexOf("nemo-t")&&-1===document.location.host.indexOf("local")||(s.zlboltURL=s.zlboltURLPre),t&&(s.debug("override zlbolt url with "+t),s.zlboltURL=t)},s.zlSetAveString=function(t){s.zlLoaded?zlbolt.setPrCodes(t,function(t){s.debug("set prcodes with msg: ",t)}):s.debug("zlbolt not yet loaded")},s.zlDisconnect=function(t,e){if(s.zlLoaded&&"undefined"!=typeof zlbolt&&!0===s.isConnected){s.debug("disconnect from zlbolt");try{zlbolt.disconnect(function(){t(e)})}catch(n){s.debug("zl exception on disconnect: "+n),t(e)}s.isConnected=!1}else t(e)},s.zlActivateCamera=function(t){var e=s.cameraMappings[t];zlbolt.switchCamera(e,function(t){s.debug("switched camera to "+e+" with result",t)})},s.zlSetConnectCallbacks=function(t,e){zlbolt.isSupported(function(n,r){if(n||!r)return s.debug("zl this browser is not supported"),!1;zlbolt.connect(s.buildUpConnectObject(t,e),function(t){t?(s.debug("zlbolt connect exited in error state: ",t),s.isConnected=!1):(s.debug("zlbolt connected"),s.isConnected=!0)})}),zlbolt.onStreamReady=function(){!0===s.streamActive&&s.debug("stream already active - possible side effect"),s.streamActive=!0,s.isConnected=!0,s.eventBus.on(i.appEvents.CONFIG_UPDATE,s.handlerConfigUpdated),s.zlBuildOptionsControl(),zlbolt.enableMouseTracking(),window.addEventListener("resize",a.aveDom.resizeStreamWrapper),s.eventBus.emit(i.appEvents.AVE_STREAM_READY),a.aveDom.resizeStreamWrapper()},zlbolt.onMouseUp=function(t){s.debug("mouse up with x:"+t.x+" and y:"+t.y)},zlbolt.onError=function(t){s.debug("zlbolt Error: ",t)},zlbolt.onStreamDisconnect=function(){s.debug("zlbolt StreamDisconnect"),s.eventBus.off(i.appEvents.CONFIG_UPDATE,s.handlerConfigUpdated),window.removeEventListener("resize",a.aveDom.resizeStreamWrapper),s.streamActive=!1},zlbolt.onClose=function(){s.debug("zlbolt stream close"),s.streamActive=!1}},s.zlConnect=function(t,e){return s.zlLoaded?"undefined"==typeof zlbolt?(s.debug("failed zlConnect"),!1):(s.debug("zlbolt StreamReady"),void s.zlSetConnectCallbacks(t,e)):(s.debug("zlbolt not yet loaded"),!1)},s.zlBuildOptionsControl=function(){s.debug("build options control"),zlbolt.enumerateAnimations(function(t){var e=r.dom.getElement(s.oDefaults.sSelectorAnimationListSelector),n=document.createElement("div");if(r.dom.isElement(e))for(n.innerHTML=a.aveDom.renderAnimationControls(t.animations);n.firstChild;)e.appendChild(n.firstChild);r.dom.getEventDelegate("body").on("click",".nm-avectrl-animation",s.zlTriggerAnimation)}),zlbolt.enumerateEnvironments(function(t){var e=r.dom.getElement(s.oDefaults.sSelectorAnimationListSelector),n=document.createElement("div");if(r.dom.isElement(e)&&t.environments.length>1){for(n.innerHTML=a.aveDom.renderEnvironmentControls(t.environments);n.firstChild;)e.appendChild(n.firstChild);r.dom.getEventDelegate("body").on("click",".nm-avectrl-environment",s.zlTriggerEnvironmentChange)}}),a.aveDom.enableOptions()},s.zlTriggerAnimation=function(t){var e=r.dom.closest(t.target,".nm-avectrl-animation").getAttribute("data-animation");console.log("trigger animation "+e),zlbolt.triggerAnimation(e,function(t){console.log("triggered "+e+" with result",t)})},s.zlTriggerEnvironmentChange=function(t){var e=r.dom.closest(t.target,".nm-avectrl-environment").getAttribute("data-environment");console.log("trigger environment change "+e),zlbolt.switchEnvironment(e,function(t){console.log("triggered "+e+" with result",t)})},s.handlerConfigUpdated=function(){s.zlSetAveString(o.dpuApi.getAveString().split(","))},s.mapViewPerspeciveToCamera=function(t){return t in s.cameraMappings?s.cameraMappings[t]:(s.debug("falling back to default camera from "+t),s.defaultCamera)},s.getActiveProtocol=function(){return document.location.protocol.indexOf("https")>-1?"https":"http"},s.buildUpValidateObject=function(){return{connectionParameters:{protocol:s.getActiveProtocol(),customer:s.zlGetCustomer(),environment:s.zlGetEnv()},car:{manufacturer:"audi",model:o.dpuApi.getCarline(),year:o.dpuApi.getModelYear()}}},s.buildUpConnectObject=function(t,e){var n=o.dpuApi.getAveString(),r=s.buildUpValidateObject();return r.resolution={x:1112,y:668},r.parent=t,r.setupCamera=s.mapViewPerspeciveToCamera(e),n&&(r.setupPrCodes=n.split(",")),r},s.debug=function(t){s.debugEnabled&&console.log("ave-api: "+t)},l.isActiveCarline=function(){return"1"===SETUPS.get("scope.ave3d")&&"true"===SETUPS.get("ave3d.aveEnabled")},l.showPerspective=function(t){s.zlActivateCamera(t)},l.isAveAvailable=function(){return s.zlValidated},l.deactivate=function(t){s.zlDisconnect(a.aveDom.deactivateAveCanvas,t)},l.activateAVE=function(t,e){a.aveDom.activateAveCanvas(t),s.zlConnect(t,e)},l.moveAVE=function(t,e,n){console.log("moving from "+t+" to "+e),zlbolt.moveStream(e),a.aveDom.moveAveCanvas(t,e),void 0!==n&&!1!==n&&s.zlActivateCamera(n)},l.initialize=function(t){s.eventBus=t,l.isActiveCarline()&&(s.prepareZLboltURL(),r.jsLoader.loadURL(s.zlboltURL).then(s.zlSetReady))},e.aveApi=l},
/*!************************************************************!*\
  !*** ../node_modules/core-js/library/fn/object/entries.js ***!
  \************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){n(/*! ../../modules/es7.object.entries */194),t.exports=n(/*! ../../modules/_core */4).Object.entries},
/*!*********************************************************************!*\
  !*** ../node_modules/core-js/library/modules/es7.object.entries.js ***!
  \*********************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_export */10),i=n(/*! ./_object-to-array */195)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},
/*!*******************************************************************!*\
  !*** ../node_modules/core-js/library/modules/_object-to-array.js ***!
  \*******************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r=n(/*! ./_object-keys */29),i=n(/*! ./_to-iobject */23),o=n(/*! ./_object-pie */37).f;t.exports=function(t){return function(e){for(var n,a=i(e),s=r(a),l=s.length,u=0,c=[];l>u;)o.call(a,n=s[u++])&&c.push(t?[n,a[n]]:a[n]);return c}}},,,,,,,,,,,,,,,,,,,
/*!*************************************!*\
  !*** ./js/configurator/audicode.js ***!
  \*************************************/
/*! dynamic exports provided */
/*! all exports used */,
/*!*************************************!*\
  !*** ./js/configurator/audicode.js ***!
  \*************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.audicode=void 0;var r=l(n(/*! babel-runtime/core-js/promise */11)),i=l(n(/*! qrcode-generator */279)),o=n(/*! ../application-bundle */3),a=n(/*! core-utils */0),s=n(/*! ./dpu/api */27);function l(t){return t&&t.__esModule?t:{default:t}}var u={},c={__:u};u.audicode=null,u.eventBus=null,u.selectors={audicodeLink:".nm-j-audicode-link"},u.clickCallback=function(t){t.preventDefault();var e=a.dom.closest(t.target,u.selectors.audicodeLink);if("_blank"===e.getAttribute("target")){var n=window.open("","_blank");u.clickAudicodeLink(e,n)}else u.clickAudicodeLink(e,window)},u.addEvents=function(){u.eventBus.addListener(o.appEvents.CONFIG_UPDATE,u.deleteAudicode),u.eventBus.addListener(o.appEvents.LAYER_LOADED,u.onLayerLoaded),u.legacyEventBus.on("click",u.selectors.audicodeLink,u.clickCallback)},u.removeEvents=function(){u.eventBus.removeListener(o.appEvents.CONFIG_UPDATE,u.deleteAudicode),u.eventBus.removeListener(o.appEvents.LAYER_LOADED,u.onLayerLoaded),u.legacyEventBus.off("click",u.selectors.audicodeLink,u.clickCallback)},u.deleteAudicode=function(){u.audicode=null,u.eventBus.emit(o.appEvents.AUDICODE_DELETED)},u.loadAudiCodeRequest=function(t){var e=t||s.dpuApi.getPrString(),n=s.dpuApi.getDpuUrl()+"audicode";return a.ajax.getJSON(n,{context:s.dpuApi.getContext(),subsession:s.dpuApi.getSubsessionID()||"",ids:e})},u.hasAudicode=function(t){return!!t&&!!t.header&&200===t.header.statuscode&&t.audicode&&!!t.audicode.id},c.loadAudiCode=function(){return new r.default(function(t,e){u.audicode&&u.prString&&u.prString===s.dpuApi.getPrString()?t(u.audicode):(u.audicode=null,u.loadAudiCodeRequest().then(function(n){u.hasAudicode(n)?(u.audicode=n.audicode.id,n.header.subsession&&s.dpuApi.setSubsessionID(n.header.subsession),u.prString=s.dpuApi.getPrString(),u.eventBus.emit(o.appEvents.AUDICODE_SUCCESS),t(u.audicode)):(u.eventBus.emit(o.appEvents.AUDICODE_FAILED),e(new TypeError("load AudiCode failed")))},function(t){console.error(t),u.eventBus.emit(o.appEvents.AUDICODE_FAILED),e(new TypeError("load AudiCode error: "+t.message))}))})},u.isAudicodeFieldOnPage=function(){return a.dom.isElement(".nm-j-audicode")},c.getAudicode=function(){return u.audicode},u.onLayerLoaded=function(){u.isAudicodeFieldOnPage()&&c.loadAudiCode().then(u.onAudiCodeLoaded).catch(function(t){u.error(t)})},u.onAudiCodeLoaded=function(){u.audicode&&(u.generateQrCode(),a.dom.getElementsArray(".nm-j-audicode").forEach(function(t){return t.innerHTML=u.audicode}),a.dom.getElementsArray(".nm-j-audicode-show").forEach(function(t){return t.classList.remove("nm-j-audicode-failure","nm-j-audicode-loading")}))},u.generateQrCode=function(){var t=a.dom.getElement(".nm-j-audicode-qrcode"),e=void 0,n=void 0;a.dom.isElement(t)&&(t.innerHTML="",e=t.getAttribute("data-qr-url"),(n=new i.default(4,"L")).addData(e+u.audicode),n.make(),t.innerHTML=n.createSvgTag(4,0))},u.clickAudicodeLink=function(t,e){null===u.audicode?c.loadAudiCode().then(function(){u.setAudiCodeUrlAsLocation(t,e)}).catch(function(t){u.error(t)}):u.setAudiCodeUrlAsLocation(t,e)},u.setAudiCodeUrlAsLocation=function(t,e){var n=void 0;n=(n=t.getAttribute("data-link-pattern")).replace("{{=audicode}}",u.audicode),e.location.href=n},u.error=function(t){a.dom.getElement(".nm-j-audicode-show").classList.add("nm-j-audicode-failure"),console.log(t)},c.initialize=function(t){u.eventBus=t,u.legacyEventBus=a.dom.getEventDelegate("body"),u.addEvents()},e.audicode=c},
/*!************************************!*\
  !*** ./js/configurator/ave/dom.js ***!
  \************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.aveDom=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! babel-runtime/core-js/object/keys */49)),i=n(/*! core-utils */0),o=n(/*! ./ave-canvas-template */280);var a={},s={__:a};window.i18n=window.i18n||{},a.optionMappings={Trunk:window.i18n["rendering-layer.option-trunk"],Doors:window.i18n["rendering-layer.option-doors"],MMI:window.i18n["rendering-layer.option-mmi"],RTTVoid:window.i18n["rendering-layer.option-env-grey"],WhiteVoid:window.i18n["rendering-layer.option-env-white"],Tunnel_Env:window.i18n["rendering-layer.option-Tunnel_Env"],Iceland_Void:window.i18n["rendering-layer.option-Iceland_Void"],SoftTop:window.i18n["rendering-layer.option-SoftTop"]},a.oDefaults={sClassHidden:"nm-hidden",sClassActive:"nm-active",sClassSelectorClosed:"nm-icon-expand-white",sClassSelectorOpen:"nm-icon-collapse-white",sSelectorOptionsSelectorWrapper:".nm-ave-animation-selector-wrapper",sSelectorOptionsSelector:".nm-ave-animation-selector",sSelectorActive3dContainer:".nm-md-ave-container",sSelectorStreamWrapper:"#streamWrapper"},s.renderAnimationControls=function(t){var e,n,i="",o=(0,r.default)(a.optionMappings);for(e=0,n=o.length;e<n;e++)t.indexOf(o[e])>-1&&(i+=a.renderAnimationOption(o[e],a.optionMappings[o[e]]));return i},s.renderEnvironmentControls=function(t){var e,n,i="",o=(0,r.default)(a.optionMappings);for(e=0,n=o.length;e<n;e++)t.indexOf(o[e])>-1&&(i+=a.renderEnvironmentOption(o[e],a.optionMappings[o[e]]));return i},s.enableOptions=function(){i.dom.getElement(a.oDefaults.sSelectorOptionsSelector).classList.remove(a.oDefaults.sClassHidden),i.dom.getEventDelegate("body").off("click",a.oDefaults.sSelectorOptionsSelectorWrapper,a.handlerAnimationSelectorClick),i.dom.getEventDelegate("body").on("click",a.oDefaults.sSelectorOptionsSelectorWrapper,a.handlerAnimationSelectorClick)},a.renderAnimationOption=function(t,e){return'<li class="nm-avectrl-animation animation-option nm-el-lbl nm-el-lbl-01 nm-at-lbl-b" data-animation="'+t+'">'+e+"</li>"},a.renderEnvironmentOption=function(t,e){return'<li class="nm-avectrl-environment animation-option nm-el-lbl nm-el-lbl-01 nm-at-lbl-b" data-environment="'+t+'">'+e+"</li>"},a.handlerAnimationSelectorClick=function(t){var e=i.dom.getElement(a.oDefaults.sSelectorOptionsSelector),n=i.dom.getElement(a.oDefaults.sSelectorOptionsSelectorWrapper);t.preventDefault(),e.classList.contains(a.oDefaults.sClassSelectorClosed)?(e.classList.remove(a.oDefaults.sClassSelectorClosed),e.classList.add(a.oDefaults.sClassSelectorOpen),n.classList.add("active")):(e.classList.remove(a.oDefaults.sClassSelectorOpen),e.classList.add(a.oDefaults.sClassSelectorClosed),n.classList.remove("active"))},a.stopWheel=function(t){var e;(e=t||window.event)&&e.preventDefault&&e.preventDefault(),e&&(e.returnValue=!1)},a.catchScrollWheel=function(){document.addEventListener("mousewheel",a.stopWheel),document.addEventListener("DOMMouseScroll",a.stopWheel)},a.releaseScrollWheel=function(){document.removeEventListener("mousewheel",a.stopWheel),document.removeEventListener("DOMMouseScroll",a.stopWheel)},s.activateAveCanvas=function(t){console.log("ave-dom: activate ave canvas");var e=document.getElementById(t);if(i.dom.isElement(e)){var n=document.createElement("div");n.innerHTML=i.template.render(o.aveCanvasTemplate,{}),e.insertBefore(n.firstChild,e.firstChild),i.dom.getEventDelegate("body").on("mouseover","#"+t,a.catchScrollWheel),i.dom.getEventDelegate("body").on("mouseout","#"+t,a.releaseScrollWheel)}},s.resizeStreamWrapper=function(){console.log("resizeStream");var t=i.dom.getElement(a.oDefaults.sSelectorStreamWrapper);i.dom.isElement(t)&&(t.style.width="100%",t.style.height="100%",t.style.position="absolute")},s.moveAveCanvas=function(t,e){var n=document.getElementById(t),r=document.getElementById(e),o=i.dom.getElement(a.oDefaults.sSelectorOptionsSelectorWrapper,n);console.log("ave-dom: move ave canvas"),i.dom.isElement(n)&&i.dom.isElement(o)&&i.dom.isElement(r)&&(n.classList.remove(a.oDefaults.sClassActive),r.insertBefore(o,r.firstChild),i.dom.getEventDelegate("body").on("mouseover","#"+e,a.catchScrollWheel),i.dom.getEventDelegate("body").on("mouseout","#"+e,a.releaseScrollWheel))},s.deactivateAveCanvas=function(t){console.info("ave-dom: deactivate ave canvas");var e=document.getElementById(t);if(i.dom.isElement(e)){for(;e.hasChildNodes();)e.removeChild(e.firstChild);i.dom.getEventDelegate("body").off("mouseover","#"+t,a.catchScrollWheel),i.dom.getEventDelegate("body").off("mouseout","#"+t,a.releaseScrollWheel)}},e.aveDom=s},
/*!********************************************!*\
  !*** ./js/configurator/carline-mapping.js ***!
  \********************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.carlineMapping=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! babel-runtime/core-js/json/stringify */70)),i=n(/*! ../application-bundle */3),o=n(/*! ./dpu/api */27);var a={},s={__:a};a.oDefaults={},s.getPreviousWindowConfig=function(){var t=null,e=void 0,n=o.dpuApi.getCarline(),r=window&&window.name&&null!==window.name?window.name:i.cache.getItem("use_trampoline","data","localStorage");if(r)try{(e=JSON.parse(r))&&e.prstring&&e.subsession&&e.carline===n&&(t=e)}catch(e){console.log("we are not comming from a page were we set the window.name"),t=null}return i.cache.getItem("use_trampoline","data","localStorage")&&i.cache.removeItem("use_trampoline","data","localStorage"),t},s.getConfigurationRequestParam=function(){var t=null,e=a.getUrlVar("audicode"),n=a.getUrlVar("pr");return e&&((t={}).audicode=e),n&&((t={}).prstring=n),t},s.useTrampoline=function(t,e,n){var o=t.configuration.prstring,s=t.configuration.carline,l=a.getCarlineUrl(s);l&&(window.name='{"subsession":"'+e+'","carline":"'+s+'","prstring":"'+o+'","entryType":"'+n+'"}',i.cache.setItem("carline_mapping",e,(0,r.default)(t),"localStorage"),i.cache.setItem("use_trampoline","data",'{"subsession":"'+e+'","carline":"'+s+'","prstring":"'+o+'","entryType":"'+n+'"}',"localStorage"),setTimeout(function(){window.location.href=l},150))},a.getCarlineUrl=function(t){return o.dpuApi.getCarlineUrl(t)},s.hasPreviousWindowConfiguration=function(){return!!s.getPreviousWindowConfig()},s.isMatchingConfiguration=function(t){var e,n,r=void 0,i=void 0,s=void 0,l=void 0;return r=!1,n=!!t,i=null,e=o.dpuApi.getCarline(),n&&t.configuration&&t.configuration.carline&&(i=t.configuration.carline),n&&t.configuration&&t.configuration.carline&&(i=t.configuration.carline),s=null,n&&t.configuration&&t.configuration.prstring&&(s=t.configuration.prstring),l=!1,a.getCarlineUrl(i)&&(l=!0),i&&e!==i&&l&&(r=!1),i&&e===i&&(r=!0),console.log("isMatchingConfiguration: "+r+"  audiCodeCorrespondingPrstring: "+s),r},a.getUrlVars=function(t){var e,n={},r=void 0,i=void 0,o=void 0;for(o=0,e=(i=t.slice(t.indexOf("?")+1).split("#")[0].split("&")).length;o<e;o++)n[(r=i[o].split("="))[0]]=r[1];return n},a.getUrlVar=function(t,e){var n=e||window.location.href;return a.getUrlVars(n)[t]||null},e.carlineMapping=s},
/*!***************************************!*\
  !*** ./js/configurator/startlayer.js ***!
  \***************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.startlayer=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! babel-runtime/core-js/promise */11)),i=n(/*! ../application-bundle */3),o=n(/*! core-utils */0),a=n(/*! ../global-bundle */44),s=n(/*! ./configurationstart-implicit-layer-template */285),l=n(/*! ./configurationstart-loaded-layer-template */286);var u={},c={__:u};u.instance=!1,u.enabled=!0,u.source=!1,u.oDefaults={sCloseLayerButtonSelector:".nm-configurationstart-layer-close"},u.addEvents=function(){u.legacyEventBus.on("click.layer.configstart.close",u.oDefaults.sCloseLayerButtonSelector,u.closeStartLayer)},u.removeEvents=function(){u.legacyEventBus.off("click.layer.configstart.close",u.oDefaults.sCloseLayerButtonSelector,u.closeStartLayer)},u.trackLoadConfigEvent=function(){return u.enabled?new r.default(function(t){var e=setInterval(function(){if(u.layerProcessed){if(clearInterval(e),!u.layerActive)return console.log("reject"),r.default.reject();console.log("resolve: ",u.source),"carstore"===u.source?t({source:"myAudi"}):"audicode-input"===u.source?t({source:"audicode"}):t({source:u.source})}},50)}):r.default.reject()},u.isStartlayerNotToShow=function(){return!u.enabled||a.hideHeaderFooter.isHiddenHeaderFooter()},u.openStartLayer=function(t){var e=t;return u.isStartlayerNotToShow()?(u.layerProcessed=!0,u.layerActive=!1,r.default.reject(new Error("Start layers not supported."))):new r.default(function(n,r){var a,c="configurationstart-implicit",d=void 0;(e=t)?(c="configurationstart-loaded",d=l.configStartLoadedTemplate):(c="configurationstart-implicit",d=s.configStartImplicitTemplate),a=o.template.render(d,e||{}),setTimeout(function(){document.body.scrollTop=0,i.layerApi.open(c,a,u.closeStartLayer).then(function(t){u.layerProcessed=!0,u.layerActive=!1,e&&(u.source=e.start_type,u.layerActive=!0),u.instance=t,u.addEvents(),jQuery("body").addClass("nm-config-layer-open"),n(u.instance)},function(t){u.layerProcessed=!0,u.layerActive=!1,r(t)})},600)})},u.closeStartLayer=function(t){u.cancelEvent(t),u.instance&&"function"==typeof u.instance.close&&u.instance.close(),u.eventBus.emit(i.appEvents.STARTLAYER_CLOSE),u.instance=null,u.removeEvents(),jQuery("body").removeClass("nm-config-layer-open")},u.cancelEvent=function(t){t&&"function"==typeof t.preventDefault&&t.preventDefault()},u.initialize=function(){u.instance||(u.addEvents(),u.instance=!0,u.layerProcessed=!1,u.layerActive=!0)},c.handleStartLayer=function(t){return u.openStartLayer(t)},c.unHandleStartLayer=function(){u.layerProcessed=!0,u.layerActive=!1},c.setEnabled=function(t){u.enabled=t},c.initialize=function(t){u.eventBus=t,u.legacyEventBus=jQuery("body"),u.initialize()},e.startlayer=c},
/*!****************************************************!*\
  !*** ./js/configurator/dpu/user-configurations.js ***!
  \****************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.userConfigurations=void 0;var r=s(n(/*! babel-runtime/core-js/json/stringify */70)),i=s(n(/*! babel-runtime/core-js/promise */11)),o=n(/*! ./api */27),a=n(/*! ../../application-bundle */3);function s(t){return t&&t.__esModule?t:{default:t}}var l={},u={__:l};l.STORAGE=window.sessionStorage||null,l.entryPrefix="__nemo__",l.handleConfigurationUpdates=function(){var t={prString:o.dpuApi.getPrString(),carlineID:o.dpuApi.getCarline()};l.writeEntry(t).then(function(t){console.log("users configuration storageID: "+t.stored)},function(t){console.warn("Error storing users configuration: "+t.message)})},l.writeEntry=function(t){var e=t;return new i.default(function(t,n){var i;i=l.uuid(),e||n(new TypeError("writeEntry: missing param 'entry_'")),e=(0,r.default)(e),l.STORAGE||n(new TypeError("sessionStorage is not available")),l.STORAGE.setItem(i,e),t({stored:i})})},l.uuid=function(){return l.entryPrefix+o.dpuApi.getVersion()},l.addEvents=function(){l.eventBus.on(a.appEvents.CONFIG_UPDATE,l.handleConfigurationUpdates)},l.readEntryFromStorage=function(){return new i.default(function(t,e){var n;l.STORAGE||e(new TypeError("Browserstorage is not available"));try{n=l.STORAGE.getItem(l.uuid()),t(n=JSON.parse(n))}catch(t){e(new TypeError("Error reading users configuration: "+t.message))}})},l.initialize=function(){!o.dpuApi.isInPreviewMode()&&o.dpuApi.isConfigurable()?l.addEvents():console.log("preview-mode")},u.getPreviousUserConfigurationPrString=function(){return l.readEntryFromStorage().then(function(t){return t&&t.carlineID&&t.prString&&t.carlineID===o.dpuApi.getCarline()&&t.prString!==o.dpuApi.getPrString()?i.default.resolve(t.prString):i.default.reject(new TypeError("no valid user configuration available"))},function(){return i.default.reject(new TypeError("error reading user configuration from storage"))})},l.debugEntries=function(){var t,e=[],n=new RegExp(l.entryPrefix);for(t in l.STORAGE)n.test(t)&&e.push(t);return e},u.initialize=function(t){l.eventBus=t,l.initialize()},e.userConfigurations=u},
/*!*****************************************!*\
  !*** ./js/configurator/dpu/transfer.js ***!
  \*****************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dpuTransfer=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! babel-runtime/core-js/promise */11)),i=n(/*! ./api */27),o=n(/*! ../../application-bundle */3),a=n(/*! core-utils */0),s=n(/*! ./transfer-layer-template */287);var l={},u={__:l};l.oDefaults={sSelectorDelegateTransferClick:".nm-layer-transfer .nm-j-configurator-delegate-transfer-click"},l.transfer=null,l.layerInstance=null,l.layerIsOpening=!1,l.layerIsClosing=!1,l.mergeData=function(t){return{deleted:l.mergeItemList(t.deleted),transferred:l.mergeItemList(t.transferred),standard:l.mergeItemList(t.standard),urls:t.urls}},l.mergeItemList=function(t){return t.map(function(t){return i.dpuApi.getItem(t.id)})},l.openLayer=function(t,e,n){if(!l.layerIsClosing)return l.layerIsOpening=!0,o.layerApi.open(t,e,n).then(function(t){return l.layerIsOpening=!1,r.default.resolve(t)},function(t){return l.layerIsOpening=!1,r.default.reject(t)});setTimeout(function(){l.openLayer(t,e,n)},510)},l.closeLayer=function(){l.layerIsClosing=!0,null===l.layerInstance&&l.layerIsOpening?setTimeout(l.closeLayer,510):l.layerInstance.close().then(function(){l.layerInstance=null,l.layerIsClosing=!1,l.onLayerClose()},function(){l.layerIsClosing=!1})},l.onLayerClose=function(){l.transfer=null},l.handleTransferResolveClick=function(t){var e=void 0,n=void 0,r=void 0;t?(l.cancelEvent(t),(e=a.dom.closest(t.target,l.oDefaults.sSelectorDelegateTransferClick))&&(n=e.getAttribute("href"))):(r=a.dom.getElement(l.oDefaults.sSelectorDelegateTransferClick+"[data-transfer='cancel']"),n=a.dom.isElement(r)?r.getAttribute("href"):a.dom.getElement(l.oDefaults.sSelectorDelegateTransferClick+"[data-transfer='submit']").getAttribute("href")),n&&(n=SETUPS.get("nemo.url.dpu")+n,l.eventBus.trigger(o.appEvents.TRANSFER_CLOSE,{url:n})),l.closeLayer()},l.cancelEvent=function(t){t&&"function"==typeof t.preventDefault&&t.preventDefault()},l.handleTransferClose=function(){l.layerName&&l.handleTransferResolveClick()},u.handleTransfer=function(t){var e,n;e=l.mergeData(t),n=a.template.render(s.transferLayerTemplate,e),l.openLayer("transfer-layer",n,l.handleTransferResolveClick).then(function(t){l.layerInstance=t},function(t){console.warn("TRANSFER Layer open failed",t.message)})},u.initialize=function(t){l.eventBus=t,l.legacyEventBus=a.dom.getEventDelegate("body"),l.legacyEventBus.on("click",l.oDefaults.sSelectorDelegateTransferClick,l.handleTransferResolveClick)},e.dpuTransfer=u},
/*!*****************************************!*\
  !*** ./js/configurator/dpu/conflict.js ***!
  \*****************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dpuConflict=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! babel-runtime/core-js/promise */11)),i=n(/*! ./api */27),o=n(/*! ../../application-bundle */3),a=n(/*! core-utils */0),s=n(/*! ./conflict-layer-template */288);var l={},u={__:l};l.previousSelectedSolution=null,l.layerInstance=null,l.currentCancelLink="",l.oDefaults={sSelectorConflictLayer:".nm-layer-conflict",sSelectorConfigLayerOpen:"nm-config-layer-open",sSelectorDelegateConflictClick:".nm-j-configurator-delegate-conflict-click",sSelectorOptionsShow:".nm-j-conflict-options-show",sSelectorConflictSolution:".nm-conflict-solution",sSelectorDelegateClick:".nm-layer-wrapper-conflict .nm-j-configurator-delegate-click",sClassConflictSolutionShow:"nm-conflict-solution-show"},l.groupingWhitelist=["extcolor","upholstery"],l.addEvents=function(){l.legacyEventBus.on("click.nemo.configurator",l.oDefaults.sSelectorDelegateConflictClick,l.handleConflictResolveClick),l.legacyEventBus.on("click.alternative-options",l.oDefaults.sSelectorOptionsShow,l.toggleAlternativeOptions),l.legacyEventBus.on("click.solution.store",l.oDefaults.sSelectorDelegateClick,l.handleConflictItemClick)},l.handleConflictItemClick=function(t){var e,n,r;if(l.cancelEvent(t),r=(n=(e=jQuery(this)).closest("div[data-solution-id]")).data("solution-id"),l.isSelectedItem(e.closest(".nm-j-configurator-item")))return console.log('ITEM "'+e.closest(".nm-j-configurator-item").attr("[nm-j-configurator-id]")+'" is already part of the configuration',e,n,r),!1;l.previousSelectedSolution=r,console.log("ITEM was clicked",e,n,r,l.previousSelectedSolution)},l.isSelectedItem=function(t){var e,n=t.get(0).className;return-1!==n.indexOf("nm-j-configurator-status_")&&(5===(e=n.split("nm-j-configurator-status_")[1].split(" ")[0]).length&&"1"===e[3])},l.toggleAlternativeOptions=function(){return jQuery(this).closest(".nm-conflict-solution").toggleClass(l.oDefaults.sClassConflictSolutionShow),!1},l.detectGroups=function(t,e,n){var r,i,o,a,s,u=t.items.length;if(t.sameTypeItems=!1,u<2)return t;for(r=u-1;r>=0;r--){if(!(i=n[t.items[r].id]))return t;if(!(o=e[i.family]))return t;if(s=o.name,r<u-1&&(a!==o.type||l.groupingWhitelist.indexOf(o.type)<0))return t;a=o.type}return t.sameTypeItems=!0,t.header=s,t},l.mergeData=function(t,e,n){var r,i,o,a,s,u,c,d,f,m,p=t,g=[];for(p.replacedByTriggers&&p.replacedByTriggers.length&&p.solutions.unshift(p.replacedByTriggers),jQuery.each(p.solutions,function(t,r){(f={}).items=[],f.ids=[],s=[],jQuery.each(r,function(t,r){(u=n[r.id])?(u.name&&delete r.name,c=jQuery.extend(!0,{},u,r)):c=r,c.family&&e[c.family]&&(c.family=e[c.family]),r.effItems&&jQuery.each(r.effItems,function(t,r){(u=n[r.id]).name&&delete r.name,(i=jQuery.extend(!0,{},u,r)).family&&e[i.family]&&(i.family=e[i.family]),i.items=[i],s.push(i)}),f.ids.push(c.id),f.items.push(c)}),f.id=f.ids.join(""),g.push(f),s.length>0&&(g=g.concat(s))}),p.solutions=g,o=p.solutions.length-1;o>=0;o--)p.solutions[o]=l.detectGroups(p.solutions[o],e,n);for(m=[],a=p.solutions[0].items.length;a--;)(r=p.solutions[0].items[a]).family&&r.family.id&&r.family.id.indexOf("synthetic.audi_exclusive")>-1?(m.push(r),p.solutions[0].items[a].exclusive=!0):p.solutions[0].items[a].exclusive=!1;return m.reverse(),p.solutions[0].exclusives=m,d=[],s=[],jQuery.each(p.triggers,function(t,r){(u=n[r.id])?(u.name?delete r.name:r.name="#"+u.name,c=jQuery.extend(!0,{},u,r)):c=r,c.family&&e[c.family]&&(c.family=e[c.family]),d.push(c),r.effItems&&jQuery.each(r.effItems,function(t,e){(u=n[e.id]).name&&delete e.name,(i=jQuery.extend(!0,{},u,e)).items=[i],s.push(i)})}),s.length>0&&(p.solutions=s.concat(p.solutions)),p.triggers=d,p},l.openLayer=function(t,e,n){return new r.default(function(r,i){o.layerApi.open(t,e,n).then(function(t){l.layerInstance=t,l.openSelectedSolutionAlternatives(),l.currentCancelLink=jQuery([l.oDefaults.sSelectorDelegateConflictClick,"[data-conflict='cancel']"].join("")).attr("href"),r(l.layerInstance)},function(t){i(t)})})},l.closeLayer=function(){return l.layerInstance.close().then(function(){l.layerInstance=null,l.onLayerClose()},function(t){throw new TypeError("Error closing conflict Layer: "+t.message)})},l.onLayerClose=function(){jQuery("body").removeClass(l.oDefaults.sSelectorConfigLayerOpen),l.conflict=null},l.handleConflictResolveClick=function(t){var e,n,r,i="cancel";t?(l.cancelEvent(t),e=jQuery(t.target),n=SETUPS.get("nemo.url.dpu")+e.attr("href"),e.data("conflict")&&(i=e.data("conflict"))):(i="cancel",n=(r=jQuery([l.oDefaults.sSelectorDelegateConflictClick,"[data-conflict='cancel']"].join("")).attr("href"))?SETUPS.get("nemo.url.dpu")+r:SETUPS.get("nemo.url.dpu")+l.currentCancelLink),l.eventBus.emit(o.appEvents.CONFLICT_CLOSE,{url:n,action:i}),l.closeLayer()},l.openSelectedSolutionAlternatives=function(){var t;l.previousSelectedSolution&&(t=jQuery("[data-solution-id='"+l.previousSelectedSolution+"']"),l.previousSelectedSolution||(l.previousSelectedSolution=void 0),t.addClass(l.oDefaults.sClassConflictSolutionShow))},l.cancelEvent=function(t){t&&"function"==typeof t.preventDefault&&t.preventDefault()},u.handleConflict=function(t){return new r.default(function(e,n){var r=l.mergeData(t,i.dpuApi.getSpecialFamilies()||{},i.dpuApi.getItems()),o=s.conflictLayerTemplate||jQuery("#nm-id-conflict-layer-tpl").html(),u=a.template.render(o,r);l.openLayer("conflict-layer",u,l.handleConflictResolveClick).then(e,n)})},u.initialize=function(t){l.eventBus=t,l.legacyEventBus=jQuery("body"),l.addEvents()},e.dpuConflict=u},
/*!**************************************!*\
  !*** ./js/configurator/form/core.js ***!
  \**************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formCore=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! babel-runtime/helpers/typeof */59)),i=n(/*! ./group */223),o=n(/*! ../dpu/api */27),a=n(/*! ../dpu/controller */138),s=n(/*! ../../application-bundle */3),l=n(/*! core-utils */0),u=n(/*! core-vendor */121);var c={},d={},f={},m={},p=void 0,g={},v={},h={__:v};v.initForm=function(t){var e,n;(n=t.attr("id"),e=v.getUrl("start",n),void 0!==g[n])?(c[n]=new v.Form(g[n],m),c[n].el.appendTo(t)):l.ajax.getJSON(e).then(function(e){!1===(e=h.responseToObj(e))?v.displayStandardError(n):e.form?(c[n]=new v.Form(e,m),c[n].el.appendTo(t),e.header&&e.header.subsession&&a.dpuController.setSubsessionID(e.header.subsession)):v.displayStandardError(n)},function(t){v.displayStandardError(n)})},v.bindEnablers=function(){v.legacyEventBus.undelegate(".nm-form input[data-enables]","change").delegate(".nm-form input[data-enables]","change",function(t){var e,n,r,i,o,a;for(i=(e=(n=jQuery(t.target)).attr("data-enables").split(";")).length;i>-1;i--)e[i]=v.sanitizeId(e[i]);for(r="off"===(r=n.attr("data-active")||"off")?"on":"off",n.attr("data-active",r),i=e.length;i>-1;i--)e[i]&&(o=jQuery("#nm-id-form-field-"+e[i]+" input"),a="off"===r&&"disabled",o.attr("disabled",a))})},v.getCustomTemplateIds=function(t){var e={};return jQuery(t).each(function(){e[jQuery(this).attr("id")]=!0}),e},v.blockForm=function(t){var e=jQuery("#"+t.id);e.find(".nm-form-shader").height(e.height()+"px").show()},v.handleForm=function(t,e){var n={};!1===(t=h.responseToObj(t))?v.displayStandardError(e.id):t.form?(jQuery("#"+e.id).off("blur, click, change"),jQuery("#"+e.id).undelegate("button[data-button-action]","click"),c[e.id]=new v.Form(t,m),jQuery("#"+t.form.id).html("").append(c[e.id].el)):t.success?(n.formHeadline=e.data.form.name,n.message=t.message,jQuery("#"+e.id).html(e.getSuccessString(n)),jQuery("#"+e.id).attr("data-form-is-finished",1),v.eventBus.emit(s.appEvents.FORM_FINISHED,{id:e.id}),t.configuration&&a.dpuController.handleExternalConfiguration(t,{startType:null}),delete c[e.id]):(v.displayStandardError(e.id),delete c[e.id]),jQuery("#"+e.id).closest(".nm-layer-wrapper").length?jQuery(".nm-layer-wrapper").scrollTop(0):jQuery("body").scrollTop(0)},v.displayStandardError=function(t){var e=jQuery("#"+t),n=e.find(".nm-form-shader"),r=e.find(".nm-form-standard-error");n.hide(),e.html(r.html())},v.getUrl=function(t,e){var n=o.dpuApi.getPrString(),r=o.dpuApi.getContext(),i=o.dpuApi.getSubsessionID(),a=!!o.dpuApi.getCarline(),s=[];return r&&s.push("context="+r),i&&s.push("subsession="+i),"tdrdealerreq"===e&&a&&n?s.push("ids="+encodeURIComponent(n)):"tdrdealerreq"!==e&&n&&s.push("ids="+encodeURIComponent(n)),s.push("action="+encodeURIComponent(t)),s.push("id="+encodeURIComponent(e)),p+"?"+s.join("&")},v.parseData=function(t){var e;try{e=JSON.parse(t)}catch(t){return!1}return e},v.getTemplateFunc=function(){var t,e,n=this.templateKey||null,r=function(){return""};if(null===n)return r;if(t=v.getTemplateId(this,n),void 0===f[t]){if(!((e=jQuery("#"+t)).length>0))return r;f[t]=u.doT.template(e.html().trim())}return f[t]},v.sanitizeId=function(t){return void 0!==t?t.replace(/[^a-z0-9_-]/gi,""):""},v.getTemplateId=function(t,e){var n,r,i="nm-id-form-",o=t.form||t,a=o.customTemplateIds||{};o.pageId;if(e=e.toLowerCase(),void 0!==t.id){if(n=v.sanitizeId(t.id),void 0!==(r=d[o.id+"-"+n]))return r;if(void 0!==a[r=i+o.id+"-"+o.pageId+"-"+n+"-tpl"])return r;if(void 0!==a[r=i+o.id+"-"+n+"-tpl"])return r}return"Form"===t.formConstructorName&&void 0!==(r=d[o.id+"-"+o.pageId])?r:(r=i+o.id+"-"+e+"-tpl",void 0!==d[o.id+"-"+e]?r:void 0!==a[r=i+o.id+"-"+o.pageId+"-"+e+"-tpl"]?r:void 0!==a[r=i+o.id+"-"+e+"-tpl"]?r:r=i+e+"-tpl")},v.Form=function(t,e){return this.formConstructorName="Form",this.data=t,this.id=t.form?t.form.id:void 0,this.domId=v.sanitizeId(this.id),this.customTemplateIds=e||{},this.templateKey="form",this.groups=[],this.fields=[],this.pageId=this.getPageId(),this.processSteps=this.getProcessSteps(),this.processStepName=this.getStepHeadline(),this.processGroups(),this.getString=this.getTemplateFunc(),this.getSuccessString=this.getSuccessTemplateFunc(),this.load(),this},v.Form.prototype.getPageId=function(){var t;if(this.data&&this.data.pages)for(t=this.data.pages.length-1;t>-1;t--)if(!0===this.data.pages[t].active)return this.data.pages[t].id;return null},v.Form.prototype.getStepHeadline=function(){var t;if(this.data&&this.data.pages)for(t=this.data.pages.length-1;t>-1;t--)if(!0===this.data.pages[t].active)return this.data.pages[t].name;return null},v.Form.prototype.getProcessSteps=function(){var t;if(this.data&&this.data.pages)for(t=this.data.pages.length-1;t>-1;t--)if(!0===this.data.pages[t].active)return{step:t+1,maxSteps:this.data.pages.length};return null},v.Form.prototype.getSuccessTemplateFunc=function(){var t,e="nm-id-form-success-tpl";if(void 0===f[e]){if(!((t=jQuery("#"+e)).length>0))return function(){return""};f[e]=u.doT.template(t.html())}return f[e]},v.Form.prototype.getTemplateFunc=v.getTemplateFunc,v.Form.prototype.processGroups=function(){var t,e,n;if(this.data.form&&this.data.form.groups)for(t=0,e=this.data.form.groups.length;t<e;t++)n=new i.formGroup(this.data.form.groups[t],this),this.groups.push(n)},v.Form.prototype.load=function(){var t,e;e={formHeadline:this.data.form.name,pageDisclaimers:this.data.form.disclaimers,pageHeadline:this.data.form.headline,pageDescription:this.data.form.description,pageError:this.data.form.error,groups:this.groups,pages:this.data.pages,id:this.data.form.id,actions:this.data.form.actions},void 0===(t=jQuery("#"+this.data.form.id)).attr("data-form-is-first-view")?t.attr("data-form-is-first-view",1):t.attr("data-form-is-first-view",0),void 0!==this.data.form.footnote&&(e.footnote=this.data.form.footnote),this.processSteps&&(t.attr("data-form-process-step",this.processSteps.step),t.attr("data-form-process-max",this.processSteps.maxSteps)),this.processStepName&&t.attr("data-form-process-name",this.processStepName),this.el=jQuery(this.getString(e));var n=this;window.setTimeout(function(){n.bindActions(),n.bindActionLinks(),n.preventSubmit(),v.eventBus.emit(s.appEvents.FORM_LOADED,{id:n.id,form:n})},100)},v.Form.prototype.preventSubmit=function(){jQuery("#"+this.id).undelegate("form","submit").delegate("form","submit",function(t){return t.preventDefault(),!1})},v.Form.prototype.bindActions=function(){var t=this;jQuery("#"+this.id).undelegate("button[data-button-action]","click").delegate("button[data-button-action]","click",function(e){var n,r,i;e.preventDefault(),r=(n=jQuery(e.target)).attr("data-button-action"),i=n.attr("data-form-id"),"cancel"===r&&n.addClass("nm-button-cancel"),i===t.id&&r&&(v.blockForm(t),t.serializeAndSend(r,t.id))})},v.Form.prototype.bindActionLinks=function(){var t=this;jQuery("#"+this.id).off("click",".nm-form-action-link").on("click",".nm-form-action-link",function(e){e.preventDefault(),t.serializeAndSend(jQuery(this).attr("data-form-action"),t.id)})},v.Form.prototype.disableButtons=function(){var t,e,n;if(this.data&&this.data.form&&this.data.form.actions)for(t=0,e=this.data.form.actions.length;t<e;t++)!0===(n=this.data.form.actions[t]).disable_on_change&&jQuery('button[data-button-action="'+n.action+'"]').hide()},v.Form.prototype.changed=function(){this.disableButtons()},v.Form.prototype.autoSubmit=function(t){var e=t||"submit";v.blockForm(this),this.serializeAndSend(e,this.id)},v.Form.prototype.serializeAndSend=function(t,e){var n,r,i=jQuery("#"+e+" form"),o=v.getUrl(t,e),a=i.serializeArray(),s=a.length,u=[],c=this,d=[];for(r=0;r<s;r+=1)-1!==a[r].name.indexOf("DateTime-")?(void 0===d[n=a[r].name.slice(9,a[r].name.length-2)]&&(d[n]=[]),d[n].push(a[r].value)):u.push(a[r]);for(var f in d)d.hasOwnProperty(f)&&"0"!==d[n][0]&&"0"!==d[n][1]&&"0"!==d[n][2]&&(n=d[n].reverse().join("-"),u.push({name:f,value:n}));l.ajax.getJSON(o,u,{requestMethod:"POST"}).then(function(t){v.handleForm(t,c)},function(t){v.displayStandardError(c)})},h.responseToObj=function(t){if(!t)return!1;if("object"===(void 0===t?"undefined":(0,r.default)(t)))return t;try{return JSON.parse(t)}catch(t){return!1}},h.layerLoadHandler=function(t){jQuery(t).find(".nm-form").each(function(){v.initForm(jQuery(this))})},h.processNavHandler=function(t){var e,n=jQuery(t.target);t.preventDefault(),"true"===n.attr("data-selectable")&&(e=n.parents(".nm-form").attr("id"),h.getForm(e).serializeAndSend(n.attr("data-action"),e))},h.addInitData=function(t,e){g[t]=e},h.getForm=function(t){return c[t]},v.initialize=function(){var t;p=SETUPS.get("nemo.url.formapi"),d=SETUPS.get("nemo.form.templatemap"),m=v.getCustomTemplateIds(".nm-custom-form-tpl"),v.eventBus.on(s.appEvents.LAYER_LOADED,function(t){t&&t.element&&h.layerLoadHandler(t.element)}),v.legacyEventBus.delegate(".nm-process-navigation a","click",h.processNavHandler),v.bindEnablers(),(t=jQuery(".nm-layer-wrapper")).length&&h.layerLoadHandler(t)},h.initialize=function(t){v.eventBus=t,v.legacyEventBus=jQuery("body"),v.initialize()},e.formCore=h},
/*!***************************************!*\
  !*** ./js/configurator/form/group.js ***!
  \***************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formGroup=void 0;var r=n(/*! core-vendor */121),i=n(/*! ./item */224),o={},a={},s={getTemplateFunc:function(){var t,e,n=this.templateKey||null,i=function(){return""};if(null===n)return i;if(t=s.getTemplateId(this,n),void 0===a[t]){if(!((e=jQuery("#"+t)).length>0))return i;a[t]=r.doT.template(e.html().trim())}return a[t]},sanitizeId:function(t){return void 0!==t?t.replace(/[^a-z0-9_-]/gi,""):""},getTemplateId:function(t,e){var n,r,i="nm-id-form-",a=t.form||t,l=a.customTemplateIds||{};a.pageId;if(e=e.toLowerCase(),void 0!==t.id){if(n=s.sanitizeId(t.id),void 0!==(r=o[a.id+"-"+n]))return r;if(void 0!==l[r=i+a.id+"-"+a.pageId+"-"+n+"-tpl"])return r;if(void 0!==l[r=i+a.id+"-"+n+"-tpl"])return r}return"Form"===t.formConstructorName&&void 0!==(r=o[a.id+"-"+a.pageId])?r:(r=i+a.id+"-"+e+"-tpl",void 0!==o[a.id+"-"+e]?r:void 0!==l[r=i+a.id+"-"+a.pageId+"-"+e+"-tpl"]?r:void 0!==l[r=i+a.id+"-"+e+"-tpl"]?r:r=i+e+"-tpl")},FormGroup:function(t,e){var n;for(n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);return this.formConstructorName="FormGroup",this.form=e,this.domId=s.sanitizeId(this.id),this.templateKey="group",this.dataItems=t.items,this.items=[],this.namedItems={},this.processItems(),this.getString=this.getTemplateFunc(),this}};s.FormGroup.prototype.getTemplateFunc=s.getTemplateFunc,s.FormGroup.prototype.processItems=function(){var t,e,n;if(this.dataItems)for(t=0,e=this.dataItems.length;t<e;t++)n=new i.formItem(this.dataItems[t],this.form),this.items.push(n),this.namedItems[n.id]=n},s.FormGroup.prototype.toString=function(){return this.getString(this)};var l=s.FormGroup;e.formGroup=l},
/*!**************************************!*\
  !*** ./js/configurator/form/item.js ***!
  \**************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formItem=void 0;var r=n(/*! core-vendor */121),i=n(/*! ./field */225),o={},a={},s={getTemplateFunc:function(){var t,e,n=this.templateKey||null,i=function(){return""};if(null===n)return i;if(t=s.getTemplateId(this,n),void 0===a[t]){if(!((e=jQuery("#"+t)).length>0))return i;a[t]=r.doT.template(e.html().trim())}return a[t]},sanitizeId:function(t){return void 0!==t?t.replace(/[^a-z0-9_-]/gi,""):""},getTemplateId:function(t,e){var n,r,i="nm-id-form-",a=t.form||t,l=a.customTemplateIds||{};a.pageId;if(e=e.toLowerCase(),void 0!==t.id){if(n=s.sanitizeId(t.id),void 0!==(r=o[a.id+"-"+n]))return r;if(void 0!==l[r=i+a.id+"-"+a.pageId+"-"+n+"-tpl"])return r;if(void 0!==l[r=i+a.id+"-"+n+"-tpl"])return r}return"Form"===t.formConstructorName&&void 0!==(r=o[a.id+"-"+a.pageId])?r:(r=i+a.id+"-"+e+"-tpl",void 0!==o[a.id+"-"+e]?r:void 0!==l[r=i+a.id+"-"+a.pageId+"-"+e+"-tpl"]?r:void 0!==l[r=i+a.id+"-"+e+"-tpl"]?r:r=i+e+"-tpl")}};s.FormItem=function(t,e){return function(t,e){if(!t||!e)return!1;var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,this),this.formConstructorName="FormItem",this.domId=s.sanitizeId(this.id),this.dataFields=t&&"fields"in t?t.fields:[],this.form=e,this.templateKey="item",this.fields=[],this.namedFields={},this.getString=this.getTemplateFunc(),this.processFields(),this},s.FormItem.prototype.getTemplateFunc=s.getTemplateFunc,s.FormItem.prototype.processFields=function(){var t,e,n;if(void 0!==this.dataFields)for(1===this.dataFields.length&&void 0===this.dataFields[0].label&&(this.dataFields[0].label=this.name,delete this.name,this.info&&(this.dataFields[0].info=this.info,delete this.info)),t=0,e=this.dataFields.length;t<e;t++)n=new i.formField(this.dataFields[t],this.form),this.fields.push(n),this.namedFields[n.id]=n},s.FormItem.prototype.toString=function(){return this.getString(this)};var l=s.FormItem;e.formItem=l},
/*!***************************************!*\
  !*** ./js/configurator/form/field.js ***!
  \***************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formField=void 0;var r=n(/*! core-vendor */121),i={},o={},a={getTemplateFunc:function(){var t,e,n=this.templateKey||null,i=function(){return""};if(null===n)return i;if(t=a.getTemplateId(this,n),void 0===o[t]){if(!((e=jQuery("#"+t)).length>0))return i;o[t]=r.doT.template(e.html().trim())}return o[t]},sanitizeId:function(t){return void 0!==t?t.replace(/[^a-z0-9_-]/gi,""):""},getTemplateId:function(t,e){var n,r,o="nm-id-form-",s=t.form||t,l=s.customTemplateIds||{};if(e=e.toLowerCase(),void 0!==t.id){if(n=a.sanitizeId(t.id),void 0!==(r=i[s.id+"-"+n]))return r;if(void 0!==l[r=o+s.id+"-"+s.pageId+"-"+n+"-tpl"])return r;if(void 0!==l[r=o+s.id+"-"+n+"-tpl"])return r}return"Form"===t.formConstructorName&&void 0!==(r=i[s.id+"-"+s.pageId])?r:(r=o+s.id+"-"+e+"-tpl",void 0!==i[s.id+"-"+e]?r:void 0!==l[r=o+s.id+"-"+s.pageId+"-"+e+"-tpl"]?r:void 0!==l[r=o+s.id+"-"+e+"-tpl"]?r:r=o+e+"-tpl")},FormField:function(t,e){var n;for(n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);return this.formConstructorName="FormField",this.domId=a.sanitizeId(this.id),void 0===this.name&&(this.name=this.id),this.form=e,this.templateKey=this.type,this.getString=this.getTemplateFunc(),this.registerChange(),this}};a.FormField.prototype.getTemplateFunc=a.getTemplateFunc,a.FormField.prototype.registerChange=function(){var t,e,n=this,r=this.type.toLowerCase();if("radio"===r){t="#"+this.form.id,e='input[type="radio"][name="'+this.domId+'"]';var i='input[type="hidden"][name="'+this.domId+'"]';jQuery(t).on("change",e,function(){jQuery(i).remove(),(n.auto_submit?n.form.autoSubmit:n.form.changed).apply(n.form,[n.action])})}else"select"===r?(t="#"+this.form.id,e="#"+this.domId,jQuery(t).on("change",e,function(){(n.auto_submit?n.form.autoSubmit:n.form.changed).apply(n.form,[n.action])})):"checkbox"===r?(t="#"+this.form.id,e="#"+this.domId,jQuery(t).on("change",e,function(){(n.auto_submit?n.form.autoSubmit:n.form.changed).apply(n.form,[n.action])})):(t="#"+this.form.id,e="#"+this.domId,jQuery(t).on("blur",e,function(){(n.auto_submit?n.form.autoSubmit:n.form.changed).apply(n.form,[n.action])}))},a.FormField.prototype.toString=function(){return this.getString(this)};var s=a.FormField;e.formField=s},
/*!*******************************************!*\
  !*** ./js/configurator/renderinglayer.js ***!
  \*******************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderinglayer=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! babel-runtime/core-js/object/keys */49)),i=n(/*! ../application-bundle */3),o=n(/*! core-utils */0),a=n(/*! ./renderinglayer-template */333),s=n(/*! ./dpu/api */27);var l={},u={__:l,initialized:!1};l.activeImageSrc=!1,l.interiorImages=[],l.exteriorImages=[],l.exteriorOpenImages=[],l.min360ImgCount=6,l.oDefaults={sClassActive:"nm-active",sClassNoThumbnailAnimation:"nm-no-animation",sClassAnimate:"nm-animate",sClassCabrioOpen:"nm-cabrio-open",sClassSelectorClosed:"nm-icon-expand-white",sClassSelectorOpen:"nm-icon-collapse-white",sClassItemExterior:"nm-js-exterior",sClassItemExteriorOpen:"nm-js-exterior-open",sClassItemInterior:"nm-js-interior",sAttrDisplayedRenderingView:"data-renderimage-view",sIdToggleExterior:"nm-renderinglayer-exteriortoggle",sIdToggleExteriorOpen:"nm-renderinglayer-exterioropentoggle",sIdToggleInterior:"nm-renderinglayer-interiortoggle",sSelectorColorItems:"#nm-renderinglayer-extcolor-selection-color li",sSelectorOpenButton:".nm-renderinglayer-open",sSelectorRenderingLayerOuter:".nm-layer-renderinglayer",sSelectorRenderingLayer:".nm-renderinglayer",sSelectorItemExterior:".nm-js-exterior",sSelectorItemExteriorOpen:".nm-js-exterior-open",sSelectorItemInterior:".nm-js-interior",sSelectorDisplayedRenderingImage:".nm-basket-image .nm-j-configurator-renderimage",sSelectorRenderingCounterCurrent:".nm-renderingcounter-current",sSelectorRenderingCounterTotal:".nm-renderingcounter-total",sSelectorBack:".nm-renderinglayer .nm-backarrow",sSelectorNext:".nm-renderinglayer .nm-nextarrow",sSelectorStageImage:".nm-renderinglayer-image",sSelectorStageImages:".nm-renderinglayer-stageimages",sSelectorActiveStageImageWrapper:".nm-renderinglayer-imagewrapper.nm-active",sSelectorFirstStageImageWrapper:".nm-renderinglayer-imagewrapper:first-child",sSelectorActiveStageImage:".nm-renderinglayer-imagewrapper.nm-active .nm-renderinglayer-image",sSelectorThumbnailArea:".nm-renderinglayer-thumbnails",sSelectorThumbnail:".nm-renderinglayer-item .nm-rl-placeholder",sSelectorPlusButton:".nm-renderinglayer-item .nm-icon-plus",sSelectorThumbnailActive:".nm-renderinglayer-item .nm-rl-placeholder.nm-active",sSelectorColorSelector:".nm-render-color-selector",sSelectorColorSelectorWrapper:".nm-render-color-selector-wrapper",sSelectorOptionsSelector:".nm-render-animation-selector",sSelectorCurrentColorIndicator:".selector-current-selected .nm-render-active-color"},l.isInteriorActive=function(t){var e=!1;return 0!==t.indexOf("interior")&&0!==t.indexOf("dashboard")&&0!==t.indexOf("rearseat")||(e=!0),e},l.isOpenActive=function(t){var e=!1;return t.indexOf("_open")>0&&(e=!0),e},l.getActiveImageSrc=function(t){t.interiorActive&&l.interiorImages.length>0?l.activeImageSrc=l.interiorImages[0].image:t.open&&l.exteriorOpenImages.length>0?l.activeImageSrc=l.exteriorOpenImages[0].image:l.exteriorImages.length>0?l.activeImageSrc=l.exteriorImages[0].image:l.activeImageSrc=""},l.getConfigurationAssets=function(){var t=s.dpuApi.getConfigurationAssets();(!t||(0,r.default)(t).length<=0)&&(t=SETUPS.get("nemo.default.data").configuration.assets),l.generateRenderingLayerInnerHtml(t),l.initListeners()},l.pollConfigurationAssets=function(){jQuery(l.oDefaults.sSelectorRenderingLayer).length>0?console.log("RL: abort poll request"):l.getConfigurationAssets()},l.parseRenderImageTypeFromHash=function(t){var e,n,r;return!!t&&(n=/(renderingLayer)(\.(\S)+)?/,(r=t.match(n))&&(e=2===(r=(r=r[0].split("&")[0]).split(".")).length&&r[1]),e)},l.setAllowedItems=function(t){var e,n=SETUPS.get("nemo.hiddenAssets")?SETUPS.get("nemo.hiddenAssets").replace(/"/g,""):"";for(e in l.activeRenderings=[],n=n.length>0?n.split(","):[],console.log("hiddenAssets: "+n),t)e&&-1===n.indexOf(e)&&l.activeRenderings.push(e)},l.generateRenderingLayerInnerHtml=function(t){var e=s.dpuApi.getCarline(),n=s.dpuApi.getExtColor(),r=s.dpuApi.getConfiguration(),i=l.parseRenderImageTypeFromHash(window.location.hash),u={};i||(i=jQuery(l.oDefaults.sSelectorDisplayedRenderingImage).attr(l.oDefaults.sAttrDisplayedRenderingView)),l.setAllowedItems(t),-1===l.activeRenderings.indexOf(i)&&(i="exterior_front"),u.interiorActive=l.isInteriorActive(i),u.open=l.isOpenActive(i),l.preloadImages=["exterior_straight_front","exterior_front","exterior","exterior_back","exterior_straight_back"],l.preloadImagesOpen=["exterior_straight_front_open","exterior_front_open","exterior_open","exterior_back_open","exterior_straight_back_open"],l.exteriorImages=l.extractAssets(e,t,i,"exterior"),l.exteriorImages=l.exteriorImages.concat(l.extractAssets(e,t,i,"closeup")),l.exteriorOpenImages=l.extractAssets(e,t,i,"exterior_open"),l.exteriorOpenImages=l.exteriorOpenImages.concat(l.extractAssets(e,t,i,"closeup_open")),u.openavailable=l.exteriorOpenImages.length>0,l.interiorImages=l.extractAssets(e,t,i,"interior"),l.interiorImages=l.interiorImages.concat(l.extractAssets(e,t,i,"dashboard")),l.interiorImages=l.interiorImages.concat(l.extractAssets(e,t,i,"rearseat")),l.activeImageSrc||l.getActiveImageSrc(u),i||(i="exterior_front"),u.exterior=l.exteriorImages,u.exterior_open=l.exteriorOpenImages,u.interior=l.interiorImages,u.active_image_src=l.activeImageSrc,u.currentRenderingView=i,u.config=r,u.activeColor=n;var c=o.template.render(a.renderingLayerTemplate,u);jQuery(l.oDefaults.sSelectorRenderingLayerOuter).html(c)},l.generateRenderingLayerHtml=function(){var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e="";return 975>t&&(e=' style="width: '+t*(1400/975)+'px;"'),'<div class="nm-layer-wrapper nm-layer-wrapper-renderinglayer"><div class="nm-layer-renderinglayer nm-j-jslayer nm-layer"'+e+"></div></div>"},l.addEvents=function(){i.clientLayer.register("renderingLayer",l.generateRenderingLayerHtml),l.eventBus.on(i.appEvents.LAYER_LOADED,l.handler),u.initialized=!0},u.dispose=function(){l.eventBus.off(i.appEvents.LAYER_LOADED,l.handler)},u.disableFor3D=function(){jQuery(l.oDefaults.sSelectorOpenButton).off("click",l.handlerOpenToggle),jQuery(l.oDefaults.sSelectorBack).off("click",l.handlerBackClick),jQuery(l.oDefaults.sSelectorNext).off("click",l.handlerNextClick),jQuery(l.oDefaults.sSelectorThumbnail).off("click",l.handlerThumbnailClick),jQuery(l.oDefaults.sSelectorStageImage).off("mousedown",l.activateSwipe),jQuery(l.oDefaults.sSelectorStageImage).off("touchstart",l.activateSwipe)},l.handler=function(){jQuery(l.oDefaults.sSelectorRenderingLayerOuter).length>0&&l.pollConfigurationAssets()},l.initListeners=function(){l.interiorToggle=document.getElementById(l.oDefaults.sIdToggleInterior),l.exteriorOpenToggle=document.getElementById(l.oDefaults.sIdToggleExteriorOpen),l.exteriorToggle=document.getElementById(l.oDefaults.sIdToggleExterior),jQuery(l.oDefaults.sSelectorOpenButton).off("click",l.handlerOpenToggle),jQuery(l.oDefaults.sSelectorBack).off("click",l.handlerBackClick),jQuery(l.oDefaults.sSelectorNext).off("click",l.handlerNextClick),jQuery(l.oDefaults.sSelectorThumbnail).off("click",l.handlerThumbnailClick),jQuery(l.oDefaults.sSelectorPlusButton).off("click",l.handlerPlusButtonClick),""===jQuery(l.oDefaults.sSelectorStageImage).first().attr("src")&&l.pollConfigurationAssets(),l.updateCounter(),jQuery(l.oDefaults.sSelectorOpenButton).on("click",l.handlerOpenToggle),jQuery(l.oDefaults.sSelectorBack).on("click",l.handlerBackClick),jQuery(l.oDefaults.sSelectorNext).on("click",l.handlerNextClick),jQuery(l.oDefaults.sSelectorThumbnail).on("click",l.handlerThumbnailClick),jQuery(l.oDefaults.sSelectorPlusButton).on("click",l.handlerPlusButtonClick),l.exteriorOpenToggle&&l.exteriorOpenToggle.checked&&l.preloadDefinedImages(l.preloadImagesOpen,"exterior_open"),l.exteriorToggle&&l.exteriorToggle.checked&&l.preloadDefinedImages(l.preloadImages,"exterior"),l.activateSwipeOrDrag(),jQuery(window).on("resize",l.resizeLayer),l.resizeLayer(),l.eventBus.emit(i.appEvents.RENDERINGLAYER_LOADED)},l.determineImageObjectsForArea=function(t){return"interior"===t?l.interiorImages:"exterior_open"===t?l.exteriorOpenImages:l.exteriorImages},l.preloadDefinedImages=function(t,e){var n,r,i=l.determineImageObjectsForArea(e);for(n=0,r=i.length;n<r;n++)t.indexOf(i[n].name)>=0&&((new Image).src=i[n].image)},l.activateSwipeOrDrag=function(){var t,e=document.getElementById(l.oDefaults.sIdToggleExterior),n=document.getElementById(l.oDefaults.sIdToggleExteriorOpen);jQuery(l.oDefaults.sSelectorStageImage).off("mousedown",l.activateSwipe),jQuery(l.oDefaults.sSelectorStageImage).off("touchstart",l.activateSwipe),jQuery(l.oDefaults.sSelectorStageImage).off("mousedown",l.activateDrag),jQuery(l.oDefaults.sSelectorStageImage).off("touchstart",l.activateDrag),jQuery(document).off("mouseup",l.deactivateDrag),jQuery(document).off("touchend",l.deactivateDrag),jQuery(document).off("mouseup",l.deactivateSwipe),jQuery(document).off("touchend",l.deactivateSwipe),t=n&&n.checked?jQuery(l.oDefaults.sSelectorItemExteriorOpen).length:jQuery(l.oDefaults.sSelectorItemExterior).length,(e&&e.checked||n&&n.checked)&&t>=l.min360ImgCount?(jQuery(l.oDefaults.sSelectorStageImage).on("mousedown",l.activateDrag),jQuery(l.oDefaults.sSelectorStageImage).on("touchstart",l.activateDrag),jQuery(document).on("mouseup",l.deactivateDrag),jQuery(document).on("touchend",l.deactivateDrag)):(jQuery(l.oDefaults.sSelectorStageImage).on("mousedown",l.activateSwipe),jQuery(l.oDefaults.sSelectorStageImage).on("touchstart",l.activateSwipe),jQuery(document).on("mouseup",l.deactivateSwipe),jQuery(document).on("touchend",l.deactivateSwipe))},l.getViewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},l.getViewportWidth=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},l.fitToWidth=function(t,e,n,r){1400>t&&(r*e<=n?jQuery(l.oDefaults.sSelectorRenderingLayerOuter).outerWidth(r*e):jQuery(l.oDefaults.sSelectorRenderingLayerOuter).outerWidth(n))},l.resizeLayer=function(){var t=l.getViewportHeight(),e=jQuery(l.oDefaults.sSelectorRenderingLayerOuter).outerHeight(),n=jQuery(l.oDefaults.sSelectorRenderingLayerOuter).outerWidth(),r=n/e,o=l.getViewportWidth();e>t?jQuery(l.oDefaults.sSelectorRenderingLayerOuter).outerWidth(t*r):l.fitToWidth(n,r,o,t),l.eventBus.emit(i.appEvents.RENDERINGLAYER_RESIZED)},l.calculateTotalItems=function(){var t=document.getElementById(l.oDefaults.sIdToggleExteriorOpen),e=document.getElementById(l.oDefaults.sIdToggleInterior);return e&&e.checked?jQuery(l.oDefaults.sSelectorItemInterior).length:t&&t.checked?jQuery(l.oDefaults.sSelectorItemExteriorOpen).length:jQuery(l.oDefaults.sSelectorItemExterior).length},l.calculateCurrentItem=function(t){var e=document.getElementById(l.oDefaults.sIdToggleExteriorOpen),n=document.getElementById(l.oDefaults.sIdToggleInterior);return n&&n.checked?l.calculateCurrentPosition(l.oDefaults.sSelectorItemInterior,t):e&&e.checked?l.calculateCurrentPosition(l.oDefaults.sSelectorItemExteriorOpen,t):l.calculateCurrentPosition(l.oDefaults.sSelectorItemExterior,t)},l.updateCounter=function(){var t=l.calculateTotalItems(),e=l.calculateCurrentItem(t);void 0!==t&&(t=t<10?"0"+t:t,e=e<10?"0"+e:e,jQuery(l.oDefaults.sSelectorRenderingCounterTotal).html(t),jQuery(l.oDefaults.sSelectorRenderingCounterCurrent).html(e))},l.calculateCurrentPosition=function(t,e){var n,r=jQuery(t);for(n=0;n<e;n++)if(r.eq(n).hasClass(l.oDefaults.sClassActive))return n+1},l.activateDrag=function(t){jQuery(l.oDefaults.sSelectorStageImages).hasClass(l.oDefaults.sClassAnimate)||("touchstart"===t.type?l.swipeX=t.originalEvent.pageX:l.swipeX=t.pageX,jQuery(document).on("mousemove",l.drag),jQuery(document).on("touchmove",l.drag))},l.deactivateDrag=function(){var t=jQuery(l.oDefaults.sSelectorActiveStageImage).attr("data-renderimage-view");jQuery(document).off("mousemove",l.drag),jQuery(document).off("touchmove",l.drag),jQuery(l.oDefaults.sSelectorThumbnail).removeClass(l.oDefaults.sClassActive),jQuery(l.oDefaults.sSelectorThumbnail+"."+t).addClass(l.oDefaults.sClassActive)},l.activateSwipe=function(t){"touchstart"===t.type?l.swipeX=t.originalEvent.pageX:l.swipeX=t.pageX,jQuery(document).on("mousemove",l.swipe),jQuery(document).on("touchmove",l.swipe)},l.deactivateSwipe=function(){jQuery(document).off("mousemove",l.swipe),jQuery(document).off("touchmove",l.swipe)},l.retrieveCurrentPos=function(t){return"touchmove"===t.type?t.originalEvent.pageX:t.pageX},l.doLeftDragAction=function(t){t.removeClass(l.oDefaults.sClassActive),t.prev().attr("data-view")&&t.prev().attr("data-view").indexOf("exterior")>=0?t.prev().addClass(l.oDefaults.sClassActive):t.prev().prev().addClass(l.oDefaults.sClassActive)},l.doRightDragAction=function(t){t.next().length>0&&t.next().attr("data-view")&&t.next().attr("data-view").indexOf("exterior")>=0?(t.removeClass(l.oDefaults.sClassActive),t.next().addClass(l.oDefaults.sClassActive)):t.attr("data-view")&&t.attr("data-view").indexOf("closeup")>=0&&(t.removeClass(l.oDefaults.sClassActive),jQuery(l.oDefaults.sSelectorFirstStageImageWrapper).addClass(l.oDefaults.sClassActive))},l.doDragAction=function(t,e){var n=jQuery(l.oDefaults.sSelectorActiveStageImageWrapper);e&&n.prev().length>0?l.doLeftDragAction(n):t&&l.doRightDragAction(n)},l.drag=function(t){var e=!1,n=!1,r=!1,i=l.retrieveCurrentPos(t);i>=l.swipeX+55?(e=!0,n=!0,l.swipeX+=55):i<=l.swipeX-55&&(e=!0,r=!0,l.swipeX-=55),e&&l.doDragAction(r,n)},l.getEventPos=function(t){return"touchmove"===t.type?t.originalEvent.pageX:t.pageX},l.swipe=function(t){var e=l.getEventPos(t);e>=l.swipeX+5?(l.deactivateSwipe(t),l.handlerBackClick(t)):e<=l.swipeX-5&&(l.deactivateSwipe(t),l.handlerNextClick(t))},l.determineCarlineFallbackGroup=function(t){var e=t.charAt(0);return 0!==t.indexOf("rs")&&0!==t.indexOf("s")||(e="a"),0===t.indexOf("tt")&&(e="r"),e},l.getFallbackThumb=function(t,e){var n=window.location.href.split("/");return n[2].indexOf("audi.local")>=0?n[0]+"//"+n[2]+"/cms4i-nemo/fallback-renderings/"+t+"-thumbnail-"+e+".jpg":n[0]+"//"+n[2]+SETUPS.get("nemo.url.static")+"/cms4i-nemo/fallback-renderings/"+t+"-thumbnail-"+e+".jpg"},l.getFallbackImg=function(t,e){var n=window.location.href.split("/");return n[2].indexOf("audi.local")>=0?n[0]+"//"+n[2]+"/cms4i-nemo/fallback-renderings/"+t+"-fullscreen-"+e+".jpg":n[0]+"//"+n[2]+SETUPS.get("nemo.url.static")+"/cms4i-nemo/fallback-renderings/"+t+"-fullscreen-"+e+".jpg"},l.getRenderImageType=function(t,e){var n="thumbnail";return t[e].hasOwnProperty("thumbnail.16-9")?n="thumbnail.16-9":t[e].hasOwnProperty("thumbnail.new")&&(n="thumbnail.new"),n},l.getThumbnail=function(t,e,n,r){var i=t[e][r];return void 0!==i&&(i=-1===i.indexOf("?")?"http://mediaservice.audi.com/media"+i+"?alt="+n:"http://mediaservice.audi.com/media"+i),i},l.getFullImg=function(t,e,n){var r;return void 0!==(r=t[e].hasOwnProperty("fullscreen.new")?t[e]["fullscreen.new"]:t[e].fullscreen)&&(r=-1===r.indexOf("?")?"http://mediaservice.audi.com/media"+r+"?alt="+n:"http://mediaservice.audi.com/media"+r),r},l.checkForActiveImage=function(t,e,n){t===e&&(l.activeImageSrc=n)},l.compliesWithCondition=function(t,e,n,r){var i=!1;return 0===e.indexOf(n)&&t.hasOwnProperty(e)&&l.activeRenderings.indexOf(e)>=0&&(r&&e.indexOf("_open")>0?i=!0:!r&&e.indexOf("_open")<0&&(i=!0)),i},l.determineAssetType=function(t){return t.indexOf("_open")>0?t.substring(0,t.indexOf("_open")):t},l.isOpen=function(t){var e=!1;return t.indexOf("_open")>=0&&(e=!0),e},l.extractAssets=function(t,e,n,r){var i,o,a,s,u,c,d=[],f=l.determineCarlineFallbackGroup(t),m=l.determineAssetType(r),p=l.isOpen(r);for(c in e)l.compliesWithCondition(e,c,m,p)&&(s=l.getFallbackThumb(f,c),a=l.getFallbackImg(f,c),u=l.getRenderImageType(e,c),o=l.getThumbnail(e,c,s,u),void 0!==(i=l.getFullImg(e,c,a))&&(l.checkForActiveImage(c,n,i),d.push({name:c,image:i,thumbnail:o,type:u})));return l.sortThumbs(m,p,d)},l.customArraySort=function(t,e){var n=["exterior_straight_front","exterior_front","exterior","exterior_back","exterior_straight_back","closeup_lights","closeup_wheels","interior","dashboard","rearseat"];return e&&(n=["exterior_straight_front_open","exterior_front_open","exterior_open","exterior_back_open","exterior_straight_back_open","closeup_lights_open","closeup_wheels_open","interior","dashboard","rearseat"]),function(e,r){return n.indexOf(e[t])<n.indexOf(r[t])?-1:1}},l.sortThumbs=function(t,e,n){return n.sort(l.customArraySort("name",e))},l.toggleCheckAndPreload=function(){l.exteriorOpenToggle.checked?(l.exteriorToggle.checked=!0,l.preloadDefinedImages(l.preloadImages,"exterior")):(l.exteriorOpenToggle.checked=!0,l.preloadDefinedImages(l.preloadImagesOpen,"exterior_open"))},l.setDefaultActiveThumbnail=function(){jQuery(l.oDefaults.sSelectorRenderingLayer).hasClass(l.oDefaults.sClassCabrioOpen)?jQuery(l.oDefaults.sSelectorItemExteriorOpen).first().addClass(l.oDefaults.sClassActive):jQuery(l.oDefaults.sSelectorItemExterior).first().addClass(l.oDefaults.sClassActive)},l.retrieveCorrespondingCabrioKey=function(t){return t.indexOf("_open")>0?t.substring(0,t.indexOf("_open")):t+"_open"},l.handlerOpenToggle=function(t){var e,n,r=jQuery(l.oDefaults.sSelectorThumbnailActive),i=r.attr("data-key");t.preventDefault(),jQuery(l.oDefaults.sSelectorThumbnailArea).addClass(l.oDefaults.sClassNoThumbnailAnimation),l.toggleCheckAndPreload(),setTimeout(function(){jQuery(l.oDefaults.sSelectorThumbnailArea).removeClass(l.oDefaults.sClassNoThumbnailAnimation)},50),0===r.length&&l.setDefaultActiveThumbnail(),jQuery(l.oDefaults.sSelectorRenderingLayer).hasClass(l.oDefaults.sClassCabrioOpen)?(jQuery(l.oDefaults.sSelectorRenderingLayer).removeClass(l.oDefaults.sClassCabrioOpen),jQuery(l.oDefaults.sSelectorOpenButton).html(window.i18n["rendering-layer.cabrio-open"])):(jQuery(l.oDefaults.sSelectorRenderingLayer).addClass(l.oDefaults.sClassCabrioOpen),jQuery(l.oDefaults.sSelectorOpenButton).html(window.i18n["rendering-layer.cabrio-close"])),i&&(e=l.retrieveCorrespondingCabrioKey(i),n=jQuery("."+e),l.activateImage(n,!1,!1))},u.determinePrevFromActive=function(t){var e;return t.hasClass(l.oDefaults.sClassItemExterior)?e=jQuery(l.oDefaults.sSelectorThumbnailActive).parent().prev().children(l.oDefaults.sSelectorItemExterior).get(0):t.hasClass(l.oDefaults.sClassItemExteriorOpen)?e=jQuery(l.oDefaults.sSelectorThumbnailActive).parent().prev().children(l.oDefaults.sSelectorItemExteriorOpen).get(0):t.hasClass(l.oDefaults.sClassItemInterior)&&(e=jQuery(l.oDefaults.sSelectorThumbnailActive).parent().prev().children(l.oDefaults.sSelectorItemInterior).get(0)),e},u.determineDefaultPrev=function(){return l.interiorToggle.checked?jQuery(l.oDefaults.sSelectorItemInterior).last().get(0):l.exteriorOpenToggle&&l.exteriorOpenToggle.checked?jQuery(l.oDefaults.sSelectorItemExteriorOpen).last().get(0):jQuery(l.oDefaults.sSelectorItemExterior).last().get(0)},l.handlerBackClick=function(t){var e,n=jQuery(l.oDefaults.sSelectorThumbnailActive);t.preventDefault(),n.length>0&&(e=u.determinePrevFromActive(n)),void 0===e&&(e=u.determineDefaultPrev()),l.activateImage(e,!0,"prev")},u.determineNextFromActive=function(t){var e;return t.hasClass(l.oDefaults.sClassItemExterior)?e=jQuery(l.oDefaults.sSelectorThumbnailActive).parent().next().children(l.oDefaults.sSelectorItemExterior).get(0):t.hasClass(l.oDefaults.sClassItemExteriorOpen)?e=jQuery(l.oDefaults.sSelectorThumbnailActive).parent().next().children(l.oDefaults.sSelectorItemExteriorOpen).get(0):t.hasClass(l.oDefaults.sClassItemInterior)&&(e=jQuery(l.oDefaults.sSelectorThumbnailActive).parent().next().children(l.oDefaults.sSelectorItemInterior).get(0)),e},u.determineDefaultNext=function(){return l.interiorToggle.checked?jQuery(l.oDefaults.sSelectorItemInterior).first().get(0):l.exteriorOpenToggle&&l.exteriorOpenToggle.checked?jQuery(l.oDefaults.sSelectorItemExteriorOpen).first().get(0):jQuery(l.oDefaults.sSelectorItemExterior).first().get(0)},l.handlerNextClick=function(t){var e,n=jQuery(l.oDefaults.sSelectorThumbnailActive);t.preventDefault(),n.length>0&&(e=u.determineNextFromActive(n)),void 0===e&&(e=u.determineDefaultNext()),l.activateImage(e,!0,"next")},l.handlerThumbnailClick=function(){jQuery(this).hasClass(l.oDefaults.sClassActive)||l.activateImage(this,!0,!1)},l.handlerPlusButtonClick=function(t){var e=jQuery(this).parent().parent().find(".nm-rl-placeholder"),n=jQuery(this).parent().parent().find(".nm-renderinglayer-expander");t.preventDefault(),e.trigger("click"),n.trigger("click")},l.doStageAnimation=function(t){var e=jQuery(".ie8").length>0,n=jQuery(".ie9").length>0;e||n?jQuery(l.oDefaults.sSelectorStageImages).animate({left:t},500):jQuery(l.oDefaults.sSelectorStageImages).css("left",t)},l.determineAnimationDirection=function(t,e,n){var r=!1;return!1===e?n.parent().prevAll().find(t).length>0&&(r=!0):"prev"===e&&(r=!0),r},l.activateImage=function(t,e,n){var r=jQuery(l.oDefaults.sSelectorThumbnailActive),i=jQuery(t).attr("data-key"),o=jQuery(".nm-rendersource-"+i),a=jQuery(".nm-rendersource-"+r.attr("data-key")).closest(".nm-renderinglayer-imagewrapper"),s=o.closest(".nm-renderinglayer-imagewrapper"),u=!1;jQuery(l.oDefaults.sSelectorStageImages).hasClass(l.oDefaults.sClassAnimate)||(jQuery(l.oDefaults.sSelectorThumbnail).removeClass(l.oDefaults.sClassActive),jQuery(t).addClass(l.oDefaults.sClassActive),!0===e?((u=l.determineAnimationDirection(t,n,r))?(jQuery(l.oDefaults.sSelectorStageImages).css("left","-100%"),a.css("left","50%"),s.css("left","0")):(jQuery(l.oDefaults.sSelectorStageImages).css("left","0"),a.css("left","0"),s.css("left","50%")),s.addClass(l.oDefaults.sClassActive),setTimeout(function(){jQuery(l.oDefaults.sSelectorStageImages).addClass(l.oDefaults.sClassAnimate),u?l.doStageAnimation("0"):l.doStageAnimation("-100%"),setTimeout(function(){a.css("left","0"),a.removeClass(l.oDefaults.sClassActive),jQuery(l.oDefaults.sSelectorStageImages).css("left","0"),s.css("left","0"),l.activateSwipeOrDrag(),jQuery(l.oDefaults.sSelectorStageImages).removeClass(l.oDefaults.sClassAnimate)},500)},10)):(s.addClass(l.oDefaults.sClassActive),a.removeClass(l.oDefaults.sClassActive),l.activateSwipeOrDrag()),setTimeout(function(){l.updateCounter()},50))},u.initialize=function(t){l.eventBus=t,l.addEvents()},e.renderinglayer=u},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
/*!***********************************!*\
  !*** ./js/configurator-bundle.js ***!
  \***********************************/
/*! dynamic exports provided */
/*! all exports used */,
/*!***********************************!*\
  !*** ./js/configurator-bundle.js ***!
  \***********************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.zipDownload=e.yourPayment=e.wallet=e.vtp=e.visializer=e.userConfigurations=e.tooltip=e.summaryTechdata=e.startlayer=e.scsMatchingBasket=e.scsMatching=e.renderinginjector=e.recommendations=e.preconfsTeaser=e.preconfigurationTeaser=e.pdfServiceLink=e.patternVehicleId=e.patternPrString=e.patternPartnerId=e.patternLeadsource=e.patternLanguage=e.patternConfiguration=e.patternCarlineId=e.patternAudicode=e.pattern=e.loadingIndicator=e.lastConfiguration=e.inlinerenderingAoz=e.inlinerendering=e.infobox=e.hiddenVersionItems=e.formSimple=e.formSelect=e.formItem=e.formGroup=e.formField=e.formCore=e.expertmode=e.equipmentSearch=e.dpuTransfer=e.dpuSearch=e.dpuModel=e.dpuController=e.dpuConflict=e.dpuApi=e.domState=e.container=e.cart=e.carlineMapping=e.bicolor=e.aveDom=e.aveApi=e.audicode=void 0;var r=n(/*! ./application-bundle */3),i=n(/*! ./configurator/audicode */215),o=n(/*! ./configurator/ave/api */192),a=n(/*! ./configurator/ave/dom */216);n(/*! ./configurator/basket */281);var s=n(/*! ./configurator/bicolor */282),l=n(/*! ./configurator/carline-mapping */217),u=n(/*! ./configurator/carstore */284),c=n(/*! ./configurator/cart */292);n(/*! ./configurator/enginecompare-controls */293),n(/*! ./configurator/enginecompare-filter */294),n(/*! ./configurator/enginecompare-form */295);var d=n(/*! ./configurator/container */296),f=n(/*! ./configurator/dpu/dom-state */297),m=n(/*! ./configurator/dpu/api */27),p=n(/*! ./configurator/dpu/conflict */221),g=n(/*! ./configurator/dpu/controller */138),v=n(/*! ./configurator/dpu/model */166),h=n(/*! ./configurator/search */298),y=n(/*! ./configurator/dpu/transfer */220);n(/*! ./configurator/dynamic-recommendation */301),n(/*! ./configurator/engine-selection-list */303),n(/*! ./configurator/current-consumption */304);var S=n(/*! ./configurator/equipment-search */305),C=n(/*! ./configurator/expertmode */308),E=n(/*! ./configurator/form/core */222),b=n(/*! ./configurator/form/field */225),w=n(/*! ./configurator/form/group */223),D=n(/*! ./configurator/form/item */224),A=n(/*! ./configurator/form/select */309),_=n(/*! ./configurator/form/simple */310),k=n(/*! ./configurator/hidden-version-items */311),x=n(/*! ./configurator/infobox */312),L=n(/*! ./configurator/inlinerendering-aoz */313),I=n(/*! ./configurator/inlinerendering */314),T=n(/*! ./configurator/dpu/last-configuration */315),j=n(/*! ./configurator/dpu/loading-indicator */316);n(/*! ./configurator/offerrate */317);var O=n(/*! ./configurator/pattern-matching/pattern-audicode */318),P=n(/*! ./configurator/pattern-matching/pattern-carlineId */319),M=n(/*! ./configurator/pattern-matching/pattern-configuration */320),B=n(/*! ./configurator/pattern-matching/pattern-language */321),R=n(/*! ./configurator/pattern-matching/pattern-leadsource */322),F=n(/*! ./configurator/pattern-matching/pattern-partnerId */323),U=n(/*! ./configurator/pattern-matching/pattern-prstring */324),Q=n(/*! ./configurator/pattern-matching/pattern-vehicleId */325),N=n(/*! ./configurator/pattern */326),z=n(/*! ./configurator/pdf-service-link */327),V=n(/*! ./configurator/preconfiguration-teaser */328),q=n(/*! ./configurator/preconfs-teaser */329),H=n(/*! ./configurator/recommendations */330),W=n(/*! ./configurator/renderinginjector */332),G=n(/*! ./configurator/renderinglayer */226),Y=n(/*! ./configurator/scs-matching-basket */334),X=n(/*! ./configurator/scs-matching */336),$=n(/*! ./configurator/startlayer */218),J=n(/*! ./configurator/summary-techdata */337);n(/*! ./configurator/tilelist */338);var K=n(/*! ./configurator/tooltip */339),Z=n(/*! ./configurator/dpu/user-configurations */219),tt=n(/*! ./configurator/visualizer */340),et=n(/*! ./configurator/vtp */341),nt=n(/*! ./configurator/wallet */342),rt=n(/*! ./configurator/your-payment */343),it=n(/*! ./configurator/zip-download */344);window.nemo=window.nemo||{},window.nemo.configurator=window.nemo.configurator||{},window.nemo.configurator.api=m.dpuApi,SETUPS&&(window.nemo.setups=SETUPS.__.stored);var ot=[i.audicode,o.aveApi,s.bicolor,u.carstore,c.cart,d.container,f.domState,p.dpuConflict,g.dpuController,v.dpuModel,h.dpuSearch,y.dpuTransfer,S.equipmentSearch,C.expertmode,E.formCore,A.formSelect,_.formSimple,k.hiddenVersionItems,x.infobox,I.inlinerendering,L.inlinerenderingAoz,T.lastConfiguration,j.loadingIndicator,N.pattern,O.patternAudicode,P.patternCarlineId,M.patternConfiguration,B.patternLanguage,R.patternLeadsource,F.patternPartnerId,U.patternPrString,Q.patternVehicleId,z.pdfServiceLink,V.preconfigurationTeaser,q.preconfsTeaser,H.recommendations,W.renderinginjector,G.renderinglayer,X.scsMatching,Y.scsMatchingBasket,$.startlayer,J.summaryTechdata,K.tooltip,Z.userConfigurations,tt.visializer,et.vtp,nt.wallet,rt.yourPayment,it.zipDownload],at=r.signal.getEmitter();ot.forEach(function(t){try{t.initialize(at)}catch(t){console.error(t)}}),e.audicode=i.audicode,e.aveApi=o.aveApi,e.aveDom=a.aveDom,e.bicolor=s.bicolor,e.carlineMapping=l.carlineMapping,e.cart=c.cart,e.container=d.container,e.domState=f.domState,e.dpuApi=m.dpuApi,e.dpuConflict=p.dpuConflict,e.dpuController=g.dpuController,e.dpuModel=v.dpuModel,e.dpuSearch=h.dpuSearch,e.dpuTransfer=y.dpuTransfer,e.equipmentSearch=S.equipmentSearch,e.expertmode=C.expertmode,e.formCore=E.formCore,e.formField=b.formField,e.formGroup=w.formGroup,e.formItem=D.formItem,e.formSelect=A.formSelect,e.formSimple=_.formSimple,e.hiddenVersionItems=k.hiddenVersionItems,e.infobox=x.infobox,e.inlinerendering=I.inlinerendering,e.inlinerenderingAoz=L.inlinerenderingAoz,e.lastConfiguration=T.lastConfiguration,e.loadingIndicator=j.loadingIndicator,e.pattern=N.pattern,e.patternAudicode=O.patternAudicode,e.patternCarlineId=P.patternCarlineId,e.patternConfiguration=M.patternConfiguration,e.patternLanguage=B.patternLanguage,e.patternLeadsource=R.patternLeadsource,e.patternPartnerId=F.patternPartnerId,e.patternPrString=U.patternPrString,e.patternVehicleId=Q.patternVehicleId,e.pdfServiceLink=z.pdfServiceLink,e.preconfigurationTeaser=V.preconfigurationTeaser,e.preconfsTeaser=q.preconfsTeaser,e.recommendations=H.recommendations,e.renderinginjector=W.renderinginjector,e.scsMatching=X.scsMatching,e.scsMatchingBasket=Y.scsMatchingBasket,e.startlayer=$.startlayer,e.summaryTechdata=J.summaryTechdata,e.tooltip=K.tooltip,e.userConfigurations=Z.userConfigurations,e.visializer=tt.visializer,e.vtp=et.vtp,e.wallet=nt.wallet,e.yourPayment=rt.yourPayment,e.zipDownload=it.zipDownload},
/*!**************************************************!*\
  !*** ../node_modules/qrcode-generator/qrcode.js ***!
  \**************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){var r,i,o,a=function(){var t=function(t,e){var n=t,r=o[e],i=null,a=0,s=null,l=[],u={},c=function(t,e){i=function(t){for(var e=new Array(t),n=0;n<t;n+=1){e[n]=new Array(t);for(var r=0;r<t;r+=1)e[n][r]=null}return e}(a=4*n+17),d(0,0),d(a-7,0),d(0,a-7),m(),f(),w(t,e),n>=7&&g(t),null==s&&(s=_(n,r,l)),D(s,e)},d=function(t,e){for(var n=-1;n<=7;n+=1)if(!(t+n<=-1||a<=t+n))for(var r=-1;r<=7;r+=1)e+r<=-1||a<=e+r||(i[t+n][e+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},f=function(){for(var t=8;t<a-8;t+=1)null==i[t][6]&&(i[t][6]=t%2==0);for(var e=8;e<a-8;e+=1)null==i[6][e]&&(i[6][e]=e%2==0)},m=function(){for(var t=p.getPatternPosition(n),e=0;e<t.length;e+=1)for(var r=0;r<t.length;r+=1){var o=t[e],a=t[r];if(null==i[o][a])for(var s=-2;s<=2;s+=1)for(var l=-2;l<=2;l+=1)i[o+s][a+l]=-2==s||2==s||-2==l||2==l||0==s&&0==l}},g=function(t){for(var e=p.getBCHTypeNumber(n),r=0;r<18;r+=1){var o=!t&&1==(e>>r&1);i[Math.floor(r/3)][r%3+a-8-3]=o}for(r=0;r<18;r+=1){o=!t&&1==(e>>r&1);i[r%3+a-8-3][Math.floor(r/3)]=o}},w=function(t,e){for(var n=r<<3|e,o=p.getBCHTypeInfo(n),s=0;s<15;s+=1){var l=!t&&1==(o>>s&1);s<6?i[s][8]=l:s<8?i[s+1][8]=l:i[a-15+s][8]=l}for(s=0;s<15;s+=1){l=!t&&1==(o>>s&1);s<8?i[8][a-s-1]=l:s<9?i[8][15-s-1+1]=l:i[8][15-s-1]=l}i[a-8][8]=!t},D=function(t,e){for(var n=-1,r=a-1,o=7,s=0,l=p.getMaskFunction(e),u=a-1;u>0;u-=2)for(6==u&&(u-=1);;){for(var c=0;c<2;c+=1)if(null==i[r][u-c]){var d=!1;s<t.length&&(d=1==(t[s]>>>o&1)),l(r,u-c)&&(d=!d),i[r][u-c]=d,-1==(o-=1)&&(s+=1,o=7)}if((r+=n)<0||a<=r){r-=n,n=-n;break}}},_=function(t,e,n){for(var r=h.getRSBlocks(t,e),i=y(),o=0;o<n.length;o+=1){var a=n[o];i.put(a.getMode(),4),i.put(a.getLength(),p.getLengthInBits(a.getMode(),t)),a.write(i)}var s=0;for(o=0;o<r.length;o+=1)s+=r[o].dataCount;if(i.getLengthInBits()>8*s)throw"code length overflow. ("+i.getLengthInBits()+">"+8*s+")";for(i.getLengthInBits()+4<=8*s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*s||(i.put(236,8),i.getLengthInBits()>=8*s));)i.put(17,8);return function(t,e){for(var n=0,r=0,i=0,o=new Array(e.length),a=new Array(e.length),s=0;s<e.length;s+=1){var l=e[s].dataCount,u=e[s].totalCount-l;r=Math.max(r,l),i=Math.max(i,u),o[s]=new Array(l);for(var c=0;c<o[s].length;c+=1)o[s][c]=255&t.getBuffer()[c+n];n+=l;var d=p.getErrorCorrectPolynomial(u),f=v(o[s],d.getLength()-1).mod(d);for(a[s]=new Array(d.getLength()-1),c=0;c<a[s].length;c+=1){var m=c+f.getLength()-a[s].length;a[s][c]=m>=0?f.getAt(m):0}}var g=0;for(c=0;c<e.length;c+=1)g+=e[c].totalCount;var h=new Array(g),y=0;for(c=0;c<r;c+=1)for(s=0;s<e.length;s+=1)c<o[s].length&&(h[y]=o[s][c],y+=1);for(c=0;c<i;c+=1)for(s=0;s<e.length;s+=1)c<a[s].length&&(h[y]=a[s][c],y+=1);return h}(i,r)};return u.addData=function(t,e){var n=null;switch(e=e||"Byte"){case"Numeric":n=S(t);break;case"Alphanumeric":n=C(t);break;case"Byte":n=E(t);break;case"Kanji":n=b(t);break;default:throw"mode:"+e}l.push(n),s=null},u.isDark=function(t,e){if(t<0||a<=t||e<0||a<=e)throw t+","+e;return i[t][e]},u.getModuleCount=function(){return a},u.make=function(){if(n<1){for(var t=1;t<40;t++){for(var e=h.getRSBlocks(t,r),i=y(),o=0;o<l.length;o++){var a=l[o];i.put(a.getMode(),4),i.put(a.getLength(),p.getLengthInBits(a.getMode(),t)),a.write(i)}var s=0;for(o=0;o<e.length;o++)s+=e[o].dataCount;if(i.getLengthInBits()<=8*s)break}n=t}c(!1,function(){for(var t=0,e=0,n=0;n<8;n+=1){c(!0,n);var r=p.getLostPoint(u);(0==n||t>r)&&(t=r,e=n)}return e}())},u.createTableTag=function(t,e){t=t||2;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+(e=void 0===e?4*t:e)+"px;",n+='">',n+="<tbody>";for(var r=0;r<u.getModuleCount();r+=1){n+="<tr>";for(var i=0;i<u.getModuleCount();i+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+t+"px;",n+=" height: "+t+"px;",n+=" background-color: ",n+=u.isDark(r,i)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return n+="</tbody>",n+="</table>"},u.createSvgTag=function(t,e){t=t||2,e=void 0===e?4*t:e;var n,r,i,o,a=u.getModuleCount()*t+2*e,s="";for(o="l"+t+",0 0,"+t+" -"+t+",0 0,-"+t+"z ",s+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',s+=' width="'+a+'px"',s+=' height="'+a+'px"',s+=' viewBox="0 0 '+a+" "+a+'" ',s+=' preserveAspectRatio="xMinYMin meet">',s+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',s+='<path d="',r=0;r<u.getModuleCount();r+=1)for(i=r*t+e,n=0;n<u.getModuleCount();n+=1)u.isDark(r,n)&&(s+="M"+(n*t+e)+","+i+o);return s+='" stroke="transparent" fill="black"/>',s+="</svg>"},u.createDataURL=function(t,e){t=t||2,e=void 0===e?4*t:e;var n=u.getModuleCount()*t+2*e,r=e,i=n-e;return A(n,n,function(e,n){if(r<=e&&e<i&&r<=n&&n<i){var o=Math.floor((e-r)/t),a=Math.floor((n-r)/t);return u.isDark(a,o)?0:1}return 1})},u.createImgTag=function(t,e,n){t=t||2,e=void 0===e?4*t:e;var r=u.getModuleCount()*t+2*e,i="";return i+="<img",i+=' src="',i+=u.createDataURL(t,e),i+='"',i+=' width="',i+=r,i+='"',i+=' height="',i+=r,i+='"',n&&(i+=' alt="',i+=n,i+='"'),i+="/>"},u.renderTo2dContext=function(t,e){e=e||2;for(var n=u.getModuleCount(),r=0;r<n;r++)for(var i=0;i<n;i++)t.fillStyle=u.isDark(r,i)?"black":"white",t.fillRect(r*e,i*e,e,e)},u};t.stringToBytes=(t.stringToBytesFuncs={default:function(t){for(var e=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);e.push(255&r)}return e}}).default,t.createStringToBytes=function(t,e){var n=function(){for(var n=D(t),r=function(){var t=n.read();if(-1==t)throw"eof";return t},i=0,o={};;){var a=n.read();if(-1==a)break;var s=r(),l=r()<<8|r();o[String.fromCharCode(a<<8|s)]=l,i+=1}if(i!=e)throw i+" != "+e;return o}(),r="?".charCodeAt(0);return function(t){for(var e=[],i=0;i<t.length;i+=1){var o=t.charCodeAt(i);if(o<128)e.push(o);else{var a=n[t.charAt(i)];"number"==typeof a?(255&a)==a?e.push(a):(e.push(a>>>8),e.push(255&a)):e.push(r)}}return e}};var e=1,n=2,r=4,i=8,o={L:1,M:0,Q:3,H:2},a=0,s=1,l=2,u=3,c=4,d=5,f=6,m=7,p=function(){var t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],o={},p=function(t){for(var e=0;0!=t;)e+=1,t>>>=1;return e};return o.getBCHTypeInfo=function(t){for(var e=t<<10;p(e)-p(1335)>=0;)e^=1335<<p(e)-p(1335);return 21522^(t<<10|e)},o.getBCHTypeNumber=function(t){for(var e=t<<12;p(e)-p(7973)>=0;)e^=7973<<p(e)-p(7973);return t<<12|e},o.getPatternPosition=function(e){return t[e-1]},o.getMaskFunction=function(t){switch(t){case a:return function(t,e){return(t+e)%2==0};case s:return function(t,e){return t%2==0};case l:return function(t,e){return e%3==0};case u:return function(t,e){return(t+e)%3==0};case c:return function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0};case d:return function(t,e){return t*e%2+t*e%3==0};case f:return function(t,e){return(t*e%2+t*e%3)%2==0};case m:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw"bad maskPattern:"+t}},o.getErrorCorrectPolynomial=function(t){for(var e=v([1],0),n=0;n<t;n+=1)e=e.multiply(v([1,g.gexp(n)],0));return e},o.getLengthInBits=function(t,o){if(1<=o&&o<10)switch(t){case e:return 10;case n:return 9;case r:case i:return 8;default:throw"mode:"+t}else if(o<27)switch(t){case e:return 12;case n:return 11;case r:return 16;case i:return 10;default:throw"mode:"+t}else{if(!(o<41))throw"type:"+o;switch(t){case e:return 14;case n:return 13;case r:return 16;case i:return 12;default:throw"mode:"+t}}},o.getLostPoint=function(t){for(var e=t.getModuleCount(),n=0,r=0;r<e;r+=1)for(var i=0;i<e;i+=1){for(var o=0,a=t.isDark(r,i),s=-1;s<=1;s+=1)if(!(r+s<0||e<=r+s))for(var l=-1;l<=1;l+=1)i+l<0||e<=i+l||0==s&&0==l||a==t.isDark(r+s,i+l)&&(o+=1);o>5&&(n+=3+o-5)}for(r=0;r<e-1;r+=1)for(i=0;i<e-1;i+=1){var u=0;t.isDark(r,i)&&(u+=1),t.isDark(r+1,i)&&(u+=1),t.isDark(r,i+1)&&(u+=1),t.isDark(r+1,i+1)&&(u+=1),0!=u&&4!=u||(n+=3)}for(r=0;r<e;r+=1)for(i=0;i<e-6;i+=1)t.isDark(r,i)&&!t.isDark(r,i+1)&&t.isDark(r,i+2)&&t.isDark(r,i+3)&&t.isDark(r,i+4)&&!t.isDark(r,i+5)&&t.isDark(r,i+6)&&(n+=40);for(i=0;i<e;i+=1)for(r=0;r<e-6;r+=1)t.isDark(r,i)&&!t.isDark(r+1,i)&&t.isDark(r+2,i)&&t.isDark(r+3,i)&&t.isDark(r+4,i)&&!t.isDark(r+5,i)&&t.isDark(r+6,i)&&(n+=40);var c=0;for(i=0;i<e;i+=1)for(r=0;r<e;r+=1)t.isDark(r,i)&&(c+=1);return n+=10*(Math.abs(100*c/e/e-50)/5)},o}(),g=function(){for(var t=new Array(256),e=new Array(256),n=0;n<8;n+=1)t[n]=1<<n;for(n=8;n<256;n+=1)t[n]=t[n-4]^t[n-5]^t[n-6]^t[n-8];for(n=0;n<255;n+=1)e[t[n]]=n;var r={glog:function(t){if(t<1)throw"glog("+t+")";return e[t]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t[e]}};return r}();function v(t,e){if(void 0===t.length)throw t.length+"/"+e;var n=function(){for(var n=0;n<t.length&&0==t[n];)n+=1;for(var r=new Array(t.length-n+e),i=0;i<t.length-n;i+=1)r[i]=t[i+n];return r}(),r={getAt:function(t){return n[t]},getLength:function(){return n.length},multiply:function(t){for(var e=new Array(r.getLength()+t.getLength()-1),n=0;n<r.getLength();n+=1)for(var i=0;i<t.getLength();i+=1)e[n+i]^=g.gexp(g.glog(r.getAt(n))+g.glog(t.getAt(i)));return v(e,0)},mod:function(t){if(r.getLength()-t.getLength()<0)return r;for(var e=g.glog(r.getAt(0))-g.glog(t.getAt(0)),n=new Array(r.getLength()),i=0;i<r.getLength();i+=1)n[i]=r.getAt(i);for(i=0;i<t.getLength();i+=1)n[i]^=g.gexp(g.glog(t.getAt(i))+e);return v(n,0).mod(t)}};return r}var h=function(){var t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e=function(t,e){var n={};return n.totalCount=t,n.dataCount=e,n},n={};return n.getRSBlocks=function(n,r){var i=function(e,n){switch(n){case o.L:return t[4*(e-1)+0];case o.M:return t[4*(e-1)+1];case o.Q:return t[4*(e-1)+2];case o.H:return t[4*(e-1)+3];default:return}}(n,r);if(void 0===i)throw"bad rs block @ typeNumber:"+n+"/errorCorrectionLevel:"+r;for(var a=i.length/3,s=[],l=0;l<a;l+=1)for(var u=i[3*l+0],c=i[3*l+1],d=i[3*l+2],f=0;f<u;f+=1)s.push(e(c,d));return s},n}(),y=function(){var t=[],e=0,n={getBuffer:function(){return t},getAt:function(e){var n=Math.floor(e/8);return 1==(t[n]>>>7-e%8&1)},put:function(t,e){for(var r=0;r<e;r+=1)n.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return e},putBit:function(n){var r=Math.floor(e/8);t.length<=r&&t.push(0),n&&(t[r]|=128>>>e%8),e+=1}};return n},S=function(t){var n=e,r=t,i={getMode:function(){return n},getLength:function(t){return r.length},write:function(t){for(var e=r,n=0;n+2<e.length;)t.put(o(e.substring(n,n+3)),10),n+=3;n<e.length&&(e.length-n==1?t.put(o(e.substring(n,n+1)),4):e.length-n==2&&t.put(o(e.substring(n,n+2)),7))}},o=function(t){for(var e=0,n=0;n<t.length;n+=1)e=10*e+a(t.charAt(n));return e},a=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+t};return i},C=function(t){var e=n,r=t,i={getMode:function(){return e},getLength:function(t){return r.length},write:function(t){for(var e=r,n=0;n+1<e.length;)t.put(45*o(e.charAt(n))+o(e.charAt(n+1)),11),n+=2;n<e.length&&t.put(o(e.charAt(n)),6)}},o=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);if("A"<=t&&t<="Z")return t.charCodeAt(0)-"A".charCodeAt(0)+10;switch(t){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+t}};return i},E=function(e){var n=r,i=t.stringToBytes(e),o={getMode:function(){return n},getLength:function(t){return i.length},write:function(t){for(var e=0;e<i.length;e+=1)t.put(i[e],8)}};return o},b=function(e){var n=i,r=t.stringToBytesFuncs.SJIS;if(!r)throw"sjis not supported.";!function(t,e){var n=r("");if(2!=n.length||38726!=(n[0]<<8|n[1]))throw"sjis not supported."}();var o=r(e),a={getMode:function(){return n},getLength:function(t){return~~(o.length/2)},write:function(t){for(var e=o,n=0;n+1<e.length;){var r=(255&e[n])<<8|255&e[n+1];if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw"illegal char at "+(n+1)+"/"+r;r-=49472}r=192*(r>>>8&255)+(255&r),t.put(r,13),n+=2}if(n<e.length)throw"illegal char at "+(n+1)}};return a},w=function(){var t=[],e={writeByte:function(e){t.push(255&e)},writeShort:function(t){e.writeByte(t),e.writeByte(t>>>8)},writeBytes:function(t,n,r){n=n||0,r=r||t.length;for(var i=0;i<r;i+=1)e.writeByte(t[i+n])},writeString:function(t){for(var n=0;n<t.length;n+=1)e.writeByte(t.charCodeAt(n))},toByteArray:function(){return t},toString:function(){var e="";e+="[";for(var n=0;n<t.length;n+=1)n>0&&(e+=","),e+=t[n];return e+="]"}};return e},D=function(t){var e=t,n=0,r=0,i=0,o={read:function(){for(;i<8;){if(n>=e.length){if(0==i)return-1;throw"unexpected end of file./"+i}var t=e.charAt(n);if(n+=1,"="==t)return i=0,-1;t.match(/^\s$/)||(r=r<<6|a(t.charCodeAt(0)),i+=6)}var o=r>>>i-8&255;return i-=8,o}},a=function(t){if(65<=t&&t<=90)return t-65;if(97<=t&&t<=122)return t-97+26;if(48<=t&&t<=57)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw"c:"+t};return o},A=function(t,e,n){for(var r=function(t,e){var n=t,r=e,i=new Array(t*e),o={setPixel:function(t,e,r){i[e*n+t]=r},write:function(t){t.writeString("GIF87a"),t.writeShort(n),t.writeShort(r),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(n),t.writeShort(r),t.writeByte(0);var e=a(2);t.writeByte(2);for(var i=0;e.length-i>255;)t.writeByte(255),t.writeBytes(e,i,255),i+=255;t.writeByte(e.length-i),t.writeBytes(e,i,e.length-i),t.writeByte(0),t.writeString(";")}},a=function(t){for(var e=1<<t,n=1+(1<<t),r=t+1,o=s(),a=0;a<e;a+=1)o.add(String.fromCharCode(a));o.add(String.fromCharCode(e)),o.add(String.fromCharCode(n));var l=w(),u=function(t){var e=t,n=0,r=0,i={write:function(t,i){if(t>>>i!=0)throw"length over";for(;n+i>=8;)e.writeByte(255&(t<<n|r)),i-=8-n,t>>>=8-n,r=0,n=0;r|=t<<n,n+=i},flush:function(){n>0&&e.writeByte(r)}};return i}(l);u.write(e,r);var c=0,d=String.fromCharCode(i[c]);for(c+=1;c<i.length;){var f=String.fromCharCode(i[c]);c+=1,o.contains(d+f)?d+=f:(u.write(o.indexOf(d),r),o.size()<4095&&(o.size()==1<<r&&(r+=1),o.add(d+f)),d=f)}return u.write(o.indexOf(d),r),u.write(n,r),u.flush(),l.toByteArray()},s=function(){var t={},e=0,n={add:function(r){if(n.contains(r))throw"dup key:"+r;t[r]=e,e+=1},size:function(){return e},indexOf:function(e){return t[e]},contains:function(e){return void 0!==t[e]}};return n};return o}(t,e),i=0;i<e;i+=1)for(var o=0;o<t;o+=1)r.setPixel(o,i,n(o,i));var a=w();r.write(a);for(var s=function(){var t=0,e=0,n=0,r="",i={},o=function(t){r+=String.fromCharCode(a(63&t))},a=function(t){if(t<0);else{if(t<26)return 65+t;if(t<52)return t-26+97;if(t<62)return t-52+48;if(62==t)return 43;if(63==t)return 47}throw"n:"+t};return i.writeByte=function(r){for(t=t<<8|255&r,e+=8,n+=1;e>=6;)o(t>>>e-6),e-=6},i.flush=function(){if(e>0&&(o(t<<6-e),t=0,e=0),n%3!=0)for(var i=3-n%3,a=0;a<i;a+=1)r+="="},i.toString=function(){return r},i}(),l=a.toByteArray(),u=0;u<l.length;u+=1)s.writeByte(l[u]);return s.flush(),"data:image/gif;base64,"+s};return t}();a.stringToBytesFuncs["UTF-8"]=function(t){return function(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e.push(r):r<2048?e.push(192|r>>6,128|63&r):r<55296||r>=57344?e.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&t.charCodeAt(n)),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return e}(t)},function(n){i=[],void 0===(o="function"==typeof(r=n)?r.apply(e,i):r)||(t.exports=o)}(function(){return a})},
/*!****************************************************!*\
  !*** ./js/configurator/ave/ave-canvas-template.js ***!
  \****************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.aveCanvasTemplate='<div class="nm-ave-animation-selector-wrapper">\n\t<div class="nm-ave-animation-selector nm-el-btn nm-el-btn-01 nm-icon-settings nm-icon-expand-white nm-hidden">\n\t\t<div class="options-text">{{=window.i18n[\'rendering-layer.options\']}}</div>\n\t</div>\n\t<ul class="nm-ave-animation-selection">\n\t\t<li class="nm-button-close">\n\t\t\t<svg class="nm-icon-cancel">\n\t\t\t\t<use xlink:href={{=SETUPS.get(\'coreci.url.assets\')+"/icons/svg/sprite/sprite.svg#nm-icon-cancel"}}></use>\n\t\t\t</svg>\n\t\t</li>\n\t</ul>\n</div>'},
/*!***********************************!*\
  !*** ./js/configurator/basket.js ***!
  \***********************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(/*! babel-runtime/core-js/object/set-prototype-of */15)),i=d(n(/*! babel-runtime/core-js/reflect/construct */17)),o=d(n(/*! babel-runtime/helpers/toConsumableArray */45)),a=d(n(/*! babel-runtime/core-js/object/get-prototype-of */7)),s=d(n(/*! babel-runtime/helpers/classCallCheck */1)),l=d(n(/*! babel-runtime/helpers/createClass */2)),u=d(n(/*! babel-runtime/helpers/possibleConstructorReturn */8)),c=d(n(/*! babel-runtime/helpers/inherits */9));function d(t){return t&&t.__esModule?t:{default:t}}function f(){return(0,i.default)(HTMLElement,[],this.__proto__.constructor)}(0,r.default)(f.prototype,HTMLElement.prototype),(0,r.default)(f,HTMLElement);var m=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,(e.__proto__||(0,a.default)(e)).call(this))}return(0,c.default)(e,t),(0,l.default)(e,[{key:"connectedCallback",value:function(){this.basketContainer=this.querySelector(".nm-basket-container"),this.footerCheck=this.parentNode.querySelector(".nm-basket-scroll-check-bottom"),this.topCheck=[].concat((0,o.default)(document.querySelectorAll(".nm-navigation-scroll-check"))).pop(),this.contentContainer=this.parentNode.querySelector(".nm-content"),this.isStickyBottom=!1,this.addEvents(),this.setupPageForBasket(),this.observerTopScrollPosition=this.observeTopScrollPosition(),this.observerBottomScrollPosition=this.observeBottomScrollPosition(),this.observerMatchingWidget=this.observeMatchingWidget()}},{key:"disconnectedCallback",value:function(){this.removeEvents(),this.observerTopScrollPosition.disconnect(),this.observerBottomScrollPosition.disconnect(),this.observerMatchingWidget.disconnect()}},{key:"addEvents",value:function(){var t=this;this.basketContainer.addEventListener("transitionend",function(){return t.setupPageForBasket()}),window.addEventListener("resize",function(){return t.setupPageForBasket()})}},{key:"removeEvents",value:function(){var t=this;this.basketContainer.removeEventListener("transitionend",function(){return t.setupPageForBasket()}),window.removeEventListener("resize",function(){return t.setupPageForBasket()})}},{key:"setupPageForBasket",value:function(){var t=this.getBasketHeight();this.contentContainer.style.minHeight=t+"px",this.footerCheck.style.bottom=t+"px",this.isStickable=window.innerHeight>t,this.checkBottomPosition()}},{key:"observeBottomScrollPosition",value:function(){var t=this,e=new IntersectionObserver(function(e){return e.forEach(function(e){return t.checkBottomPosition(e)})},{threshold:[0,1]});return e.observe(this.footerCheck),e}},{key:"observeTopScrollPosition",value:function(){var t=this,e=new IntersectionObserver(function(e){return e.forEach(function(e){return t.checkTopPosition(e)})},{threshold:[0,1]});return e.observe(this.topCheck),e}},{key:"observeMatchingWidget",value:function(){var t=this,e=new MutationObserver(function(){t.setupPageForBasket()});return e.observe(this,{childList:!0,subtree:!0}),e}},{key:"checkTopPosition",value:function(t){var e=t||{boundingClientRect:this.topCheck.getBoundingClientRect(),isIntersecting:!1};this.isStickyTop=(this.isStickable||!this.isFullBasketShown)&&!e.isIntersecting&&e.boundingClientRect.top.toFixed(0)<=0}},{key:"checkBottomPosition",value:function(t){var e=t||{boundingClientRect:this.footerCheck.getBoundingClientRect(),isIntersecting:!1};this.isStickyBottom=this.isStickable&&this.isFullBasketShown&&!e.isIntersecting&&e.boundingClientRect.top.toFixed(0)<=0}},{key:"getBasketHeight",value:function(){this.classList.add("nm-basket-superwrap-hidden-measure");var t=this.basketContainer.clientHeight;return this.classList.remove("nm-basket-superwrap-hidden-measure"),t+this.getBasketOffset()}},{key:"getBasketOffset",value:function(){var t=this.isFullBasketShown?54:0,e=document.querySelector(".nm-nav-wrap"),n=e?e.clientHeight:0,r=document.querySelector(".nm-module-current-consumption");return t+n+(r?r.clientHeight:0)}},{key:"isStickyBottom",set:function(t){t?this.classList.add("nm-basket-sticky-bottom"):this.classList.remove("nm-basket-sticky-bottom")}},{key:"isStickyTop",set:function(t){t?this.classList.add("nm-basket-sticky-top"):this.classList.remove("nm-basket-sticky-top"),t&&!this.isFullBasketShown?this.style.top=this.getBasketOffset()+"px":this.style.top=""},get:function(){return this.classList.contains("nm-basket-sticky-top")}},{key:"isStickable",set:function(t){this.setAttribute("data-is-stickable",t)},get:function(){return"true"===this.getAttribute("data-is-stickable")}},{key:"isFullBasketShown",get:function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)>=1100}}]),e}(f);e.default=m,window.customElements.get("audi-configurator-basket")||window.customElements.define("audi-configurator-basket",m)},
/*!************************************!*\
  !*** ./js/configurator/bicolor.js ***!
  \************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bicolor=void 0;var r=n(/*! ../application-bundle */3),i=n(/*! ./dpu/api */27),o=n(/*! core-utils */0),a=n(/*! ./bicolor-options-template */283),s={},l={__:s};s.oDefaults={sSelectorDropDown:".nm-j-configurator-dropdown",sConfigIdsDataAttribute:"data-configurator-id-included",sSelectorBicolorModule:".nm-md-bicolor-chooser",sSelectorOptionList:".nm-md-options-list .nm-configurator-container",sClassShowOptions:"nm-md-bicolor-chooser-show-options"},s.addEvents=function(){s.eventBus.on(r.appEvents.CONFIG_UPDATE,s.handleConfigurationUpdates),s.eventBus.on(r.appEvents.LAYER_LOADED,s.updateBicolorOptions)},s.handleConfigurationUpdates=function(){var t=o.dom.getElementsArray(s.oDefaults.sSelectorDropDown);s.updateDropDownStatus(t),s.updateBicolorOptions()},s.updateBicolorOptions=function(){var t,e,n,r,o,a,l=document.querySelector(s.oDefaults.sSelectorBicolorModule);if(l&&null!==l&&(t=l.parentElement.querySelector(s.oDefaults.sSelectorOptionList)),t&&null!==t)for(e=s.parseArrayFromString(t.getAttribute(s.oDefaults.sConfigIdsDataAttribute)),n=i.dpuApi.getItems(),l.classList.remove(s.oDefaults.sClassShowOptions),o=0,a=e.length;o<a;o++)if((r=n[e[o]]||{}).status&&("11010"===r.status||"10011"===r.status))return l.classList.add(s.oDefaults.sClassShowOptions),!1},s.updateDropDownStatus=function(t){var e,n,r,i;for(n=0,r=t.length;n<r;n++)i=t[n],e=s.parseArrayFromString(i.getAttribute(s.oDefaults.sConfigIdsDataAttribute)),s.redrawDropDown(i,e)},s.redrawDropDown=function(t,e){var n,r,l,u,c,d;for(t.innerHTML="",n=i.dpuApi.getItems()||[],c=0,d=e.length;c<d;c++)(r=n[e[c]]||{}).status&&!s.isHidden(r.status)&&(u={domId:r.id,status:r.status,description:r.name||r.description||"carinfo[id] missing",selected:s.isSelected(r.status)},l=o.template.render(a.bicolorOptionsTemplate,u),o.dom.appendHtmlString(t,l))},s.isSelected=function(t){var e=new RegExp("(0|1){5}");return!(!t.length||5!==t.length||"string"!=typeof t||!e.test(t))&&new RegExp("1(1|0)01(0|1)").test(t)},s.isHidden=function(t){var e=new RegExp("(0|1){5}");return!t.length||5!==t.length||"string"!=typeof t||!e.test(t)||!new RegExp("110(0|1)0").test(t)},s.parseArrayFromString=function(t){var e=(t||"").replace(/[\[\]'"]+/g,"");return e=e.length?e.split(","):[]},l.initialize=function(t){s.eventBus=t,s.addEvents()},e.bicolor=l},
/*!*****************************************************!*\
  !*** ./js/configurator/bicolor-options-template.js ***!
  \*****************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.bicolorOptionsTemplate='<option class="nm-j-configurator-item nm-j-configurator-status_{{=it.status}}" data-configurator-id="{{=it.domId}}"\n{{?it.status=="11010" }}selected="selected" {{?}} value="{{=it.domId}}">\n\t{{=it.description}}\n</option>'},
/*!*************************************!*\
  !*** ./js/configurator/carstore.js ***!
  \*************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.carstore=void 0;var r=n(/*! core-utils */0),i=n(/*! ../application-bundle */3),o=n(/*! ./dpu/api */27),a=n(/*! ./dpu/controller */138),s=n(/*! ./carstore-list-template */289),l=n(/*! ./carstore-fail-template */290),u=n(/*! ./carstore-empty-template */291),c={selectedItemID:null},d={__:c};c.oDefaults={selectorCarstoreDeleteSection:".nm-j-carstore-delete-section",selectorAbortButton:".nm-j-abort-button",selectorDeleteButton:".nm-j-delete-button",selectorCarDetails:".nm-j-carstore-item-details",selectorForm:".nm-j-carstore-modify",selectorCarstoreItem:".nm-module-carstore .nm-j-carstore-item",selectorCarstoreList:".nm-j-carstore-list"},c.loadAgents=function(t){t.forEach(function(t){(new Image).src=t})},c.addEvents=function(){c.legacyEventBus.on("submit",c.oDefaults.selectorForm,c.handleFormSubmit),c.eventBus.on(i.appEvents.FORM_FINISHED,c.handleFormFinished),c.eventBus.on(i.appEvents.FORM_ERROR,c.handlePossibleLoginStateChange),c.eventBus.on(i.appEvents.MYAUDI_LOGIN,c.list),c.eventBus.on(i.appEvents.LAYER_LOADED,c.list)},c.triggerLoginStateEvent=function(t){if(t){var e=o.dpuApi.getVisitorId();e?c.eventBus.emit(i.appEvents.MYAUDI_LOGIN,e):c.eventBus.emit(i.appEvents.MYAUDI_LOGIN)}else c.eventBus.emit(i.appEvents.MYAUDI_LOGOUT);c.updateLoginState()},c.handlePossibleLoginStateChange=function(t){t&&t.response&&t.response.header&&t.response.header["logged-in"]&&t.response.header.subsession&&o.dpuApi.setLogin(t.response.header["logged-in"],t.response.header.subsession).then(c.triggerLoginStateEvent).catch(function(t){c.triggerErrorLayer(t,"error.message.LOGIN_FAILED")})},c.updateLoginState=function(){var t=r.dom.getElement("body");o.dpuApi.isLoggedIn()?t.classList.add("nm-logged-in"):t.classList.remove("nm-logged-in")},c.handleFormSubmit=function(t){t.preventDefault();c.selectedItemID=this.getAttribute("data-form-id");var e=r.dom.getElement("#carstore-select-"+c.selectedItemID),n=e&&e.options?e.options[e.selectedIndex].value:"none";"configuration-delete"===n?c.deleteCarstoreItem():"configuration-load"===n&&c.loadCarstoreItem()},c.renderCarstoreList=function(t){var e=r.dom.getElement(c.oDefaults.selectorCarstoreList);e.innerHTML=c.renderListTemplate(t.carstore),e.classList.remove("nm-loader")},c.renderListTemplate=function(t){return t.list?(t.altImage=o.dpuApi.getAltImagePath("selection-compare","none"),r.template.render(s.carstoreListTemplate,t)):t.statuscode&&800===t.statuscode?r.template.render(l.carstoreFailTemplate,{}):r.template.render(u.carstoreEmptyTemplate,{})},c.handleFormFinished=function(t){"login"===t.id?c.handleLoginFormFinished(t):"carstore"===t.id&&c.handleSaveFormFinished()},c.handleLoginFormFinished=function(t){c.loadAgents(t.response.login.agents.standard),c.loadAgents(t.response.login.agents.secure),c.handlePossibleLoginStateChange(t)},c.handleSaveFormFinished=function(){var t=r.dom.getElement(".nm-carstore-save .nm-j-carstore-save");t.classList.remove("nm-j-carstore-save"),t.classList.add("nm-j-carstore-list"),t.innerHTML="",c.list("carstore")},c.list=function(t){c.updateLoginState(),o.dpuApi.isLoggedIn()&&c.isCarstoreListOpen()&&(c.showLoader(),a.dpuController.listCarstoreItems().then(function(e){if(c.renderCarstoreList(e),t&&"carstore"===t){var n=r.dom.getElement(".nm-j-audicode").innerText;c.eventBus.emit(i.appEvents.CONFIG_SAVED,n)}}).catch(function(t){c.triggerErrorLayer(t,"carstore-layer.error-loading-stots")}).then(function(){c.hideLoader()}))},c.isCarstoreListOpen=function(){return r.dom.getElementsArray(c.oDefaults.selectorCarstoreList).length>0},c.showLoader=function(){r.dom.getElementsArray(c.oDefaults.selectorCarstoreList).forEach(function(t){t.innerHTML="",t.classList.add("nm-loader")})},c.hideLoader=function(){r.dom.getElementsArray(c.oDefaults.selectorCarstoreList).forEach(function(t){t.classList.remove("nm-loader")})},c.deleteCarstoreItem=function(){c.toggleDeleteSectionVisibiblity(!0),c.addDeleteButtonEvents()},c.handleDeleteAbort=function(t){return t.preventDefault(),c.toggleDeleteSectionVisibiblity(!1),c.removeDeleteButtonEvents(),c.selectedItemID=null,!1},c.handleDeleteSubmit=function(t){return t.preventDefault(),c.selectedItemID&&a.dpuController.deleteCarstoreItem(c.selectedItemID).then(function(t){c.list(t)}).catch(function(t){c.triggerErrorLayer(t,"carstore-layer.error-deleting-stot")}),c.removeDeleteButtonEvents(),c.selectedItemID=null,!1},c.toggleDeleteSectionVisibiblity=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=c.oDefaults.selectorCarstoreItem+"[data-item-position='"+c.selectedItemID+"'] ";r.dom.getElement(e+c.oDefaults.selectorCarstoreDeleteSection).classList.toggle("nm-hidden",!t),r.dom.getElement(e+c.oDefaults.selectorForm).classList.toggle("nm-hidden",t),r.dom.getElement(e+c.oDefaults.selectorCarDetails).classList.toggle("nm-hidden",t)},c.addDeleteButtonEvents=function(){var t=c.oDefaults.selectorCarstoreItem+"[data-item-position='"+c.selectedItemID+"'] ";c.legacyEventBus.on("click",t+c.oDefaults.selectorAbortButton,c.handleDeleteAbort),c.legacyEventBus.on("click",t+c.oDefaults.selectorDeleteButton,c.handleDeleteSubmit)},c.removeDeleteButtonEvents=function(){var t=c.oDefaults.selectorCarstoreItem+"[data-item-position='"+c.selectedItemID+"'] ";c.legacyEventBus.off("click",t+c.oDefaults.selectorAbortButton,c.handleDeleteAbort),c.legacyEventBus.off("click",t+c.oDefaults.selectorDeleteButton,c.handleDeleteSubmit)},c.loadCarstoreItem=function(){return a.dpuController.loadCarstoreItem(c.selectedItemID).catch(function(t){c.triggerErrorLayer(t,"carstore-layer.error-loading-car")}).then(function(){i.router.open("page",o.dpuApi.getCurrentCarlineUrl()),setTimeout(function(){var t=document.createEvent("HTMLEvents");t.initEvent("click",!0,!1),r.dom.getElement(".nm-button-close.nm-ajaxLayerClose").dispatchEvent(t)},100)}),!1},c.triggerErrorLayer=function(t,e){console.error(e,t);var n=o.dpuApi.getErrorMessage(t);c.eventBus.emit(i.appEvents.ERROR,[window.i18n[e],n])},d.initialize=function(t){c.eventBus=t,c.legacyEventBus=r.dom.getEventDelegate("body"),c.addEvents()},e.carstore=d},
/*!***********************************************************************!*\
  !*** ./js/configurator/configurationstart-implicit-layer-template.js ***!
  \***********************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.configStartImplicitTemplate='<div class="nm-layer-wrapper nm-layer-wrapper-dialogue">\n\t<div class="nm-layer nm-layer-dialogue">\n\t\t<div class="nm-layer-inner">\n\t\t\t<div class="nm-layer-dialogue-content clearfix">\n\t\t\t\t<div class="nm-3col clearfix">\n\t\t\t\t\t<div class="nm-module nm-start-layer nm-md-configurationstart-implicit-layer">\n\t\t\t\t\t\t<h2 class="nm-el-hdl nm-el-hdl-02 nm-at-hdl-b">\n\t\t\t\t\t\t\t{{=window.i18n[\'configurationstart-layer-info\']}}\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<p class="nm-el-pg nm-el-pg-01">{{= window.i18n[\'configurationstart-layer-edit\']}}</p>\n\t\t\t\t\t\t<div class="nm-btn-continue">\n\t\t\t\t\t\t\t<a href="#" class="nm-configurationstart-layer-close nm-el-btn nm-el-btn-01 nm-el-btn-ast" style="float:right;">{{=window.i18n[\'proceed-label\']}}</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'},
/*!*********************************************************************!*\
  !*** ./js/configurator/configurationstart-loaded-layer-template.js ***!
  \*********************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.configStartLoadedTemplate='<div class="nm-layer-wrapper nm-layer-wrapper-dialogue">\n\t<div class="nm-layer nm-layer-dialogue">\n\t\t<div class="nm-layer-inner">\n\t\t\t<div class="nm-layer-dialogue-content clearfix">\n\t\t\t\t<div class="nm-3col clearfix">\n\t\t\t\t\t<div class="nm-module nm-start-layer nm-simpleform nm-configurationstart-loaded-layer clearfix">\n\t\t\t\t\t\t<h2 class="nm-el-hdl nm-el-hdl-02 nm-at-hdl-b">\n\t\t\t\t\t\t\t{{=window.i18n[\'configurationloaded-layer-info\']}}\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<p class="nm-el-pg nm-el-pg-01">\n\t\t\t\t\t\t\t{{=\twindow.i18n[\'configurationloaded-layer-edit\']}}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<img src="{{=it.ms_url}}{{=it.configuration.assets.exterior_front[\'carstore.new\']}}"\n\t\t\t\t\t\tclass="nm-unscaled-image nm-alpha" />\n\t\t\t\t\t\t<div class="nm-start-information-overview">\n\t\t\t\t\t\t\t<div class="nm-start-inforamation-content">\n\t\t\t\t\t\t\t\t<span class="nm-el-hdl nm-el-hdl-04 nm-at-hdl-b">\n\t\t\t\t\t\t\t\t\t{{=it.configuration.carlineName}}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="nm-engine nm-el-pg nm-el-pg-03">\n\t\t\t\t\t\t\t\t\t{{=it.configuration.description}}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<ul class="nm-car-price clearfix">\n\t\t\t\t\t\t\t\t\t<li class="nm-car-price-total nm-el-hdl nm-el-hdl-04 nm-at-hdl-b clearfix">\n\t\t\t\t\t\t\t\t\t\t/*<span class="nm-car-price-total-key">\n\t\t\t\t\t\t\t\t\t\t\t{{=window.i18n[\'totalprice-label\']}}\n\t\t\t\t\t\t\t\t\t\t</span>*/\n\t\t\t\t\t\t\t\t\t\t<span class="nm-car-price-total-value">\n\n\t\t\t\t\t\t\t\t\t\t\t{{? typeof(it.configuration.prices.rotr) !== \'undefined\' && parseInt(it.configuration.prices.rotr, 10) > 0 }}\n\t\t\t\t\t\t\t\t\t\t\t\t{{=it.configuration.prices.rotr}}\n\t\t\t\t\t\t\t\t\t\t\t{{??}}\n\t\t\t\t\t\t\t\t\t\t\t\t{{=it.configuration.price}}\n\t\t\t\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="nm-btn-continue">\n\t\t\t\t\t\t\t\t<a href="#" class="nm-configurationstart-layer-close nm-el-btn nm-el-btn-01 nm-el-btn-ast">{{=window.i18n[\'proceed-label\']}}</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'},
/*!********************************************************!*\
  !*** ./js/configurator/dpu/transfer-layer-template.js ***!
  \********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.transferLayerTemplate='<div class="nm-layer-wrapper nm-layer-wrapper-dialogue nm-layer-wrapper-transfer">\n\t<div class="nm-layer nm-layer-transfer nm-layer-transfer-default">\n\t\t<div class="nm-layer-inner">\n\t\t\t<div class="nm-layer-conflict-content clearfix">\n\t\t\t\t<div class="nm-3col cearfix">\n\t\t\t\t\t<div class="">\n\t\t\t\t\t\t<h2 class="nm-el-hdl nm-el-hdl-02 nm-at-hdl-b">\n\t\t\t\t\t\t\t{{=window.i18n[\'transfer-layer.configuration-transfer\']}}\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t{{? 0 !== it.deleted.length}}\n\t\t\t\t\t\t<strong class="nm-el-pg nm-el-pg-01">\n\t\t\t\t\t\t\t{{=window.i18n[\'transfer-layer.configuration-transfer-warning\']}}:\n\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t<ul class="nm-options-list nm-transfer-trigger nm-j-configurator-no-update">\n\t\t\t\t\t\t\t{{~it.deleted :value:index}}\n\t\t\t\t\t\t\t<li class="nm-check-list-item nm-j-configurator-item">\n\t\t\t\t\t\t\t\t<div class="nm-options-cell-additional">\n\t\t\t\t\t\t\t\t\t/*\n\t\t\t\t\t\t\t\t\t<div class="nm-list-item-additional clearfix">\n\t\t\t\t\t\t\t\t\t\t<div class="nm-price nm-el-pg nm-el-pg-04">\n\t\t\t\t\t\t\t\t\t\t\t{{=value.price}}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t*/\n\t\t\t\t\t\t\t\t\t<span class="nm-list-item-text nm-el-pg nm-el-pg-04">\n\t\t\t\t\t\t\t\t\t\t{{=value.name}}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t{{~}}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t{{?}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<ul class="nm-button-list clearfix">\n\t\t\t\t\t\t/*<li>\n\t\t\t\t\t\t\t<a class="nm-b7 nm-j-configurator-delegate-transfer-click" data-transfer="cancel"\n\t\t\t\t\t\t\thref="{{=it.urls.cancel}}">{{=window.i18n[\'transfer-layer.label.cancel\']}}</a>\n\t\t\t\t\t\t</li>*/\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<div class="nm-btn-continue">\n\t\t\t\t\t\t\t\t<a class="nm-j-configurator-delegate-transfer-click nm-el-btn nm-el-btn-01 nm-el-btn-ast" data-transfer="submit">{{=window.i18n[\'proceed-label\']}}</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'},
/*!********************************************************!*\
  !*** ./js/configurator/dpu/conflict-layer-template.js ***!
  \********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.conflictLayerTemplate='{{##def.options_tiles:\n<ul class="nm-options-list nm-options-tiles">\n\t<li>\n\t\t<span class="nm-el-pg nm-el-pg-03 nm-at-pg-b">{{=p.header}}</span>\n\n\t\t<div class="nm-tile-block">\n\n\t\t\t<ul class="nm-tile-list clearfix">\n\n\t\t\t{{~ p.items :value:i }}\n\t\t\t\t\t<li class="nm-j-configurator-item nm-j-configurator-no-update nm-j-configurator-status_{{=value.status}} nm-j-configurator-type_{{=value.type}} nm-conflict-type-{{=value.type}} clearfix"\n\t\t\t\tdata-configurator-id="{{=value.id}}" data-mbvid="{{=value.id}}">\n\t\t\t\t\t\t{{? !!value.image }}\n\t\t\t\t\t\t<div class="nm-tile-element-image">\n\t\t\t\t\t\t\t<a class="nm-j-configurator-delegate-click" href="#"><img src="{{=value.image}}" /></a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{?}}\n\n\t\t\t\t\t\t<div class="nm-tile-element-info">\n\t\t\t\t\t\t\t<span class="nm-list-item-text nm-el-pg nm-el-pg-03">{{=value.name}}</span>\n\t\t\t\t\t\t\t<div class="nm-price nm-el-pg nm-el-pg-03 nm-at-pg-b">\n\t\t\t\t\t\t\t\t{{=value.price}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t{{~}}\n\t\t\t</ul>\n\n\t\t</div>\n\n\t</li>\n</ul>\n#}}\n\n\n{{##def.options_list:\n\x3c!-- Default options list --\x3e\n\n<ul class="nm-options-list">\n\t{{~ p.items :value:i }}\n\t<li class="nm-check-list-item nm-j-configurator-item nm-j-configurator-no-update nm-j-configurator-status_{{=value.status}} nm-j-configurator-type_{{=value.type}} nm-conflict-type-{{=value.type}} clearfix"\n\tdata-configurator-id="{{=value.id}}" data-mbvid="{{=value.id}}">\n\n\t\t<div class="nm-options-list-cell-cb clearfix">\n\t\t\t<a class="nm-checkbox-1 nm-j-configurator-delegate-click" href="#"></a>\n\t\t</div>\n\n\t\t<div class="nm-options-cell-additional">\n\t\t\t{{? value.image }}\n\t\t\t<div class="nm-list-item-additional">\n\t\t\t\t<div class="nm-list-item-image">\n\t\t\t\t\t<img src="{{=value.image}}" alt="{{=value.image.name}}" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{{?}}\n\n\t\t\t<span class="nm-list-item-text nm-el-pg nm-el-pg-03">\n\t\t\t\t{{? value.type === "add" }}\n\t\t\t\t<span class="nm-conflict-add-text nm-at-pg-b">\n\t\t\t\t\t{{=window.i18n[\'conflict-layer.add-item\']}}\n\t\t\t\t</span>\n\t\t\t\t{{??}}\n\t\t\t\t<span class="nm-conflict-remove-text nm-at-pg-b">\n\t\t\t\t\t{{=window.i18n[\'conflict-layer.remove-item\']}}\n\t\t\t\t</span>\n\t\t\t\t{{?}} {{=value.name}}\n\t\t\t</span>\n\t\t</div>\n\n\t\t{{? typeof value.priceValue !== \'undefined\' && value.priceValue\n\t\t\t< 0 }} <div class="nm-price nm-el-pg nm-el-pg-03 nm-at-pg-b nm-at-pg-indicator">\n\t\t{{??}}\n\t\t<div class="nm-price nm-el-pg nm-el-pg-03 nm-at-pg-b">\n\t\t\t{{?}} {{=value.price}}\n\t\t</div>\n\t</li>\n\t{{~}}\n</ul>\n#}}\n\n\n<div class="nm-layer-wrapper nm-layer-wrapper-dialogue nm-layer-wrapper-conflict">\n\t<div class="nm-layer nm-layer-conflict nm-layer-conflict-default">\n\t\t<div class="nm-layer-inner">\n\t\t\t<div class="nm-layer-conflict-content clearfix">\n\t\t\t\t<div class="nm-3col cearfix">\n\t\t\t\t\t<div class="nm-module nm-md-conflict-layer" data-module="conflict-layer">\n\t\t\t\t\t\t<h2 class="nm-el-hdl nm-el-hdl-02 nm-at-hdl-b">\n\t\t\t\t\t\t\t{{=window.i18n[\'conflict-layer.selection-conflict\']}}\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t{{? 0 !== it.triggers.length}}\n\t\t\t\t\t\t<span class="nm-el-hdl nm-el-hdl-04 nm-at-hdl-b">\n\t\t\t\t\t\t{{=window.i18n[\'conflict-layer.your-selection\']}}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<ul class="nm-options-list nm-conflict-trigger">\n\t\t\t\t\t\t\t{{~it.triggers :value:index}}\n\t\t\t\t\t\t\t<li class="nm-check-list-item nm-j-configurator-item nm-j-configurator-no-update nm-j-configurator-status_{{=value.status}} nm-j-configurator-type_{{=value.type}} nm-conflict-type-{{=value.type}} clearfix"\n\t\t\t\t\t\t\tdata-configurator-id="{{=value.id}}" data-mbvid="{{=value.id}}">\n\t\t\t\t\t\t\t\t<a class="nm-checkbox-1 nm-j-configurator-delegate-click" href="#"></a>\n\t\t\t\t\t\t\t\t<div class="nm-options-cell-additional">\n\t\t\t\t\t\t\t\t\t<span class="nm-list-item-text nm-el-pg nm-el-pg-03">\n\t\t\t\t\t\t\t\t\t\t{{=value.name}}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{{? typeof value.priceValue !== \'undefined\' && value.priceValue\n\t\t\t\t\t\t\t\t< 0 }} <div class="nm-price nm-el-pg nm-el-pg-03 nm-at-pg-b nm-at-pg-indicator">\n\t\t\t\t\t\t\t\t\t{{??}}\n\t\t\t\t\t\t\t\t\t<div class="nm-price nm-el-pg nm-el-pg-03 nm-at-pg-b">\n\t\t\t\t\t\t\t\t\t\t{{?}} {{=value.price}}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t{{~}}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t{{?}} {{? 0 !== it.solutions[0].length}}\n\t\t\t\t\t\t<span class="nm-el-hdl nm-el-hdl-04 nm-at-hdl-b">\n\t\t\t\t\t\t\t{{=window.i18n[\'conflict-layer.mandatory-customizations\']}}:\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{{~ it.solutions :p }}\n\t\t\t\t\t\t{{? !!p.id}}\n\t\t\t\t\t\t<div class="nm-conflict-solution" data-solution-id="{{=p.id}}">\n\n\t\t\t\t\t\t\t{{?!!p.sameTypeItems}}\n\t\t\t\t\t\t\t\t{{#def.options_tiles}}\n\t\t\t\t\t\t\t{{??}}\n\t\t\t\t\t\t\t\t{{#def.options_list}}\n\t\t\t\t\t\t\t\t{{? 1 < p.items.length}} <a href="" class="nm-j-conflict-options-show nm-el-lbl nm-el-lbl-01">\n\t\t\t\t\t\t\t\t\t<span class="nm-conflict-alternative-text-show">\n\t\t\t\t\t\t\t\t\t\t{{=window.i18n[\'conflict-layer.show-alternatives\']}}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span class="nm-conflict-alternative-text-hide">\n\t\t\t\t\t\t\t\t\t\t{{=window.i18n[\'conflict-layer.hide-alternatives\']}}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t{{?}}\n\n\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t{{~}} {{?}}\n\t\t\t\t\t\t<p class="nm-el-pg nm-el-pg-03 nm-at-pg-b nm-conflict-layer-total-price">\n\t\t\t\t\t\t\t{{=window.i18n[\'conflict-layer.overall-cutomizations\']}}: {{?\n\t\t\t\t\t\t\ttypeof it.totalPriceValue !== \'undefined\' && it.totalPriceValue\n\t\t\t\t\t\t\t< 0 }} <span class="nm-el-pg nm-el-pg-03 nm-at-pg-b nm-at-pg-indicator">\n\t\t\t\t\t\t\t\t{{??}}\n\t\t\t\t\t\t\t\t<span class="nm-el-pg nm-el-pg-03 nm-at-pg-b">\n\t\t\t\t\t\t\t\t\t{{?}} {{=it.totalPrice}}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<ul class="nm-button-list clearfix">\n\t\t\t\t\t\t\t{{? !!it.urls.cancel }}\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a class="nm-j-configurator-delegate-conflict-click nm-el-btn nm-el-btn-01 nm-at-btn-inv" data-conflict="cancel"\n\t\t\t\t\t\t\t\thref="{{=it.urls.cancel}}">{{=window.i18n[\'abort-label\']}}</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t{{?}} {{? !!it.urls.submit }}\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a class="nm-j-configurator-delegate-conflict-click nm-el-btn nm-el-btn-02" data-conflict="submit"\n\t\t\t\t\t\t\t\thref="{{=it.urls.submit}}">{{=window.i18n[\'conflict-layer.label.submit\']}}</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'},
/*!***************************************************!*\
  !*** ./js/configurator/carstore-list-template.js ***!
  \***************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.carstoreListTemplate='\n<div class="nm-module nm-module-carstore nm-carstore" data-module="carstore">\n\t<div class="nm-3col">\n\t\t<h2 class="nm-headline-medium nm-carstore-headline">{{=window.i18n[\'carstore-layer.saved-slots\']}}</h2>\n\t\t<p class="nm-text-large">{{=window.i18n[\'carstore-layer.manage-slots\']}}</p>\n\t\t<ul class="nm-carstore-saved-items">\n\t\t\t{{~ it.list :value }}\n\t\t\t\t<li class="nm-carstore-item nm-j-carstore-item" data-item-position="{{=value.position}}">\n\t\t\t\t\t<span class="nm-carstore-item-position nm-headline-teaser">{{=value.position}}</span>\n\t\t\t\t\t<img class="nm-carstore-item-image" src="{{? !!value[\'exterior-image\']}}{{=value[\'exterior-image\']}}?alt={{?}}{{=it.altImage}}" alt="{{=value.name}}" />\n\t\t\t\t\t<div class="nm-carstore-item-content">\n\t\t\t\t\t\t<div class="nm-carstore-item-details nm-j-carstore-item-details">\n\t\t\t\t\t\t\t{{? !!value.name}}\n\t\t\t\t\t\t\t\t<strong class="nm-carstore-detail nm-headline-teaser">{{=value.name}}</strong>\n\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t{{? !!value.shoppingCartName}}\n\t\t\t\t\t\t\t\t<p class="nm-carstore-detail nm-text-block">{{=value.shoppingCartName}}<br />\n\t\t\t\t\t\t\t\t\t{{? !!value.powersAndUnits}}\n\t\t\t\t\t\t\t\t\t\t{{=value.powersAndUnits}}\n\t\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t{{? !!value.price && value.valid !== false}}\n\t\t\t\t\t\t\t\t<strong class="nm-carstore-detail nm-price nm-headline-teaser">{{=value.price}}</strong>\n\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t{{? !!value.audicode}}\n\t\t\t\t\t\t\t\t<p class="nm-carstore-detail nm-audicode nm-text-block">{{=window.i18n[\'audicode-label\']}}: {{=value.audicode}}</p>\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<form class="nm-carstore-modify-section nm-j-carstore-modify" data-form-id="{{=value.position}}" action="#">\n\t\t\t\t\t\t\t<fieldset>\n\t\t\t\t\t\t\t\t<select id="carstore-select-{{=value.position}}" class="nm-carstore-modify-select nm-j-carstore-modify-select">\n\t\t\t\t\t\t\t\t\t{{? value.valid !== false}}\n\t\t\t\t\t\t\t\t\t\t<option value="configuration-load">{{=window.i18n[\'carstore-layer.load-slot\']}}</option>\n\t\t\t\t\t\t\t\t\t{{??}}\n\t\t\t\t\t\t\t\t\t\t<option>{{=window.i18n[\'carstore-layer.invalid-slot\']}}</option>\n\t\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t\t\t<option value="configuration-delete">{{=window.i18n[\'delete-configuration-label\']}}</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<input type="hidden" name="carstore-position" value="{{=value.position}}">\n\t\t\t\t\t\t\t\t<button class="nm-el-btn nm-el-btn-04 nm-el-btn-ast nm-j-carstore-submit" type="submit">submit</button>\n\t\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<div class="nm-carstore-delete-section nm-j-carstore-delete-section nm-hidden">\n\t\t\t\t\t\t\t<strong class="nm-el-hdl nm-el-hdl-04 nm-at-hdl-b">{{=window.i18n[\'carstore-layer.delete-slot\']}}</strong>\n\t\t\t\t\t\t\t<p class="nm-el-pg nm-el-pg-03">{{=window.i18n[\'carstore-layer.delete-dialog\']}}</p>\n\t\t\t\t\t\t\t<div class="nm-modify-buttons">\n\t\t\t\t\t\t\t\t<a class="nm-carstore-button nm-el-btn nm-el-btn-01 nm-j-abort-button" href="#">{{=window.i18n[\'abort-label\']}}</a> \n\t\t\t\t\t\t\t\t<a class="nm-carstore-button nm-el-btn nm-el-btn-01 nm-el-btn-ast nm-j-delete-button" href="#">{{=window.i18n[\'delete-label\']}}</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t{{~}}\n\t\t</ul>\n\t</div>\n</div>'},
/*!***************************************************!*\
  !*** ./js/configurator/carstore-fail-template.js ***!
  \***************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.carstoreFailTemplate="\n\t<p class=\"nm-el-pg nm-el-pg-03\">{{=window.i18n['carstore-layer.error-loading-stots']}}</p>\n"},
/*!****************************************************!*\
  !*** ./js/configurator/carstore-empty-template.js ***!
  \****************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.carstoreEmptyTemplate="\n\t<p class=\"nm-el-pg nm-el-pg-03\">{{=window.i18n['carstore-layer.no-slots-available']}}</p>\n"},
/*!*********************************!*\
  !*** ./js/configurator/cart.js ***!
  \*********************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cart=void 0;var r=n(/*! ../application-bundle */3),i=n(/*! ./dpu/api */27),o={},a={__:o},s=!1;o.oDefaults={sSelectorCart:".nm-basket",sSelectorSnippetText:".nm-j-configurator-text-"},o.updateAndAnimatePrice=function(t,e){t.stop(!0,!0).animate({opacity:"0.01"},250,"easeInSine",function(){jQuery(this).text(e)}).delay(400).animate({opacity:"1"},300,"easeOutSine")},o.hidePriceAndRate=function(t){var e,n,r={price:{},rate:{}};for(e in r)r.hasOwnProperty(e)&&""===(n=t.find([o.oDefaults.sSelectorSnippetText,e].join(""))).text()&&n.closest("div").addClass("nm-hidden")},o.hideRateIfUnavailable=function(t){var e;t.prices&&(void 0===(e=t.prices.totalRateRaw)||0===parseFloat(e)?jQuery("body").addClass("nm-no-rate"):jQuery("body").removeClass("nm-no-rate"))},o.updatePrice=function(t,e,n){var r,i,a=e.price;for(r in e)if(e.hasOwnProperty(r)){if(i=t.find([o.oDefaults.sSelectorSnippetText,r].join("")),"price"===r&&a&&n&&n.data&&n.data.animate){o.updateAndAnimatePrice(i,a);continue}i.text(e[r])}},o.updateCartText=function(t){var e,n=jQuery(o.oDefaults.sSelectorCart);if(i.dpuApi.isConfigurable()){if(!(e=i.dpuApi.getConfiguration()))return;o.updatePrice(n,e,t),o.hideRateIfUnavailable(e)}else o.hidePriceAndRate(n)},o.updateEngineLinks=function(){var t,e;i.dpuApi.isConfigurable()&&(t=jQuery("[data-link-pattern]"),e=i.dpuApi.getMotorcode(),t.each(function(){var t=jQuery(this),n=t.attr("data-link-pattern");n&&n.match(/{{=it.model}}/g)&&(n=n.replace(/{{=it.model}}/,e),t.attr("href",n))}))},o.updateSummaryStatus=function(t){"summary"===t||"onepage_configurator"===t?jQuery("body").addClass("nm-is-summary"):jQuery("body").removeClass("nm-is-summary")},o.updateBasketBodyClass=function(t,e){var n=jQuery(".nm-basket").length>0,r="nemo"===t.attr("data-type");n&&r&&!("home"===e)?jQuery("body").addClass("nm-has-basket"):jQuery("body").removeClass("nm-has-basket")},o.updateClasses=function(t){var e,n;n=(e=void 0!==t&&void 0!==t.domElement?jQuery(t.domElement).find(".nm-content"):jQuery(".nm-content")).attr("data-template"),o.updateSummaryStatus(n),o.updateBasketBodyClass(e,n)},o.handlerAnimated=function(){o.updateCartText({data:{animate:!0}}),o.updateEngineLinks()},o.handlerNotAnimated=function(){o.updateCartText({data:{animate:!1}}),o.updateEngineLinks()},o.addEvents=function(){o.eventBus.on(r.appEvents.CONFIG_UPDATE,o.handlerAnimated),o.eventBus.on(r.appEvents.LAYER_LOADED,o.handlerNotAnimated),o.eventBus.on(r.appEvents.CONFIG_START,o.handlerNotAnimated),o.eventBus.on(r.appEvents.PAGE_LOADED,o.handlerNotAnimated),o.eventBus.on(r.appEvents.PAGE_LOADED,o.updateEngineLinks),o.eventBus.on(r.appEvents.PAGE_LOADED,o.updateClasses)},a.dispose=function(){o.eventBus.off(r.appEvents.CONFIG_UPDATE,o.handlerAnimated),o.eventBus.off(r.appEvents.LAYER_LOADED,o.handlerNotAnimated),o.eventBus.off(r.appEvents.CONFIG_START,o.handlerNotAnimated),o.eventBus.off(r.appEvents.PAGE_LOADED,o.updateEngineLinks),o.eventBus.off(r.appEvents.PAGE_LOADED,o.updateClasses)},o.initialize=function(){s||(o.addEvents(),s=!0,o.updateClasses())},a.initialize=function(t){o.eventBus=t,o.initialize()},e.cart=a},
/*!***************************************************!*\
  !*** ./js/configurator/enginecompare-controls.js ***!
  \***************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(/*! babel-runtime/core-js/object/set-prototype-of */15)),i=d(n(/*! babel-runtime/core-js/reflect/construct */17)),o=d(n(/*! babel-runtime/helpers/toConsumableArray */45)),a=d(n(/*! babel-runtime/core-js/object/get-prototype-of */7)),s=d(n(/*! babel-runtime/helpers/classCallCheck */1)),l=d(n(/*! babel-runtime/helpers/createClass */2)),u=d(n(/*! babel-runtime/helpers/possibleConstructorReturn */8)),c=d(n(/*! babel-runtime/helpers/inherits */9));function d(t){return t&&t.__esModule?t:{default:t}}function f(){return(0,i.default)(HTMLElement,[],this.__proto__.constructor)}(0,r.default)(f.prototype,HTMLElement.prototype),(0,r.default)(f,HTMLElement);var m=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,(e.__proto__||(0,a.default)(e)).call(this))}return(0,c.default)(e,t),(0,l.default)(e,[{key:"connectedCallback",value:function(){this.changeEngineButton=this.querySelector(".nm-engine-compare__button-change"),this.addEvents()}},{key:"disconnectedCallback",value:function(){this.removeEvents()}},{key:"addEvents",value:function(){var t=this;this.changeEngineButton.addEventListener("click",function(e){return t.showSearchWidget(e)})}},{key:"removeEvents",value:function(){var t=this;this.changeEngineButton.removeEventListener("click",function(e){return t.showSearchWidget(e)})}},{key:"showSearchWidget",value:function(t){var e=this;t.preventDefault();var n=document.querySelectorAll(".nm-engine-compare__widget");[].concat((0,o.default)(n)).forEach(function(t){t.contains(e)&&t.classList.add("nm-engine-compare__widget--show-search")})}}]),e}(f);e.default=m,window.customElements.get("audi-configurator-enginecompare-controls")||window.customElements.define("audi-configurator-enginecompare-controls",m)},
/*!*************************************************!*\
  !*** ./js/configurator/enginecompare-filter.js ***!
  \*************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(/*! babel-runtime/core-js/object/set-prototype-of */15)),i=d(n(/*! babel-runtime/core-js/reflect/construct */17)),o=d(n(/*! babel-runtime/helpers/toConsumableArray */45)),a=d(n(/*! babel-runtime/core-js/object/get-prototype-of */7)),s=d(n(/*! babel-runtime/helpers/classCallCheck */1)),l=d(n(/*! babel-runtime/helpers/createClass */2)),u=d(n(/*! babel-runtime/helpers/possibleConstructorReturn */8)),c=d(n(/*! babel-runtime/helpers/inherits */9));function d(t){return t&&t.__esModule?t:{default:t}}function f(){return(0,i.default)(HTMLElement,[],this.__proto__.constructor)}(0,r.default)(f.prototype,HTMLElement.prototype),(0,r.default)(f,HTMLElement);var m=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,(e.__proto__||(0,a.default)(e)).call(this))}return(0,c.default)(e,t),(0,l.default)(e,[{key:"connectedCallback",value:function(){this.fuelDropdown=this.querySelector('.nm-engine-compare__dropdown[data-compare-type="fuel"]'),this.engineDropdown=this.querySelector('.nm-engine-compare__dropdown[data-compare-type="engine"]'),this.trimlineSelect=this.querySelector('.nm-engine-compare__select[data-compare-type="trimline"]'),this.fuelSelect=this.querySelector('.nm-engine-compare__select[data-compare-type="fuel"]'),this.engineSelect=this.querySelector(".nm-engine-compare__select[data-compare-type=engine]"),this.fuelOptions=this.querySelectorAll('.nm-engine-compare__select[data-compare-type="fuel"] option'),this.engineOptions=this.querySelectorAll('.nm-engine-compare__select[data-compare-type="engine"] option'),this.hasTrimline=null!==this.trimlineSelect,this.selectedFuel=this.fuelSelect.value,this.selectedEngine=this.engineSelect.value,this.updateFuelAndEngineOptions(),this.addEvents()}},{key:"disconnectedCallback",value:function(){this.removeEvents()}},{key:"addEvents",value:function(){var t=this;this.hasTrimline&&this.trimlineSelect.addEventListener("change",function(){t.updateFuelAndEngineOptions()}),this.fuelSelect.addEventListener("change",function(){t.updateEngineOptions()})}},{key:"removeEvents",value:function(){var t=this;this.hasTrimline&&this.trimlineSelect.removeEventListener("change",function(){t.updateFuelAndEngineOptions()}),this.fuelSelect.removeEventListener("change",function(){t.updateEngineOptions()})}},{key:"updateFuelAndEngineOptions",value:function(){this.updateFuelOptions(),this.updateEngineOptions()}},{key:"updateFuelOptions",value:function(){var t=this;this.hasTrimline&&(this.selectedTrimline=this.trimlineSelect.value,this.fuelSelect.innerHTML="",[].concat((0,o.default)(this.fuelOptions)).forEach(function(e){t.isValidOptionForSelectedTrimline(e)&&(e.selected=e.value===t.selectedFuel,t.fuelSelect.add(e))}),this.setDropdownReadonly(this.fuelDropdown,1===this.fuelSelect.length))}},{key:"updateEngineOptions",value:function(){var t=this;this.hasTrimline&&(this.selectedTrimline=this.trimlineSelect.value),this.selectedFuel=this.fuelSelect.value,this.engineSelect.innerHTML="",[].concat((0,o.default)(this.engineOptions)).forEach(function(e){t.isValidOptionForSelectedTrimlineAndFuel(e)&&(e.selected=e.value===t.selectedEngine,t.engineSelect.add(e))}),this.setDropdownReadonly(this.engineDropdown,1===this.engineSelect.length)}},{key:"isValidOptionForSelectedTrimlineAndFuel",value:function(t){return this.isValidOptionForSelectedTrimline(t)&&this.isValidOptionForSelectedFuel(t)}},{key:"isValidOptionForSelectedTrimline",value:function(t){return!this.hasTrimline||t.getAttribute("data-trimline")===this.selectedTrimline}},{key:"isValidOptionForSelectedFuel",value:function(t){return t.getAttribute("data-fuel")===this.selectedFuel}},{key:"setDropdownReadonly",value:function(t,e){e?t.classList.add("nm-form-readonly"):t.classList.remove("nm-form-readonly")}}]),e}(f);e.default=m,window.customElements.get("audi-configurator-enginecompare-filter")||window.customElements.define("audi-configurator-enginecompare-filter",m)},
/*!***********************************************!*\
  !*** ./js/configurator/enginecompare-form.js ***!
  \***********************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=m(n(/*! babel-runtime/core-js/object/set-prototype-of */15)),i=m(n(/*! babel-runtime/core-js/reflect/construct */17)),o=m(n(/*! babel-runtime/helpers/toConsumableArray */45)),a=m(n(/*! babel-runtime/core-js/object/get-prototype-of */7)),s=m(n(/*! babel-runtime/helpers/classCallCheck */1)),l=m(n(/*! babel-runtime/helpers/createClass */2)),u=m(n(/*! babel-runtime/helpers/possibleConstructorReturn */8)),c=m(n(/*! babel-runtime/helpers/inherits */9)),d=n(/*! core-vendor */121),f=n(/*! ../application-bundle */3);function m(t){return t&&t.__esModule?t:{default:t}}function p(){return(0,i.default)(HTMLElement,[],this.__proto__.constructor)}(0,r.default)(p.prototype,HTMLElement.prototype),(0,r.default)(p,HTMLElement);var g=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,(e.__proto__||(0,a.default)(e)).call(this))}return(0,c.default)(e,t),(0,l.default)(e,[{key:"connectedCallback",value:function(){this.form=this.querySelector(".nm-engine-compare__form"),this.addEvents()}},{key:"disconnectedCallback",value:function(){this.removeEvents()}},{key:"addEvents",value:function(){var t=this;this.form.addEventListener("submit",function(e){t.submitForm(e)})}},{key:"removeEvents",value:function(){var t=this;this.form.removeEventListener("submit",function(e){t.submitForm(e)})}},{key:"submitForm",value:function(t){t.preventDefault();var e=this.form.getAttribute("data-link-pattern");if(e){var n=d.doT.template(e)({motorcodes:this.getSelectedEngines()});f.router.open("layer",n)}}},{key:"getSelectedEngines",value:function(){var t=this.querySelectorAll('.nm-engine-compare__select[data-compare-type="engine"]');return[].concat((0,o.default)(t)).map(function(t){return t.value})}}]),e}(p);e.default=g,window.customElements.get("audi-configurator-enginecompare-form")||window.customElements.define("audi-configurator-enginecompare-form",g)},
/*!**************************************!*\
  !*** ./js/configurator/container.js ***!
  \**************************************/
/*! dynamic exports provided */
/*! all exports used */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.container=void 0;var _toConsumableArray2=__webpack_require__(/*! babel-runtime/helpers/toConsumableArray */45),_toConsumableArray3=_interopRequireDefault(_toConsumableArray2),_coreUtils=__webpack_require__(/*! core-utils */0),_api=__webpack_require__(/*! ./dpu/api */27),_applicationBundle=__webpack_require__(/*! ../application-bundle */3);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var __={},_exports={__:__};__.oDefaults={sSelectorOptionList:".nm-options-list",sSelectorOptionListAlternative:".nm-j-options-list-alternative",sSelectorConfiguratorContainer:".nm-configurator-container",sClassOptionListCollapsed:"nm-options-list-collapsed",sClassConfiguratorContainerShow:"nm-j-configurator-container-show",sClassConfiguratorContainerHide:"nm-j-configurator-container-hide"},__.toggleAlternativeOptions=function(t){var e=_coreUtils.dom.getElement(__.oDefaults.sSelectorOptionList,t.target.parentNode);_coreUtils.dom.isElement(e)&&e.classList.toggle(__.oDefaults.sClassOptionListCollapsed)},__.getSelectedIdString=function(t,e){var n="";return e&&e.forEach(function(e){"idid"!==e&&t[e]&&t[e].status&&"11010"===t[e].status&&(n+=e)}),n},__.tilesExclusive=function(){var exclusiveTiles=document.querySelectorAll(".nm-module-tiles-exclusive, .nm-md-tiles-exclusive");[].concat((0,_toConsumableArray3.default)(exclusiveTiles)).forEach(function(element){var items=_api.dpuApi.getItems()||{},optionsIncluded=eval(element.getAttribute("data-configurator-id-included")),selectedIdString=__.getSelectedIdString(items,optionsIncluded);element.setAttribute("data-tile-selected",selectedIdString)})},__.hasSelectedItem=function(t,e){var n,r,i=e.length;for(r=0;r<i;r++)if((n=t[e[r]]||{}).status&&("11010"===n.status||"10011"===n.status))return!0;return!1},__.isHiddenByVersion=function(t){var e=!1;return __.hiddenItemsFromVersion&&null!==__.hiddenItemsFromVersion&&(e=__.hiddenItemsFromVersion.indexOf(t)>-1),e},__.isVisible=function(t,e){var n,r=!1,i=!1,o=!1;return e&&e.forEach(function(e){if(!1===r)return"idid"===e||(t[e]?(t[e].status&&"00000"!==t[e].status&&"10000"!==t[e].status&&"10010"!==t[e].status&&(i=!0),t[e].id&&!1===__.isHiddenByVersion(t[e].id)&&(o=!0),r=i&&o,!1):(!1===__.isHiddenByVersion(e)&&((n=_coreUtils.dom.getElement('.nm-j-configurator-item[data-configurator-id="'+e+'"]',document)).classList.contains("nm-j-configurator-status_00000")||n.classList.contains("nm-j-configurator-status_10000")||n.classList.contains("nm-j-configurator-status_10010")||(r=!0)),!1))}),r},__.isVisibleSummary=function(t,e){var n,r=!1,i=!1,o=!1;return e&&e.forEach(function(e){if(!r)return t[e]?(t[e].status&&"11000"!==t[e].status&&"00000"!==t[e].status&&"11100"!==t[e].status&&"10000"!==t[e].status&&"10010"!==t[e].status&&(i=!0),t[e].id&&!1===__.isHiddenByVersion(t[e].id)&&(o=!0),r=i&&o,!0):(!1===__.isHiddenByVersion(e)&&(n=_coreUtils.dom.getElement('.nm-j-configurator-item[data-configurator-id="'+e+'"]',document),!_coreUtils.dom.isElement(n)||n.classList.contains("nm-j-configurator-status_11000")||n.classList.contains("nm-j-configurator-status_00000")||n.classList.contains("nm-j-configurator-status_11100")||n.classList.contains("nm-j-configurator-status_10000")||n.classList.contains("nm-j-configurator-status_10010")||(r=!0)),!1)}),r},__.handler=function(){var t=_api.dpuApi.getItems()||{};__.hiddenItemsFromVersion=_api.dpuApi.getHiddenItemIDsFromVersion(),__.handleConfiguratorContainer(t),__.handleConfiguratorSummary(t),__.handleEquipmentContainer(t),__.handleOptionsListContainer(t)},__.handleConfiguratorContainer=function(items){var configuratorContainer=_coreUtils.dom.getElementsArray(__.oDefaults.sSelectorConfiguratorContainer);configuratorContainer.forEach(function(element){var optionsIncluded=eval(element.getAttribute("data-configurator-id-included"));!1===__.isVisible(items,optionsIncluded)?(element.classList.add(__.oDefaults.sClassConfiguratorContainerHide),element.classList.remove(__.oDefaults.sClassConfiguratorContainerShow)):(element.classList.remove(__.oDefaults.sClassConfiguratorContainerHide),element.classList.add(__.oDefaults.sClassConfiguratorContainerShow))})},__.handleConfiguratorSummary=function(items){var configuratorContainerSummary=_coreUtils.dom.getElementsArray(__.oDefaults.sSelectorConfiguratorContainer+".nm-summary-list-container");configuratorContainerSummary.forEach(function(element){var optionsIncluded=eval(element.getAttribute("data-configurator-id-included"));!1===__.isVisibleSummary(items,optionsIncluded)?(element.classList.add(__.oDefaults.sClassConfiguratorContainerHide),element.classList.remove(__.oDefaults.sClassConfiguratorContainerShow)):(element.classList.remove(__.oDefaults.sClassConfiguratorContainerHide),element.classList.add(__.oDefaults.sClassConfiguratorContainerShow))})},__.handleEquipmentContainer=function(items){var equipmentContainers=_coreUtils.dom.getElementsArray(".nm-j-selected-standard-equipment-container");equipmentContainers.forEach(function(container){var optionsIncluded=eval(container.getAttribute("data-configurator-id-included"));__.containsSelectedStandardEquipment(items,optionsIncluded)?(container.classList.remove(__.oDefaults.sClassConfiguratorContainerHide),container.classList.add(__.oDefaults.sClassConfiguratorContainerShow)):(container.classList.add(__.oDefaults.sClassConfiguratorContainerHide),container.classList.remove(__.oDefaults.sClassConfiguratorContainerShow))})},__.containsSelectedStandardEquipment=function(t,e){var n=!1;return e.forEach(function(e){t[e]&&t[e].status&&"10011"===t[e].status&&(n=!0)}),n},__.handleOptionsListContainer=function(items){var optionsListContainer=_coreUtils.dom.getElementsArray(".nm-md-options-list");optionsListContainer.forEach(function(element){var container=_coreUtils.dom.getElementsArray(__.oDefaults.sSelectorConfiguratorContainer,element),optionsIncluded=void 0,isCollapsible=void 0,optionsList=void 0;if(0===container.length)return!0;optionsIncluded=eval(container[0].getAttribute("data-configurator-id-included")),isCollapsible=!1,container.forEach(function(t){var e=_coreUtils.dom.getElement(".nm-j-options-list-alternative",t);_coreUtils.dom.isElement(e)&&!_coreUtils.dom.isHidden(e)&&(isCollapsible=!0)}),optionsList=_coreUtils.dom.getElementsArray(__.oDefaults.sSelectorOptionList,element),__.hasSelectedItem(items,optionsIncluded)&&isCollapsible?optionsList[0].classList.add(__.oDefaults.sClassOptionListCollapsed):optionsList[0].classList.remove(__.oDefaults.sClassOptionListCollapsed)})},__.addEvents=function(){__.eventBus.on(_applicationBundle.appEvents.CONFIG_UPDATE,__.handler),__.eventBus.on(_applicationBundle.appEvents.PAGE_LOADED,__.handler),__.eventBus.on(_applicationBundle.appEvents.LAYER_LOADED,__.handler),__.eventBus.on(_applicationBundle.appEvents.MODELSINFO_LOAD_COMPLETE,__.handler),__.eventBus.on(_applicationBundle.appEvents.CONFIG_UPDATE,__.tilesExclusive),__.eventBus.on(_applicationBundle.appEvents.PAGE_LOADED,__.tilesExclusive),__.eventBus.on(_applicationBundle.appEvents.LAYER_LOADED,__.tilesExclusive),__.domEventDelegate.on("click",__.oDefaults.sSelectorOptionListAlternative,__.toggleAlternativeOptions)},_exports.initialize=function(t){__.eventBus=t,__.domEventDelegate=_coreUtils.dom.getEventDelegate("body"),__.addEvents()},exports.container=_exports},
/*!******************************************!*\
  !*** ./js/configurator/dpu/dom-state.js ***!
  \******************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.domState=void 0;var r=l(n(/*! babel-runtime/helpers/toConsumableArray */45)),i=l(n(/*! babel-runtime/core-js/object/entries */167)),o=l(n(/*! babel-runtime/helpers/typeof */59)),a=n(/*! ./api */27),s=n(/*! ../../application-bundle */3);function l(t){return t&&t.__esModule?t:{default:t}}var u={},c={__:u};u.$stage=null,u.oDefaults={sStageID:"#nm-id-stage",sSelectorCarPriceRate:".nm-car-price-rate",sSelectorRenderImage:".nm-j-configurator-renderimage",sSelectorConfigurationSummary:".nm-j-configuration-summary",sSelectorQuantityPicker:".nm-quantity",sSelectorSnippetText:".nm-j-configurator-text-",sSelectorSnippetTextEec:".nm-j-configurator-text-eec-",selectorModelText:".js-configurator-model-text-",selectorModelImage:".js-configurator-model-image",selectorEecImage:".nm-j-configurator-image-eec",selectorTechdata:".nm-j-configurator-techdata-"},u.addEvents=function(){u.eventBus.on(s.appEvents.UPDATE_VIEW_STATE,u.handleViewStateUpdates),u.eventBus.on(s.appEvents.CONFIG_UPDATE,u.updateAllDomItems),u.eventBus.on(s.appEvents.PAGE_LOADED,u.handlePageLoaded),u.eventBus.on(s.appEvents.LAYER_LOADED,u.updateAllDomItems),u.eventBus.on(s.appEvents.TRIGGER_DOM_UPDATE,u.handleConflictAndTransferResolves),u.eventBus.on(s.appEvents.CONFIG_SEND,u.hideRenderImages)},u.removeEvents=function(){u.eventBus.off(s.appEvents.UPDATE_VIEW_STATE,u.handleViewStateUpdates),u.eventBus.off(s.appEvents.CONFIG_UPDATE,u.updateAllDomItems),u.eventBus.off(s.appEvents.PAGE_LOADED,u.handlePageLoaded),u.eventBus.off(s.appEvents.LAYER_LOADED,u.updateAllDomItems),u.eventBus.off(s.appEvents.TRIGGER_DOM_UPDATE,u.handleConflictAndTransferResolves),u.eventBus.off(s.appEvents.CONFIG_SEND,u.hideRenderImages)},u.updateDomStatusItems=function(t){(t||jQuery("body")).find(".nm-j-configurator-item").each(function(){var t=jQuery(this),e=t.attr("data-configurator-id"),n=a.dpuApi.getItem(e);if(t.hasClass("nm-j-configurator-no-update"))return!0;e&&n&&n.status&&(u.setDOMStatusCode(t,n.status),n.message&&n.message[0].text&&""!==n.message[0].text&&u.setDebugOutput(t,n.message[0].text))})},u.handlePageLoaded=function(t){var e=jQuery("body");t&&"domElement"in t&&(e=jQuery(t.domElement)),u.updateDomStatusItems(e),u.updateDomTextItems(e),u.updateDomTextPrices(),u.updateDomTextSummary(),u.updateDomRenderImages(),u.updateModeChangeItems(),u.updateTechdata(),u.eventBus.emit(s.appEvents.DOM_UPDATED)},u.setDOMStatusCode=function(t,e){var n,r;e&&(r=(n=t.get(0)).className)!==(r=r.replace(/nm-j-configurator-status_[01]{5}/,["nm-j-configurator-status_",e].join("")))&&(n.className=r)},u.setDebugOutput=function(t,e){var n=e;n&&(n=" ("+n+")",(1===t.find(".nm-debug-item").length?jQuery(t.find(".nm-debug-item")[0]):t).attr("data-message",n))},u.handleConflictAndTransferResolves=function(){u.updateAllDomItems()},u.handleViewStateUpdates=function(t){var e;t&&t.domElement&&t.domElement.length&&(e=t.domElement),u.updateDomRenderImages(e)},u.updateAllDomItems=function(){u.updateDomStatusItems(),u.updateDomTextItems(),u.updateDomTextPrices(),u.updateDomTextSummary(),u.updateDomRenderImages(),u.updateModeChangeItems(),u.updateTechdata(),u.eventBus.emit(s.appEvents.DOM_UPDATED)},u.updateDomTextPrices=function(){var t=a.dpuApi.getConfiguration();t&&t.prices&&u.setDOMText(jQuery("body"),t.prices)},u.updateModeChangeItems=function(){var t,e,n,r,i,o;e="nm-mode-"+(t=a.dpuApi.getPriceRateMode()),jQuery("body").removeClass("nm-mode-rate nm-mode-price"),jQuery("body").addClass(e),(o=jQuery(".nm-engine-list a[data-module-maw-criteria=price]")).length>0&&(n="rate"===t?"Preis":"Rate",r="rate"===t?"Rate":"Preis",i=o.html(),o.html(i.replace(n,r))),jQuery(".nm-price-rate-switch").each(function(){this.checked="rate"===t})},u.updateDomTextItems=function(t){(t||jQuery("body")).find(".nm-j-configurator-item").each(function(){var t=jQuery(this),e=t.attr("data-configurator-id"),n=a.dpuApi.getItem(e);n&&u.setDOMText(t,n)})},u.setDOMText=function(t,e){var n=["carlineName","count","description","eec-co2emission","eec-consumption","eec-consumptioninner","eec-efficiency","eec-electricitycost","eec-energycost","eec-yearlytaxcost","financeGlobalDisclaimer","financeParameters","financeProductDisclaimer","financeProductName","modelPrice","nettoBase","nettoOptions","optionsPrice","pa","packageDescription","price","pricenm-price","rate","rotrprice","rotrRate","subname","taxableBenefit1","taxableBenefit2","taxTotal","totalRate","totalWithCharges"];(n=n.filter(function(t){return void 0!==(0,o.default)(e[t])})).forEach(function(n){t.find([u.oDefaults.sSelectorSnippetText,n].join("")).html(e[n])})},u.hideRenderImages=function(){jQuery(u.oDefaults.sSelectorRenderImage).each(function(){jQuery(this).addClass("nm-fade-out")})},u.updateDomRenderImages=function(t){var e,n,r,i=a.dpuApi.getConfigurationAssets();i&&(e=t||jQuery("body"),jQuery(u.oDefaults.sSelectorRenderImage,e).each(function(){var t,e,o,s,l=jQuery(this);n=l.attr("data-renderimage-type"),r=l.attr("data-renderimage-view"),s=l.attr("data-resize-param"),n&&r&&(t=i[r])&&t[n]?(e=a.dpuApi.getRenderUrl()+t[n],0!==t[n].indexOf("/preview/")&&(o=a.dpuApi.getAltImagePath(r,n))&&(e+="?alt="+o),s&&(e+=-1!==e.indexOf("?")?"&":"?",e+=s),l.is("img")?e!==l.attr("src")?l.removeClass("nm-fade-out nm-fade-in").addClass("nm-fade-out").delay(300).load(function(t){jQuery(t.target).removeClass("nm-fade-out nm-fade-in").addClass("nm-fade-in").delay(300).removeClass("nm-fade-in")}).attr("src",e):l.removeClass("nm-fade-out nm-fade-in").addClass("nm-fade-in").delay(300).removeClass("nm-fade-in"):l.is("source")?l.attr("srcset",e):l.attr("data-url")!==e&&(l.attr("data-url",e),l.css("backgroundImage","url("+e+")"))):l.removeClass("nm-fade-out nm-fade-in").addClass("nm-fade-in").delay(300).removeClass("nm-fade-in")}))},u.updateTechdata=function(){var t=a.dpuApi.getConfiguration();t&&t.techdata&&(0,i.default)(t.techdata).forEach(function(t){u.updateTechdataEntry(t[0],t[1])})},u.updateTechdataEntry=function(t,e){[].concat((0,r.default)(document.querySelectorAll(u.oDefaults.selectorTechdata+t))).forEach(function(t){t.innerHTML=e})},u.updateDomTextSummary=function(){var t=a.dpuApi.getMotorcode(),e=a.dpuApi.getItem(t),n=a.dpuApi.getModelsInfo(t),r=a.dpuApi.getConfiguration();r||console.warn("updateDomTextSummary: no configuration available!");var i=r&&r.eec?r.eec:{},o=void 0,s=void 0;r&&u.setDOMText(jQuery(u.oDefaults.sSelectorConfigurationSummary),r);var l=jQuery("[data-template='summary']");if(e=jQuery.extend(n,e),i&&!i.efficiency&&e&&e["energy-efficiency-category"]&&(i.efficiency=e["energy-efficiency-category"]),l.length){if(r&&r.description&&l.find(".nm-j-configurator-text-description").html(r.description),e)for(o in o="",e)e.hasOwnProperty(o)&&("image"===o?l.find(u.oDefaults.selectorModelImage).attr("src",e[o]):l.find([u.oDefaults.selectorModelText,o].join("")).html(e[o]));if(i){for(o in o="",i)i.hasOwnProperty(o)&&l.find([u.oDefaults.sSelectorSnippetTextEec,o].join("")).html(i[o]);i.efficiency&&(s=a.dpuApi.getDocrootUrl()+"/cms4i-nemo/eec-images/eec-label-"+i.efficiency.toLowerCase().replace(/\+/,"plus")+"-small.png",l.find(u.oDefaults.selectorEecImage).attr("src",s))}}a.dpuApi.isConfigurationStarted()&&(!!a.dpuApi.getConfigurationCarPriceRate()?(jQuery(u.oDefaults.sSelectorCarPriceRate).removeClass("nm-hidden"),jQuery(".nm-footnote-finance").removeClass("nm-hidden")):(jQuery(u.oDefaults.sSelectorCarPriceRate).addClass("nm-hidden"),jQuery(".nm-footnote-finance").addClass("nm-hidden")))},c.initialize=function(t){u.eventBus=t,u.$stage=jQuery(u.oDefaults.sStageID),a.dpuApi.isConfigurable()&&u.addEvents(),document.cookie.indexOf("myAudi=")>-1&&jQuery("body").addClass("nm-logged-in")},e.domState=c},
/*!***********************************!*\
  !*** ./js/configurator/search.js ***!
  \***********************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dpuSearch=void 0;var r=n(/*! ./dpu/api */27),i=n(/*! ./dpu/controller */138),o=n(/*! core-utils */0),a=n(/*! ../global-bundle */44),s=n(/*! ../application-bundle */3),l=n(/*! ./search-layer-template */299),u=n(/*! ./search-audicode-error-template */300),c=".nm-header-overlay-container .nm-navigation-header-search-overlay.nm-header-overlay-is-open",d={},f={__:d};d.mobileBreakpoint=750,d.searchLayerOpen=!1,d.searcListProposalsArr=null,d.audicodeActivated=!1,d.oDefaults={sAcceptAudicodeButton:".nm-j-audicode-accept"},d.loadSearchListProposals=function(){var t=SETUPS.get("nemo.url.searchproposals");return o.ajax.getJSON(t).then(function(t){d.searcListProposalsArr=t&&t.Proposals?t.Proposals:[]},function(t){console.error("search: error loading search list proposals.",t)})},d.searchResultListProposals=function(t){var e,n=[];return t&&(e=t.toLowerCase(),d.searcListProposalsArr&&d.searcListProposalsArr.length&&jQuery.each(d.searcListProposalsArr,function(t,r){if(!r.Search)return!0;r.Search.indexOf(e)>-1&&n.push(r)})),n},d.addEvents=function(){var t="click";d.legacyEventBus.on("keyup",".nm-su .nm-su-input",d.onOpenSearchLayer),d.legacyEventBus.on("paste",".nm-su .nm-su-input",d.onOpenSearchLayerDelayed),d.legacyEventBus.on("click",".nm-su .nm-su-input",d.onOpenSearchLayer),d.legacyEventBus.on("click",".nm-su .nm-su-submit",d.onOpenSearchLayer),d.legacyEventBus.on("click",".nm-su .nm-su-reset",d.resetSearch),d.legacyEventBus.on("submit",".nm-su form",d.formSubmit),d.eventBus.on(s.appEvents.MENUFLYOUT_OPEN,d.clearSearch),d.eventBus.on(s.appEvents.MENUFLYOUT_CLOSE,d.emptySearchResults),void 0!==document.documentElement.ontouchstart&&(t="touchstart"),d.legacyEventBus.on(t,d.onClickOutsideOfSearchLayer)},d.removeEvents=function(){var t="click";d.legacyEventBus.off("keyup",".nm-su .nm-su-input",d.onOpenSearchLayer),d.legacyEventBus.off("paste",".nm-su .nm-su-input",d.onOpenSearchLayerDelayed),d.legacyEventBus.off("click",".nm-su .nm-su-input",d.onOpenSearchLayer),d.legacyEventBus.off("click",".nm-su .nm-su-submit",d.onOpenSearchLayer),d.legacyEventBus.off("click",".nm-su .nm-su-reset",d.resetSearch),d.legacyEventBus.off("submit",".nm-su form",d.formSubmit),d.eventBus.off(s.appEvents.MENUFLYOUT_OPEN,d.clearSearch),d.eventBus.off(s.appEvents.MENUFLYOUT_CLOSE,d.emptySearchResults),void 0!==document.documentElement.ontouchstart&&(t="touchstart"),d.legacyEventBus.off(t,d.onClickOutsideOfSearchLayer)},d.emptySearchResults=function(){jQuery(".nm-su-result-container").empty()},d.resetSearch=function(){jQuery(c).find("input.nm-su-input").focus(),d.emptySearchResults(),jQuery(c).find("input.nm-su-input").keyup()},d.clearSearch=function(t){void 0!==t.item&&(jQuery(c).find("input.nm-su-input").val(""),jQuery(c).find("input.nm-su-input").focus())},d.formSubmit=function(t){var e,n;return t&&"function"==typeof t.preventDefault&&t.preventDefault(),d.loadedConfiguration?(d.acceptLoadedConfiguration(),!1):!jQuery(".nm-j-audicode-loading").length&&(!((e=d.readSearchStringFromInput()).length<=0)&&((n=d.buildGsaSearchUrl(e))&&(document.location=n),!1))},d.readSearchStringFromInput=function(){var t=jQuery(".nm-su .nm-su-input").val();return t=t.replace(/^\s+/g,"").replace(/</g,"").replace(/>/g,"")},d.onOpenSearchLayerDelayed=function(){var t=this;setTimeout(function(){jQuery(t).keyup()},50)},d.preventEvent=function(){return!1},d.removeStopWordsFromSearchString=function(t){var e,n=t;return r.dpuApi.getSearchStopWords()&&(e=new RegExp("\\b(?:i|"+r.dpuApi.getSearchStopWords()+")\\b\\s*","gi"),n=n.replace(e,"")),n},d.detectAndStoreAudiCode=function(t,e){return 8===e.length&&-1!==e.search(/[Aa]{1}[a-zA-Z0-9]{7}/)?(t.audicode=e.toUpperCase(),d.legacyEventBus.off("submit",".nm-su form",d.formSubmit),d.legacyEventBus.on("submit",".nm-su form",d.preventEvent)):(d.legacyEventBus.off("submit",".nm-su form",d.preventEvent),d.legacyEventBus.on("submit",".nm-su form",d.formSubmit)),t},d.handleAudiCodeInput=function(t,e){var n=SETUPS.get("nemo.search.audicodestopwords");return e.audicode&&!e.search.length&&n&&-1===n.indexOf(t)?d.triggerAudicodeLoad(e.audicode):e.audicode=null,e.searchString=t||d.readSearchStringFromInput(),e.siteMapSearch=r.dpuApi.searchNavigation(t,"siteMap"),e.modelSearch=r.dpuApi.searchNavigation(t,"model"),e.footerSearch=r.dpuApi.searchNavigation(t,"footer"),e.gsaSearchUrl=d.buildGsaSearchUrl(t),e.searchListProposals=d.searchResultListProposals(t),e},d.generateResultList=function(t){var e,n={},o=t;return d.searchLayerOpen=!0,n=d.detectAndStoreAudiCode(n,o),-1!==o.indexOf("|")&&(n.prstring=o),-1!==o.search(/^([a-z0-9]+)=((true)|(false))$/)&&(e=/^([a-z0-9]+)=((true)|(false))$/.exec(o),a.state.triggerModeChange(e[1],e[2])),-1!==o.search(/dpu_extra=(.*)/)&&(e=/^dpu_extra=(.*)/.exec(o),i.dpuController.setDpuExtra(e[1])),o=d.removeStopWordsFromSearchString(o),n.search=SETUPS.get("showEquipmentsWithinSearchLayerContext")&&o&&o.length>1?r.dpuApi.search(o,!0):[],n=d.handleAudiCodeInput(o,n)},d.handleSearch=function(t,e,n,r){var i,a=d.generateResultList(n),u=e!==n||"click"===t.type;n.length>1&&u?(i=o.template.render(l.searchLayerTemplate,a),r.empty().html(i),d.eventBus.emit(s.appEvents.SEARCH_OPEN,a)):n.length<=1&&d.closeSearchLayer()},d.handleSmallViewportSubmit=function(t,e){var n,r=e;jQuery(window).width()<d.mobileBreakpoint&&jQuery(t.target).hasClass("nm-su-submit")&&(jQuery(".nm-j-audicode-loading").length?d.audicodeActivated&&d.acceptLoadedConfiguration():(r=d.readSearchStringFromInput(),null!==(n=d.buildGsaSearchUrl(r))&&(document.location=n)))},d.isExitConditionFulfilled=function(t){if(d.audicodeActivated){if(13===t.keyCode&&jQuery(".nm-j-audicode-accept").is(":visible"))return d.acceptLoadedConfiguration(),!0}else d.loadedConfiguration=null;return 16===t.keyCode||13===t.keyCode},d.onOpenSearchLayer=function(t){var e,n,r,i=void 0;d.isExitConditionFulfilled(t)||(d.searchForm=jQuery(t.target).parents("form"),e=(i=jQuery(this).closest(".nm-su")).find(".nm-su-result-container"),n=d.readSearchStringFromInput(),(r=i.data("current")||"")!==n&&(d.audicodeActivated=!1,d.loadedConfiguration=null),i.data("current",n),d.handleSearch(t,r,n,e),d.setFlyoutHeight(e),d.handleSmallViewportSubmit(t,n))},d.buildGsaSearchUrl=function(t){var e=r.dpuApi.getGsaSearchUrl();return e?e+="#search="+encodeURIComponent(t.toLowerCase()):null},d.onClickOutsideOfSearchLayer=function(t){var e=t.target;d.searchLayerOpen&&d.isClickedTargetOutsideSearchLayer(e)&&d.isClickedTargetOutsideSearchSearchInputField(e)&&d.isClickedTargetOutsideAnyOtherLayer(e)&&d.closeSearchLayer()},d.isClickedTargetOutsideSearchLayer=function(t){return o.dom.isElementOutsideOfElementWithSelector(t,".nm-su-result-container")},d.isClickedTargetOutsideSearchSearchInputField=function(t){return o.dom.isElementOutsideOfElementWithSelector(t,"div.nm-su")},d.isClickedTargetOutsideAnyOtherLayer=function(t){return o.dom.isElementOutsideOfElementWithSelector(t,".nm-layer-wrapper")},d.closeSearchLayer=function(){setTimeout(function(){d.searchLayerOpen=!1,jQuery(".nm-su-result-container").empty(),d.eventBus.emit(s.appEvents.SEARCH_CLOSE)},100)},d.triggerAudicodeLoad=function(t){i.dpuController.loadConfigurationByAudiCode(t).then(function(t){d.onAudiCodeLoaded(t)},function(t){t.message=t.message||window.i18n["standard-audicode-error"],d.showAudiCodeLoadError(t)})},d.showAudiCodeLoadError=function(t){var e,n=jQuery(".nm-su-result-container");t.message=r.dpuApi.getErrorMessage(t),e=o.template.render(u.searchAudicodeErrorTemplate,t),console.error(t),d.legacyEventBus.off("submit",".nm-su form",d.preventEvent),d.legacyEventBus.on("submit",".nm-su form",d.formSubmit),n.empty().html(e),d.setFlyoutHeight(n)},d.handleAudiCodeError=function(t){var e={};t&&(e.message=t),d.audicodeActivated=!1,d.loadedConfiguration=void 0,d.showAudiCodeLoadError(e)},d.onAudiCodeLoaded=function(t){var e=void 0,n=void 0;d.loadedConfiguration=t,d.loadedConfiguration&&t.audicode&&d.loadedConfiguration.audicode.id?(e=d.loadedConfiguration.audicode.id.toUpperCase(),(n=jQuery(".nm-su-input").filter(function(){return jQuery(this).val().toUpperCase()===e}))&&1===n.length?(d.audicodeActivated=!0,d.showLoadedConfiguration(n)):d.handleAudiCodeError()):d.handleAudiCodeError(window.i18n["standard-audicode-error"],"ERROR loading Audicode")},d.showLoadedConfiguration=function(t){var e=t.closest(".nm-su").find(".nm-su-result-container"),n={search:{},audicode:d.loadedConfiguration.audicode.id,configuration:d.loadedConfiguration,mediaservice:r.dpuApi.getRenderUrl(),success:!!d.loadedConfiguration.audicode.success,"vtp-audicode":!!d.loadedConfiguration.audicode["other-url"],"other-url":d.loadedConfiguration.audicode["other-url"]?d.loadedConfiguration.audicode["other-url"]:null,message:d.loadedConfiguration.audicode.message},i=o.template.render(l.searchLayerTemplate,n);e.one("click.accept.loaded.audicode",d.oDefaults.sAcceptAudicodeButton,d.acceptLoadedConfiguration),e.empty().html(i),d.setFlyoutHeight(e)},d.acceptLoadedConfiguration=function(t){var e=d.loadedConfiguration&&d.loadedConfiguration.audicode?d.loadedConfiguration.audicode:null;if(t&&!SETUPS.get("scope.nemo.audicode.externallink")&&"function"==typeof t.preventDefault&&t.preventDefault(),t&&SETUPS.get("scope.nemo.audicode.externallink"))return!0;if(d.eventBus.emit(s.appEvents.SEARCH_LOAD_AUDICODE,{audicode:e}),d.loadedConfiguration.audicode["other-url"]){if(""!==d.loadedConfiguration.audicode["other-url"]){if(SETUPS.get("scope.nemo.audicode.externallink"))return t.target.href=d.loadedConfiguration.audicode["other-url"],!0;window.location=d.loadedConfiguration.audicode["other-url"]}}else i.dpuController.handleExternalConfiguration(d.loadedConfiguration,{startType:"audicode-search"}),s.router.open("page",r.dpuApi.getCurrentCarlineUrl());d.closeSearchLayer()},d.setFlyoutHeight=function(t){jQuery(".nm-su").removeClass("noSrcollbars"),t.height()<410&&jQuery(".nm-su").addClass("noSrcollbars");var e=t.height()+150;jQuery(".nm-has-additional-logo").length>0&&(e+=30),jQuery(c+".nm-header-overlay-is-open").height(e)},f.initialize=function(t){d.eventBus=t,d.legacyEventBus=jQuery("body"),d.addEvents(),d.loadSearchListProposals()},e.dpuSearch=f},
/*!**************************************************!*\
  !*** ./js/configurator/search-layer-template.js ***!
  \**************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.searchLayerTemplate='<div class="nm-su-result">\n\t{{?!!it.audicode}}\n\t\t{{?!!it.configuration}}\n\t\t<div class="nm-su-result-wrap">\n\t\t\t<div class="nm-su-result-audicode clearfix">\n\t\t\t\t{{? SETUPS.get(\'scope.nemo.audicode.externallink\')}}\n\t\t\t\t\t{{var target = "target=\'blank\'";}}\n\t\t\t\t\t{{var link = \'/\' + it.audicode;}}\n\t\t\t\t{{??}}\n\t\t\t\t\t{{var target = "";}}\n\t\t\t\t\t{{var link = "#";}}\n\t\t\t\t{{?}}\n\t\t\t\t{{?it.success===false}}\n\t\t\t\t\t{{?it[\'vtp-audicode\'] && it[\'other-url\']}}\n\t\t\t\t\t<div class="nm-su-vtp">\n\t\t\t\t\t\t<a href="{{=it[\'other-url\']}}" class="nm-link-cta" {{=target}}>\n\t\t\t\t\t\t\t<span class="nm-su-result-audicode-label">{{=window.i18n[\'search-layer.your-audicode\']}}</span>&nbsp;\n\t\t\t\t\t\t\t <strong>{{=it.audicode}}</strong>\n\t\t\t\t\t\t\t<svg class="nm-icon-arrow">\n\t\t\t\t\t\t\t\t<use xlink:href={{=SETUPS.get(\'nemo.url.assets\')+"/icons/svg/sprite/sprite.svg#nm-icon-arrow"}}></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div class="nm-su-vtp-image"></div>\n\t\t\t\t\t\t<div class="nm-su-vtp-description">\n\t\t\t\t\t\t\t<span class="nm-headline-teaser">\n\t\t\t\t\t\t\t\t{{=window.i18n[\'search-layer.available-cars\']}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<div class="nm-description nm-label-info">\n\t\t\t\t\t\t\t\t{{=window.i18n[\'search-layer.available-cars-info\']}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<a href="{{=it[\'other-url\']}}" class="nm-el-btn nm-el-btn-01 nm-el-btn-ast" {{=target}}>\n\t\t\t\t\t\t\t\t<span>{{=window.i18n[\'search-layer.your-car\']}}</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<div class="nm-text-list">\n\t\t\t\t\t\t\t\t<span class="nm-text-list-bold">\n\t\t\t\t\t\t\t\t\t{{=window.i18n[\'search-layer.label.disclaimer\']}}:\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{{=window.i18n[\'search-layer.vtp-warning\']}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{{??}}\n\t\t\t\t\t\t<strong class="nm-headline-teaser">{{=it.message}}</strong>\n\t\t\t\t\t{{?}}\n\t\t\t\t{{??}}\n\t\t\t\t\t<a href="{{=link}}" class="nm-link-cta nm-j-audicode-accept" {{=target}}>\n\t\t\t\t\t\t<span class="nm-su-result-audicode-label">{{=window.i18n[\'search-layer.your-audicode\']}}</span>&nbsp;\n\t\t\t\t\t\t<strong>{{=it.audicode}}</strong>\n\t\t\t\t\t\t<svg class="nm-icon-arrow">\n\t\t\t\t\t\t\t<use xlink:href={{=SETUPS.get(\'nemo.url.assets\')+"/icons/svg/sprite/sprite.svg#nm-icon-arrow"}}></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t\t<img class="nm-su-result-audicode-image" src="{{=it.mediaservice}}{{=it.configuration.configuration.assets[\'exterior_front\'][\'compare.new\']}}"/>\n\t\t\t\t\t<div class="nm-su-result-audicode-description">\n\t\t\t\t\t\t<span class="nm-headline-teaser">\n\t\t\t\t\t\t\t{{=it.configuration.configuration.carlineName}}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<div class="nm-description nm-label-info">\n\t\t\t\t\t\t\t{{=it.configuration.configuration.description}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<strong class="nm-headline-teaser nm-su-result-audicode-price">\n\t\t\t\t\t\t\t{{=it.configuration.configuration.price}}\n\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t<a href="{{=link}}" {{=target}} class="nm-j-audicode-accept nm-el-btn nm-el-btn-01 nm-el-btn-ast">{{=window.i18n[\'search-layer.load-configuration\']}}</a>\n\t\t\t\t\t\t<div class="nm-text-list">\n\t\t\t\t\t\t\t<span class="nm-text-list-bold">\n\t\t\t\t\t\t\t\t{{=window.i18n[\'search-layer.label.disclaimer\']}}:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{{=window.i18n[\'search-layer.configuration-overwrite-warning\']}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{? it.configuration.configuration.eec && (it.configuration.configuration.eec.consumption || it.configuration.configuration.eec.co2emission || it.configuration.configuration.eec.efficiency)}}\n\t\t\t\t\t\t\t<dl class="nm-su-result-audicode-consumption-entries clearfix audi-copy-s">\n\t\t\t\t\t\t\t\t{{? it.configuration.configuration.eec.consumption}}\n\t\t\t\t\t\t\t\t\t<dt class="nm-su-result-audicode-consumption-label">{{=window.i18n[\'nemo.ui.consumption-combined\']}}*:</dt>\n\t\t\t\t\t\t\t\t\t<dd class="nm-su-result-audicode-consumption-value">{{=it.configuration.configuration.eec.consumption}}</dd>\n\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t\t{{? it.configuration.configuration.eec.co2emission}}\n\t\t\t\t\t\t\t\t\t<dt class="nm-su-result-audicode-consumption-label">{{=window.i18n[\'nemo.ui.emission-combined\']}}*:</dt>\n\t\t\t\t\t\t\t\t\t<dd class="nm-su-result-audicode-consumption-value">{{=it.configuration.configuration.eec.co2emission}}</dd>\n\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t\t{{? it.configuration.configuration.eec.efficiency}}\n\t\t\t\t\t\t\t\t\t<dt class="nm-su-result-audicode-consumption-label">{{=window.i18n[\'nemo.ui.efficiency-class\']}}:</dt>\n\t\t\t\t\t\t\t\t\t<dd class="nm-su-result-audicode-consumption-value">{{=it.configuration.configuration.eec.efficiency}}</dd>\n\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t{{?}}\n\t\t\t\t\t</div>\n\t\t\t\t{{?}}\n\t\t\t</div>\n\t\t</div>\n\t\t{{??}}\n\t\t\t<div class="nm-su-result-audicode">\n\t\t\t\t<strong class="nm-headline-teaser">\n\t\t\t\t\t{{=window.i18n[\'search-layer.audicode-loading\']}}\n\t\t\t\t</strong>\n\t\t\t\t<div class="nm-j-audicode-loading nm-loading">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{{?}}\n\t{{?}}\n\t{{?!it.audicode}}\n\t\t<div class="nm-su-result-wrap">\n\t\t\t{{?it.search.length}}\n\t\t\t\t<ul class="nm-su-result-list-group">\n\t\t\t\t\t{{~ it.search :entry }}\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<h2 class="nm-su-result-list-item-headline">\n\t\t\t\t\t\t\t\t<span class="nm-label-text-bold">{{=entry.value.carlineName}}\n\t\t\t\t\t\t\t\t\t<svg class="nm-icon-arrow">\n\t\t\t\t\t\t\t\t\t\t<use xlink:href={{=SETUPS.get(\'nemo.url.assets\')+"/icons/svg/sprite/sprite.svg#nm-icon-arrow"}}></use>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="nm-label-text-bold">{{=entry.key}}</span>\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t<ul class="nm-su-result-list">\n\t\t\t\t\t\t\t\t{{~ entry.value.items :item }}\n\t\t\t\t\t\t\t\t\t<li class="nm-j-configurator-item nm-j-configurator-status_{{=item.status}} clearfix"\n\t\t\t\t\t\t\t\t\tdata-configurator-id="{{=item.id}}">\n\t\t\t\t\t\t\t\t\t\t<div class="nm-su-result-image">\n\t\t\t\t\t\t\t\t\t\t\t{{? !!item.image}}\n\t\t\t\t\t\t\t\t\t\t\t\t<img src="{{=item.image}}" alt="{{=item.name}}" class="nm-image" />\n\t\t\t\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="nm-su-result-list-content">\n\t\t\t\t\t\t\t\t\t\t\t<div class="nm-j-configurator-name nm-text-list-bold">\n\t\t\t\t\t\t\t\t\t\t\t\t{{=item.name}}\n\t\t\t\t\t\t\t\t\t\t\t\t{{? !!item.nonrenderable && item.nonrenderable == true }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="nm-text-list"><br />{{=window.i18n[\'configuration.not-rendable-message\']}}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{{? !!item.description}}\n\t\t\t\t\t\t\t\t\t\t\t<div class="nm-su-result-list-description nm-text-list">\n\t\t\t\t\t\t\t\t\t\t\t\t{{= item.description || \'\'}}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="nm-su-result-list-info">\n\t\t\t\t\t\t\t\t\t\t\t<div class="nm-su-result-list-add clearfix">\n\t\t\t\t\t\t\t\t\t\t\t\t{{?!!item.url}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a class="nm-info nm-layerLink" href="{{=item.url}}" title="{{=window.i18n[\'more-information\']}}"></a>\n\t\t\t\t\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="nm-conflict-icon" title="#I18N("nemo.ui.common.conflict" "Konflikt")"></span>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="nm-su-result-list-price nm-text-list">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{? !!item.price}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="nm-j-configurator-text-price">{{=item.price}}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="nm-su-result-list-add-btn">\n\t\t\t\t\t\t\t\t\t\t\t\t<a class="nm-el-btn nm-el-btn-02 nm-j-configurator-delegate-click" href="#">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="nm-at-btn-state01">{{=window.i18n[\'search-layer.add-item\']}}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="nm-at-btn-state02">{{=window.i18n[\'search-layer.item-included\']}}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="nm-at-btn-state03">{{=window.i18n[\'search-layer.remove-item\']}}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t{{~}}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t{{~}}\n\t\t\t\t</ul>\n\t\t\t{{?}}\n\t\t\t<div class="nm-su-sitesearch-list">\n\t\t\t\t{{?it.modelSearch.length}}\n\t\t\t\t\t<ul class="nm-su-modelsearch-group">\n\t\t\t\t\t\t{{~it.modelSearch :modelItem}}\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a class="nm-link-basic" href="{{=modelItem.url}}">\n\t\t\t\t\t\t\t\t<span>{{=modelItem.name}}</span>\n\t\t\t\t\t\t\t\t<svg class="nm-icon-arrow">\n\t\t\t\t\t\t\t\t\t<use xlink:href={{=SETUPS.get(\'nemo.url.assets\')+"/icons/svg/sprite/sprite.svg#nm-icon-arrow"}}></use>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t{{~}}\n\t\t\t\t\t</ul>\n\t\t\t\t{{?}}\n\t\t\t\t{{?it.siteMapSearch.length}}\n\t\t\t\t\t<ul class="nm-su-sitemapsearch-group">\n\t\t\t\t\t\t{{~it.siteMapSearch :siteMapItem}}\n\t\t\t\t\t\t\t{{var itemName = siteMapItem.name;\n\t\t\t\t\t\t\tvar rhombus = /[rhombus]/ig;\n\t\t\t\t\t\t\tvar plus = /:plus/ig;\n\t\t\t\t\t\t\tvar replacedName = itemName.replace( rhombus, \'***\');/*<span class="nm-icon-rhombus"></span>\' );*/\n\t\t\t\t\t\t\treplacedName = replacedName.replace( plus, \'<span class="nm-brand-plus">:plus</span>\' );\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a class="nm-link-basic" href="{{=siteMapItem.url}}">\n\t\t\t\t\t\t\t\t<span>{{=replacedName}}</span>\n\t\t\t\t\t\t\t\t<svg class="nm-icon-arrow">\n\t\t\t\t\t\t\t\t\t<use xlink:href={{=SETUPS.get(\'nemo.url.assets\')+"/icons/svg/sprite/sprite.svg#nm-icon-arrow"}}></use>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t{{~}}\n\t\t\t\t\t</ul>\n\t\t\t\t{{?}}\n\t\t\t\t{{?it.footerSearch.length}}\n\t\t\t\t\t<ul class="nm-su-footersearch-group">\n\t\t\t\t\t\t{{~it.footerSearch :footerItem}}\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a class="nm-link-basic" href="{{=footerItem.url}}">\n\t\t\t\t\t\t\t\t<span>{{=footerItem.name}}</span>\n\t\t\t\t\t\t\t\t<svg class="nm-icon-arrow">\n\t\t\t\t\t\t\t\t\t<use xlink:href={{=SETUPS.get(\'nemo.url.assets\')+"/icons/svg/sprite/sprite.svg#nm-icon-arrow"}}></use>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t{{~}}\n\t\t\t\t\t</ul>\n\t\t\t\t{{?}}\n\t\t\t</div>\n\t\t\t/*Proposals*/\n\t\t\t<ul class="nm-su-result-list-group">\n\t\t\t\t{{?it.searchListProposals.length}}\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<ul class="nm-su-result-list nm-su-proposal-list">\n\t\t\t\t\t\t\t{{~it.searchListProposals :proposalItem}}\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a href="{{=proposalItem.Url}}" x-cq-linkchecker="valid" class="nm-su-proposol-item{{?proposalItem.Type=="Layer"}} nm-layerLink{{?}}">\n\t\t\t\t\t\t\t\t\t\t<div class="nm-su-result-image">\n\t\t\t\t\t\t\t\t\t\t\t{{? !!proposalItem.ImageUrl}}\n\t\t\t\t\t\t\t\t\t\t\t\t<img src="{{=proposalItem.ImageUrl}}" alt="{{=proposalItem.Headline}}" class="nm-image" />\n\t\t\t\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="nm-su-proposal-list-content">\n\t\t\t\t\t\t\t\t\t\t\t<strong class="nm-text-list-bold">{{=proposalItem.Headline}}</strong>\n\t\t\t\t\t\t\t\t\t\t\t<div class="nm-su-result-list-description nm-text-list">{{=proposalItem.Description}}</div>\n\t\t\t\t\t\t\t\t\t\t\t<span class="nm-link-basic" >\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{{=window.i18n[\'discover-now\']}}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<svg class="nm-icon-arrow">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<use xlink:href={{=SETUPS.get(\'nemo.url.assets\')+"/icons/svg/sprite/sprite.svg#nm-icon-arrow"}}></use>\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t{{~}}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t{{?}}\n\t\t\t</ul>\n\t\t</div>\n\t\t{{?!!it.gsaSearchUrl}}\n\t\t\t<div class="nm-su-gsa">\n\t\t\t\t<a {{=it.searchString}} {{=window.i18n[\'search-layer.search-for\']}}&quot;,&quot;prop7&quot;:&quot;{{=it.searchString}}&quot;,&quot;eVar3&quot;:&quot;{{=it.searchString}}&quot;,&quot;eVar9&quot;:&quot;tools/nemo-search&quot;,&quot;events&quot;:&quot;event28&quot;}" class="nm-link-basic" href="{{=it.gsaSearchUrl}}">\n\t\t\t\t\t<span>{{=window.i18n[\'search-layer.search-audi-web\']}} &quot;<span class="nm-highlight">{{=it.searchString}}</span>&quot; {{=window.i18n[\'search-layer.search-for\']}}</span>\n\t\t\t\t\t<svg class="nm-icon-arrow">\n\t\t\t\t\t\t<use xlink:href={{=SETUPS.get(\'nemo.url.assets\')+"/icons/svg/sprite/sprite.svg#nm-icon-arrow"}}></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t{{?}}\n\t{{?}}\n</div>'},
/*!***********************************************************!*\
  !*** ./js/configurator/search-audicode-error-template.js ***!
  \***********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.searchAudicodeErrorTemplate='<div class="nm-su-result-audicode-wrap">\n\t<div class="nm-su-result-audicode">\n\t\t<h2 class="nm-el-hdl nm-el-hdl-05 nm-at-hdl-b">{{=window.i18n[\'search-layer.audicode.error\']}}: </h2>\n\t\t<p class="nm-error nm-error-layer-message nm-el-pg nm-el-pg-03 nm-at-pg-indicator">{{=it.message}}</p>\n\t</div>\n</div>'},
/*!***************************************************!*\
  !*** ./js/configurator/dynamic-recommendation.js ***!
  \***************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(/*! babel-runtime/core-js/object/set-prototype-of */15)),i=v(n(/*! babel-runtime/core-js/reflect/construct */17)),o=v(n(/*! babel-runtime/core-js/object/assign */72)),a=v(n(/*! babel-runtime/core-js/object/get-prototype-of */7)),s=v(n(/*! babel-runtime/helpers/classCallCheck */1)),l=v(n(/*! babel-runtime/helpers/possibleConstructorReturn */8)),u=v(n(/*! babel-runtime/helpers/createClass */2)),c=v(n(/*! babel-runtime/helpers/inherits */9)),d=n(/*! ../application-bundle */3),f=n(/*! ./dpu/api */27),m=n(/*! ../global-bundle */44),p=n(/*! core-utils */0),g=n(/*! ./dynamic-recommendation-template */302);function v(t){return t&&t.__esModule?t:{default:t}}function h(){return(0,i.default)(HTMLElement,[],this.__proto__.constructor)}(0,r.default)(h.prototype,HTMLElement.prototype),(0,r.default)(h,HTMLElement);var y=function(t){function e(){(0,s.default)(this,e);var t=(0,l.default)(this,(e.__proto__||(0,a.default)(e)).call(this));return t.eventBus=d.signal.getEmitter(),m.entryScroll.register("recommendations","summary-dynamic-recommendation"),t}return(0,c.default)(e,t),(0,u.default)(e,null,[{key:"selectors",get:function(){return{container:".nm-module-summary-dynamic-recommendation",hidden:"nm-hidden"}}}]),(0,u.default)(e,[{key:"connectedCallback",value:function(){this.moduleContainer=this.querySelector(e.selectors.container),this.addEvents(),this.renderRecommendations()}},{key:"disconnectedCallback",value:function(){this.removeEvents()}},{key:"addEvents",value:function(){var t=this;this.eventBus.on(d.appEvents.CONFIG_UPDATE,function(){t.renderRecommendations()})}},{key:"removeEvents",value:function(){var t=this;this.eventBus.off(d.appEvents.CONFIG_UPDATE,function(){t.renderRecommendations()})}},{key:"renderRecommendations",value:function(){var t=this.getRecommendations();t.length>0?this.updateContent(this.renderTemplate(t),!0):this.updateContent()}},{key:"getRecommendations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return f.dpuApi.getDynamicRecommendations().slice(0,t).map(function(t){return(0,o.default)({},t,f.dpuApi.getItem(t.id))})}},{key:"renderTemplate",value:function(t){return p.template.render(g.dynamicRecommendationTemplate,t)}},{key:"updateContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.moduleContainer.innerHTML=t,n?this.classList.remove(e.selectors.hidden):this.classList.add(e.selectors.hidden)}}]),e}(h);e.default=y,window.customElements.get("audi-configurator-dynamic-recommendation")||window.customElements.define("audi-configurator-dynamic-recommendation",y)},
/*!************************************************************!*\
  !*** ./js/configurator/dynamic-recommendation-template.js ***!
  \************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.dynamicRecommendationTemplate='\n<div class="audi-headline-order-3 nm-module-summary-dynamic-recommendation-headline-main">\n\t{{=window.i18n[\'dynamic-recommendations.others-choose-headline\']}}\n</div>\n<p class="audi-copy-s nm-module-summary-dynamic-recommendation-paragraph">\n\t{{=window.i18n[\'dynamic-recommendations.others-choose\']}}\n</p>\n\n\x3c!-- list --\x3e\n<div class="nm-module-summary-dynamic-recommendation-itemlist">\n\t\x3c!-- configurator item --\x3e\n\t{{~it :value}}\n\t\t{{##def.dataConfiguratorId :\n\t\t\t{{? value.id}}\n\t\t\t\tdata-configurator-id="{{=value.id}}"\n\t\t\t{{?}}\n\t\t#}}\n\t\t{{##def.dataConfiguratorGroup :\n\t\t\t{{? value.RadioGroup}}\n\t\t\t\tdata-configurator-group="{{=value.RadioGroup}}"\n\t\t\t{{?}}\n\t\t#}}\n\t\t<div class="nm-j-configurator-item nm-j-configurator-status_{{=value.status}}" {{#def.dataConfiguratorId}} {{#def.dataConfiguratorGroup}}>\n\t\t\t<div class="nm-module-summary-dynamic-recommendation-item">\n\n\t\t\t\t\x3c!-- checkbox --\x3e\n\t\t\t\t<div class="nm-module-summary-dynamic-recommendation-checkbox audi-checkbox nm-j-configurator-delegate-click">\n\t\t\t\t\t<span class="audi-checkbox">\n\t\t\t\t\t\t<span class="audi-checkbox-symbol nm-module-summary-dynamic-recommendation-checkbox-symbol">\n\t\t\t\t\t\t\t<svg class="nm-icon-select-small nm-module-summary-dynamic-recommendation-symbol">\n\t\t\t\t\t\t\t\t<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href={{=SETUPS.get(\'coreci.url.assets\')+"/icons/svg/select-small.svg#nm-icon-select-small"}}></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- item text --\x3e\n\t\t\t\t<div class="nm-module-summary-dynamic-recommendation-itemtext">\n\t\t\t\t\t<p class="audi-copy-m nm-module-summary-dynamic-recommendation-itemname-text">{{=value.name}}</p>\n\t\t\t\t\t\x3c!-- non renderable sets a remark text --\x3e\n\t\t\t\t\t{{? value.nonrenderable}}\n\t\t\t\t\t\t<p class="audi-copy-m nm-module-summary-dynamic-recommendation-additional-text">\n\t\t\t\t\t\t\t{{=window.i18n[\'nemo.ui.common.note\']}}:\n\t\t\t\t\t\t\t{{=window.i18n[\'configuration.not-rendable-message\']}}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t{{?}}\n\t\t\t\t\t{{? !value.RadioGroup}}\n\t\t\t\t\t\t<p class="audi-copy-m nm-module-summary-dynamic-recommendation-additional-text nm-j-configurator-text-packageDescription"></p>\n\t\t\t\t\t{{?}}\n\t\t\t\t</div>\n\n\t\t\t\t<div class="nm-module-summary-dynamic-recommendation-image-offerrate-wrapper">\n\t\t\t\t\t\x3c!-- image or video --\x3e\n\t\t\t\t\t{{##def.videoClass :\n\t\t\t\t\t\t{{? value.video}}\n\t\t\t\t\t\t\tnm-module-summary-dynamic-recommendation-video\n\t\t\t\t\t\t{{?}}\n\t\t\t\t\t#}}\n\n\t\t\t\t\t{{? value.image}}\n\t\t\t\t\t\t<div class="nm-module-summary-dynamic-recommendation-image {{#def.videoClass}}">\n\t\t\t\t\t\t\t{{? value.url}}\n\t\t\t\t\t\t\t\t<a class="nm-layerLink" href="{{=value.url}}">\n\t\t\t\t\t\t\t\t\t<img src="{{=value.image}}" alt="{{=value.name}}" />\n\t\t\t\t\t\t\t\t\t{{? value.video}}\n\t\t\t\t\t\t\t\t\t\t<svg class="nm-icon-play-large nm-module-summary-dynamic-recommendation-video-play-large">\n\t\t\t\t\t\t\t\t\t\t\t<use xlink:href={{=SETUPS.get(\'coreci.url.assets\')+"/icons/svg/system-play-large.svg#system-play-large"}}></use>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t<svg class="nm-icon-play-large nm-module-summary-dynamic-recommendation-video-play-small">\n\t\t\t\t\t\t\t\t\t\t\t<use xlink:href={{=SETUPS.get(\'coreci.url.assets\')+"/icons/svg/system-play-small.svg#system-play-small"}}></use>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t{{??}}\n\t\t\t\t\t\t\t\t<img src="{{=value.image}}" alt="{{=value.name}}" />\n\t\t\t\t\t\t\t\t{{? value.video}}\n\t\t\t\t\t\t\t\t\t<svg class="nm-icon-play-large nm-module-summary-dynamic-recommendation-video-play-large">\n\t\t\t\t\t\t\t\t\t\t<use xlink:href={{=SETUPS.get(\'coreci.url.assets\')+"/icons/svg/system-play-large.svg#system-play-large"}}></use>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<svg class="nm-icon-play-large nm-module-summary-dynamic-recommendation-video-play-small">\n\t\t\t\t\t\t\t\t\t\t<use xlink:href={{=SETUPS.get(\'coreci.url.assets\')+"/icons/svg/system-play-small.svg#system-play-small"}}></use>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{?}}\n\n\t\t\t\t\t<div class="nm-module-summary-dynamic-recommendation-offerrate-wrapper">\n\t\t\t\t\t\t<audi-configurator-offerrate data-rate="{{=parseInt(parseFloat(value.einbaurate) * 100, 10)}}" class="nm-offer-rate">\n\t\t\t\t\t\t\t<div class="nm-offer-rate-container">\n\t\t\t\t\t\t\t\t<div class="nm-offer-rate-text audi-copy-s"><span class="nm-offer-rate-value">0</span>%</div>\n\t\t\t\t\t\t\t\t<div class="nm-offer-rate-image">\n\t\t\t\t\t\t\t\t\t<svg class="nm-offer-rate-icon" viewbox="0 0 48 48">\n\t\t\t\t\t\t\t\t\t\t<path d="M3,24a21,21 0 1,0 42,0a21,21 0 1,0 -42,0" stroke-opacity="0.6" stroke="#333" fill="none" />\n\t\t\t\t\t\t\t\t\t\t<path class="nm-offer-rate-path" d="M3,24a21,21 0 1,0 42,0a21,21 0 1,0 -42,0" stroke="#BB0A30" stroke-width="3" fill="none" />\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</audi-configurator-offerrate>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="nm-module-summary-dynamic-recommendation-price-icons">\n\t\t\t\t\t\x3c!-- price --\x3e\n\t\t\t\t\t{{? value.Series || value.price}}\n\t\t\t\t\t\t<div class="audi-copy-m-bold nm-module-summary-dynamic-recommendation-price nm-j-configurator-text-price">\n\t\t\t\t\t\t\t{{? value.Series}}\n\t\t\t\t\t\t\t\t{{=window.i18n[\'nemo.common.serie\']}}\n\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t{{? value.price}}\n\t\t\t\t\t\t\t\t{{=value.price}}\n\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{?}}\n\n\t\t\t\t\t\x3c!-- infolayer --\x3e\n\t\t\t\t\t{{? value.url}}\n\t\t\t\t\t\t<div class="nm-module-summary-dynamic-recommendation-iconwrapper">\n\t\t\t\t\t\t\t<a class="nm-module-summary-dynamic-recommendation-iconlink nm-layerLink" href="{{=value.url}}" title="{{=window.i18n[\'more-information\']}}">\n\t\t\t\t\t\t\t\t<svg class="nm-icon-system-info-small nm-module-summary-dynamic-recommendation-icon-system-info-small">\n\t\t\t\t\t\t\t\t\t<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href={{=SETUPS.get(\'coreci.url.assets\')+"/icons/svg/system-info-small.svg#nm-icon-system-info-small"}}></use>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{?}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t{{~}}\n</div>\n\n\x3c!-- legend --\x3e\n<div class="audi-copy-m-bold nm-module-summary-dynamic-recommendation-legend-headline">\n\t{{=window.i18n[\'dynamic-recommendations.legend-headline\']}}\n</div>\n<div class="nm-module-summary-dynamic-recommendation-legend-wrapper">\n\t<svg class="nm-icon-offer-rate-small nm-module-summary-dynamic-recommendation-icon-offer-rate-small">\n\t\t<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href={{=SETUPS.get(\'coreci.url.assets\')+"/icons/svg/offer-rate-small.svg#nm-icon-offer-rate-small"}}></use>\n\t</svg>\n\t<p class="audi-copy-s">\n\t\t{{=window.i18n[\'dynamic-recommendations.legend-info\']}}\n\t</p>\n</div>'},
/*!**************************************************!*\
  !*** ./js/configurator/engine-selection-list.js ***!
  \**************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=m(n(/*! babel-runtime/core-js/object/set-prototype-of */15)),i=m(n(/*! babel-runtime/core-js/reflect/construct */17)),o=m(n(/*! babel-runtime/helpers/toConsumableArray */45)),a=m(n(/*! babel-runtime/core-js/object/get-prototype-of */7)),s=m(n(/*! babel-runtime/helpers/classCallCheck */1)),l=m(n(/*! babel-runtime/helpers/createClass */2)),u=m(n(/*! babel-runtime/helpers/possibleConstructorReturn */8)),c=m(n(/*! babel-runtime/helpers/inherits */9)),d=n(/*! ./dpu/api */27),f=n(/*! ../application-bundle */3);function m(t){return t&&t.__esModule?t:{default:t}}function p(){return(0,i.default)(HTMLElement,[],this.__proto__.constructor)}(0,r.default)(p.prototype,HTMLElement.prototype),(0,r.default)(p,HTMLElement);var g=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,l.default)(e,[{key:"connectedCallback",value:function(){this.initElements(),this.addEvents()}},{key:"disconnectedCallback",value:function(){this.removeEvents()}},{key:"addEvents",value:function(){var t=this;f.signal.getEmitter().on(f.appEvents.MODELSINFO_LOAD_COMPLETE,function(){return t.initFilters()})}},{key:"removeEvents",value:function(){var t=this;f.signal.getEmitter().off(f.appEvents.MODELSINFO_LOAD_COMPLETE,function(){return t.initFilters()})}},{key:"initElements",value:function(){var t=this;this.engineEntries=this.querySelectorAll(e.selectors.engineEntry),this.selectFilters=this.querySelectorAll(e.selectors.selectFilter),this.radioFilters=this.querySelectorAll(e.selectors.radioFilter),this.visibleCounter=this.querySelector(e.selectors.enginesVisibleCount),this.noResultsBox=this.querySelector(e.selectors.noResults),this.querySelector(e.selectors.resetButton).addEventListener("click",function(){t.resetFilters()}),this.initFilters(),this.classList.contains(e.selectors.initialResetFilters)&&this.resetFilters()}},{key:"resetFilters",value:function(){[].concat((0,o.default)(this.selectFilters)).forEach(function(t){return t.value=""}),[].concat((0,o.default)(this.radioFilters)).forEach(function(t){return t.checked=!1}),this.updateFilters()}},{key:"initFilters",value:function(){var t=this;[].concat((0,o.default)(this.radioFilters)).forEach(function(e){e.addEventListener("change",function(){return t.updateRadioFilterSelection(e)})});var e=d.dpuApi.getSelectedTrimline()||"";[].concat((0,o.default)(this.selectFilters)).forEach(function(n){n.value=e,n.addEventListener("change",function(){return t.updateFilters()})}),this.updateFilters()}},{key:"updateRadioFilterSelection",value:function(t){var n=t.getAttribute("name");[].concat((0,o.default)(this.querySelectorAll(e.selectors.radioFilter+'[name="'+n+'"]'))).filter(function(e){return e!==t}).forEach(function(t){return t.checked=!1}),this.updateFilters()}},{key:"updateFilters",value:function(){var t=this.getRadioFiltersValues().concat(this.getSelectFiltersValues());this.updateTrimlineDetailLink(t),this.filterEngineList(t)}},{key:"updateTrimlineDetailLink",value:function(t){var n=t.filter(function(t){return"trimline"===t.name});if([].concat((0,o.default)(this.querySelectorAll(e.selectors.trimlineDetailLinks))).forEach(function(t){return t.classList.add(e.selectors.hidden)}),n.length>0){var r=this.querySelector(e.selectors.trimlineDetailLinks+'[data-trimline="'+n[0].value+'"]');r&&r.classList.remove(e.selectors.hidden)}}},{key:"getRadioFiltersValues",value:function(){var t=this;return[].concat((0,o.default)(this.radioFilters)).filter(function(t){return!0===t.checked}).map(function(e){return t.getFilter(e)})}},{key:"getSelectFiltersValues",value:function(){var t=this;return[].concat((0,o.default)(this.selectFilters)).filter(function(t){return""!==t.value}).map(function(e){return t.getFilter(e)})}},{key:"getFilter",value:function(t){return{name:t.getAttribute("name"),value:t.value}}},{key:"filterEngineList",value:function(t){var n=t.reduce(function(t,e){return t+"[data-filter-"+e.name+'="'+e.value+'"]'},e.selectors.engineEntry);[].concat((0,o.default)(this.engineEntries)).forEach(function(t){return t.classList.add(e.selectors.hidden)}),[].concat((0,o.default)(this.querySelectorAll(n))).forEach(function(t){return t.classList.remove(e.selectors.hidden)}),this.hideContainersIfEmpty(),this.updateVisibleEngineCounter()}},{key:"hideContainersIfEmpty",value:function(){[].concat((0,o.default)(this.querySelectorAll(e.selectors.engineSubList))).forEach(function(t){0===t.querySelectorAll(e.selectors.engineEntry+e.selectors.notHidden).length?t.classList.add(e.selectors.hidden):t.classList.remove(e.selectors.hidden)})}},{key:"updateVisibleEngineCounter",value:function(){var t=this.querySelectorAll(e.selectors.engineEntry+e.selectors.notHidden).length;this.visibleCounter.innerHTML=t,0!==t?this.noResultsBox.classList.add(e.selectors.hidden):this.noResultsBox.classList.remove(e.selectors.hidden)}}],[{key:"selectors",get:function(){return{radioFilter:".nm-module-engine-selection-filter-radio",selectFilter:".nm-module-engine-selection-filter-select",engineEntry:".nm-module-engine-selection-engine",engineSubList:".nm-module-engine-selection-engine-list",trimlineDetailLinks:".nm-module-engine-selection-trimline-layerlink-icon",enginesVisibleCount:".nm-j-enginesVisible",noResults:".nm-module-engine-selection-no-results",resetButton:".nm-module-engine-selection-no-results-reset",initialResetFilters:".nm-j-configurator-unset-filters",notHidden:":not(.nm-hidden)",hidden:"nm-hidden"}}}]),e}(p);e.default=g,window.customElements.get("audi-configurator-engine-selection")||window.customElements.define("audi-configurator-engine-selection",g)},
/*!************************************************!*\
  !*** ./js/configurator/current-consumption.js ***!
  \************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(/*! babel-runtime/core-js/object/set-prototype-of */15)),i=c(n(/*! babel-runtime/core-js/reflect/construct */17)),o=c(n(/*! babel-runtime/core-js/object/get-prototype-of */7)),a=c(n(/*! babel-runtime/helpers/classCallCheck */1)),s=c(n(/*! babel-runtime/helpers/createClass */2)),l=c(n(/*! babel-runtime/helpers/possibleConstructorReturn */8)),u=c(n(/*! babel-runtime/helpers/inherits */9));function c(t){return t&&t.__esModule?t:{default:t}}function d(){return(0,i.default)(HTMLElement,[],this.__proto__.constructor)}(0,r.default)(d.prototype,HTMLElement.prototype),(0,r.default)(d,HTMLElement);var f=function(t){function e(){return(0,a.default)(this,e),(0,l.default)(this,(e.__proto__||(0,o.default)(e)).call(this))}return(0,u.default)(e,t),(0,s.default)(e,[{key:"connectedCallback",value:function(){document.body.classList.add("nm-has-current-consumption")}},{key:"disconnectedCallback",value:function(){document.body.classList.remove("nm-has-current-consumption")}}]),e}(d);e.default=f,window.customElements.get("audi-configurator-current-consumption")||window.customElements.define("audi-configurator-current-consumption",f)},
/*!*********************************************!*\
  !*** ./js/configurator/equipment-search.js ***!
  \*********************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.equipmentSearch=void 0;var r=n(/*! ../application-bundle */3),i=n(/*! core-utils */0),o=n(/*! ./dpu/api */27),a=n(/*! ./equipment-search-template */306),s=n(/*! ./equipment-search-results-template */307),l={},u={__:l,initialized:!1};l.oDefaults={sSelectorLayerOuter:".nm-layer-equipment-search-layer",sSelectorSnippetText:".nm-j-configurator-text-",sSelectorFooter:".nm-equipment-search-footer",sSelectorResultsWrap:".nm-equipment-search-result-container",sSelectorSearchInput:".nm-equipment-search-input",sSelectorSearchForm:".nm-equipment-search-form form"},l.searchListArr=[],l.getAllItems=function(){var t,e,n,r,i,a=o.dpuApi.getFamilies();if(l.searchListArr=[],a)for(t in a)if(t&&"equipment"===a[t].type&&(r={family:a[t]},e=o.dpuApi.getItemsByFamily(t))){for(n in r.items=[],e)n&&(i=o.dpuApi.getItem(n),r.items.push(i));l.searchListArr.push(r)}return l.searchListArr},l.handleConfigUpdate=function(){var t,e,n,r,i=l.getLayer();i&&(l.updateFooterText(i),(t=l.getAllItems())&&((e=l.getSearchString()).length>1?(n=l.validateSearchString(e),r=l.parseResults(n.search),l.populateResultList(r)):l.populateResultList(t)))},l.parseResults=function(t){var e,n=[];if(t)for(e in t)e&&t[e].value&&n.push(t[e].value);return n},l.populateResultList=function(t){var e,n=l.getResultsWrapContainer();t&&n&&(e=i.template.render(s.equipmentSearchResultsTemplate,t),n.innerHTML=e)},l.getLayer=function(){return!!document.querySelector(l.oDefaults.sSelectorLayerOuter)&&document.querySelector(l.oDefaults.sSelectorLayerOuter)},l.getResultsWrapContainer=function(){var t=document.querySelector(l.oDefaults.sSelectorResultsWrap);if(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}return!1},l.updateFooterText=function(t){var e,n,r,i=!1;if(t)if(o.dpuApi.isConfigurable()&&o.dpuApi.getConfiguration()){for(e in r=o.dpuApi.getConfiguration())r[e]&&("rate"===e&&(i=!0),(n=t.querySelector(l.oDefaults.sSelectorFooter+" "+l.oDefaults.sSelectorSnippetText+e))&&(n.textContent=r[e]));t.querySelector(l.oDefaults.sSelectorFooter+" > span").classList.remove("nm-hidden"),i?t.querySelector(".nm-equipment-search-rate").classList.remove("nm-hidden"):t.querySelector(".nm-equipment-search-rate").classList.add("nm-hidden")}else t.querySelector(l.oDefaults.sSelectorFooter+" > span").classList.add("nm-hidden")},l.getSearchString=function(){var t=document.querySelector(l.oDefaults.sSelectorSearchInput);return(t?t.value:"").replace(/^\s+/g,"").replace(/</g,"").replace(/>/g,"")},l.handleSearch=function(t){var e,n,r=l.getSearchString(),i={},o=document.querySelector(l.oDefaults.sSelectorSearchForm);if(o){if(n=(o.getAttribute("data-current")||"")!==r||"click"===t.type,t.preventDefault(),t.stopImmediatePropagation(),16===t.keyCode||13===t.keyCode)return;o.setAttribute("data-current",r),r.length>1&&n?(i=l.validateSearchString(r),e=l.parseResults(i.search),l.populateResultList(e)):0===r.length&&n&&l.resetSearch()}},l.validateSearchString=function(t){var e,n=t,r={};return n&&0!==n.length?(-1!==n.indexOf("|")&&(r.prstring=n),o.dpuApi.getSearchStopWords()&&(e=new RegExp("\\b(?:i|"+o.dpuApi.getSearchStopWords()+")\\b\\s*","gi"),n=n.replace(e,"")),r.search=(!!n&&n.length)>1?o.dpuApi.search(n,!0):[],r.searchString=n||l.getSearchString(),r):[]},l.resetSearch=function(){l.searchListArr&&l.searchListArr.length&&l.populateResultList(l.searchListArr)},l.generateLayerHtml=function(){return'<div class="nm-layer-wrapper nm-layer-wrapper-equipment-search-layer"><div class="nm-layer-equipment-search-layer nm-j-jslayer nm-layer"></div></div>'},l.positionFooter=function(){var t,e=document.querySelector(l.oDefaults.sSelectorFooter),n=document.querySelector(".nm-layer-wrapper-equipment-search-layer");e&&(t=n?n.scrollTop:0,e.style.top=document.documentElement.clientHeight+t-e.offsetHeight-15+"px")},l.handleLayerLoaded=function(){var t=i.template.render(a.equipmentSearchTemplate,null),e=document.querySelector(".nm-layer-wrapper-equipment-search-layer"),n=document.querySelector(l.oDefaults.sSelectorLayerOuter);n&&(n.innerHTML=t,l.legacyEventBus.on("keyup",".nm-equipment-search-input",l.handleSearch),l.legacyEventBus.on("paste",".nm-equipment-search-input",l.handleSearch),l.legacyEventBus.on("click",".nm-equipment-search-input",l.handleSearch),l.legacyEventBus.on("click",".nm-equipment-search-submit",l.handleSearch),l.legacyEventBus.on("click",".nm-equipment-search-reset",l.resetSearch),l.legacyEventBus.on("submit",".nm-equipment-search-form form",l.handleSearch),e&&(l.positionFooter(),e.addEventListener("scroll",l.positionFooter))),l.handleConfigUpdate()},l.addEvents=function(){r.clientLayer.register("equipmentSearchlayer",l.generateLayerHtml),l.eventBus.on(r.appEvents.LAYER_LOADED,l.handleLayerLoaded),l.eventBus.on(r.appEvents.CONFIG_UPDATE,l.handleConfigUpdate),u.initialized=!0},u.dispose=function(){var t=document.querySelector(".nm-layer-wrapper-equipment-search-layer");console.log("dispose esmd"),l.legacyEventBus.off("keyup",".nm-equipment-search-input",l.handleSearch),l.legacyEventBus.off("paste",".nm-equipment-search-input",l.handleSearch),l.legacyEventBus.off("click",".nm-equipment-search-input",l.handleSearch),l.legacyEventBus.off("click",".nm-equipment-search-submit",l.handleSearch),l.legacyEventBus.off("click",".nm-equipment-search-reset",l.resetSearch),l.legacyEventBus.off("submit",".nm-equipment-search-form form",l.handleSearch),l.eventBus.off(r.appEvents.LAYER_LOADED,l.handleLayerLoaded),l.eventBus.off(r.appEvents.CONFIG_UPDATE,l.handleConfigUpdate),t&&t.removeEventListener("scroll")},u.initialize=function(t){l.eventBus=t,l.legacyEventBus=jQuery("body"),l.addEvents()},e.equipmentSearch=u},
/*!******************************************************!*\
  !*** ./js/configurator/equipment-search-template.js ***!
  \******************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.equipmentSearchTemplate='\n<div class="nm-layer-toolbar">\n\t<div class="nm-button-close">\n\t\t<svg class="nm-icon-cancel">\n\t\t\t<use xlink:href={{=SETUPS.get(\'coreci.url.assets\')+"/icons/svg/sprite/sprite.svg#nm-icon-cancel"}}></use>\n\t\t</svg>\n\t</div>\n</div>\n<div class="nm-layer-inner nm-equipment-search-layer-wrapper">\n\t<div class="nm-md-equipment-search">\n\t\t<header class="nm-equipment-search-header">\n\t\t\t<h2 class="nm-el-hdl nm-el-hdl-02">{{=window.i18n[\'nemo.ui.equipment-search.headline\']}}</h2>\n\n\t\t\t<div class="nm-equipment-search-form">\n\t\t\t\t<form action="#search=" method="GET">\n\t\t\t\t\t<fieldset>\n\t\t\t\t\t\t<input name="q" class="nm-equipment-search-input" type="text" placeholder=\'{{=window.i18n["search-layer.equipment-search-input-placeholder"]}}\'/>\n\t\t\t\t\t\t<input type="reset" class="nm-equipment-search-reset" value="X" />\n\t\t\t\t\t</fieldset>\n\t\t\t\t</form>\n\t\t\t\t<div class="nm-equipment-search-result-container">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</header>\n\t\t<footer class="nm-equipment-search-footer">\n\t\t\t<span class="nm-el-hdl nm-el-hdl-04 nm-at-hdl-b"><span class="nm-j-configurator-text-carlineName"></span> <span class="nm-j-configurator-text-description nm-el-lbl nm-el-lbl-01"></span></span>\n\t\t\t<span class=""><span class="nm-j-configurator-text-price nm-el-hdl nm-el-hdl-04 nm-at-hdl-b"></span> <span class="nm-el-lbl nm-el-lbl-01 nm-equipment-search-rate">({{=window.i18n["nemo.ui.equipment-search.rate"]}} <span class="nm-j-configurator-text-rate"></span>)</span></span>\n\t\t</footer>\n\t\t<main class="nm-equipment-search-main">\n\t\t</main>\n\t</div>\n</div>'},
/*!**************************************************************!*\
  !*** ./js/configurator/equipment-search-results-template.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.equipmentSearchResultsTemplate='{{?it.length}}\n\t{{~ it :group }}\n\t\t{{? !!group.family}}\n\t\t\t{{? !!group.items}}\n\n\n\t\t\t/*hide groups where all elements have hidden status*/\n\t\t\t{{var $hideGroup = false;}}\n\t\t\t{{~ group.items :itemcheck }}\n\t\t\t\t{{? !!itemcheck.status && itemcheck.status == "00000"}}\n\t\t\t\t\t{{$hideGroup = true;}}\n\t\t\t\t{{?}}\n\t\t\t{{~}}\n\n\t\t\t{{? !$hideGroup}}\n\t\t\t<ul class="nm-equipment-search-result-group">\n\t\t\t\t<li>\n\t\t\t\t\t<div class="nm-el-hdl nm-el-hdl-04 nm-at-hdl-b">{{=group.family.name}}</div>\n\t\t\t\t\t<ul class="nm-equipment-search-result-list">\n\t\t\t\t\t{{~ group.items :item }}\n\t\t\t\t\t\t<li class="nm-j-configurator-item nm-j-configurator-status_{{=item.status}} clearfix"\n\t\t\t\t\t\tdata-configurator-id="{{=item.id}}">\n\t\t\t\t\t\t\t<div class="nm-equipment-search-result-item-wrap">\n\t\t\t\t\t\t\t\t<div class="nm-equipment-search-result-image">\n\t\t\t\t\t\t\t\t\t{{? !!item.image}}\n\t\t\t\t\t\t\t\t\t<img src="{{=item.image}}" alt="{{=item.name}}" class="nm-image" />\n\t\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class="nm-equipment-search-result-content-wrap">\n\t\t\t\t\t\t\t\t\t<div class="nm-equipment-search-result-desc">\n\t\t\t\t\t\t\t\t\t\t<p class="nm-j-configurator-name nm-el-lbl nm-el-lbl-01 nm-at-lbl-b">\n\t\t\t\t\t\t\t\t\t\t\t{{=item.name}}\n\t\t\t\t\t\t\t\t\t\t\t{{? !!item.nonrenderable && item.nonrenderable == true }}\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="nm-el-pg nm-el-pg-04"><br />{{=window.i18n[\'configuration.not-rendable-message\']}}</span>\n\t\t\t\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t{{? !!item.description}}\n\t\t\t\t\t\t\t\t\t\t<p class="nm-equipment-search-result-description nm-el-pg nm-el-pg-04">\n\t\t\t\t\t\t\t\t\t\t\t{{= item.description || \'\'}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="nm-equipment-search-result-icons">\n\t\t\t\t\t\t\t\t\t\t{{?!!item.url}}\n\t\t\t\t\t\t\t\t\t\t<a class="nm-info nm-layerLink" href="{{=item.url}}" title="{{=window.i18n[\'more-information\']}}"></a>\n\t\t\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t\t\t\t<span class="nm-conflict-icon" title="#I18N("nemo.ui.common.conflict" "Konflikt")"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="nm-equipment-search-result-price nm-el-lbl nm-el-lbl-01">\n\t\t\t\t\t\t\t\t\t\t{{? !!item.price}}\n\t\t\t\t\t\t\t\t\t\t<span class="nm-j-configurator-text-price">{{=item.price}}</span>\n\t\t\t\t\t\t\t\t\t\t{{?}}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="nm-equipment-search-result-add-btn">\n\t\t\t\t\t\t\t\t\t\t<a class="nm-el-btn nm-el-btn-02 nm-j-configurator-delegate-click" href="#">\n\t\t\t\t\t\t\t\t\t\t    <span class="nm-at-btn-state01">{{=window.i18n[\'search-layer.add-item\']}}</span>\n\t\t\t\t\t\t\t\t\t\t    <span class="nm-at-btn-state02">{{=window.i18n[\'search-layer.item-included\']}}</span>\n\t\t\t\t\t\t\t\t\t\t    <span class="nm-at-btn-state03">{{=window.i18n[\'search-layer.remove-item\']}}</span>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t{{~}}\n\t\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t{{?}}\n\t\t\t{{?}}\n\t\t{{?}}\n\t{{~}}\n{{?}}'},
/*!***************************************!*\
  !*** ./js/configurator/expertmode.js ***!
  \***************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.expertmode=void 0;var r=n(/*! ../application-bundle */3),i=n(/*! core-utils */0),o={},a={__:o};o.defaults={expertContainerSelector:".nm-mode-expert",selectorDelegateClick:"nm-toggle",toggleClass:"nm-toggle-open",optionsListHeadSelector:".nm-options-list-head, .nm-module-options-container-headline",optionsGroupListWrapperSelector:".nm-mode-expert-group-list-wrap",optionsGroupWrap:".nm-mode-expert-group-wrap",statusClassPrefix:"nm-j-configurator-status_",listClosedClass:"nm-closed",configurationItemSelector:'[class*="nm-j-configurator-status_"]',hiddenClass:"nm-hidden",counterWrapperSelector:".nm-module-options-container-selected-items",counterSelector:".nm-selected-items"},o.handleToggleClick=function(t){var e=i.dom.closest(t.target,"."+o.defaults.selectorDelegateClick),n=i.dom.closest(e,o.defaults.optionsGroupWrap),a=i.dom.getElementsArray(o.defaults.optionsGroupListWrapperSelector,n);e.classList.contains(o.defaults.toggleClass)?e.classList.remove(o.defaults.toggleClass):e.classList.add(o.defaults.toggleClass),a.forEach(o.toggleGroupList),o.eventBus.emit(r.appEvents.CONTENT_RESIZE)},o.toggleGroupList=function(t){t.classList.contains(o.defaults.listClosedClass)?t.classList.remove(o.defaults.listClosedClass):t.classList.add(o.defaults.listClosedClass)},o.getStatusCodeForItem=function(t){return t.className.indexOf(o.defaults.statusClassPrefix)<0?"":t.className.split(o.defaults.statusClassPrefix)[1].split(" ")[0]},o.isItemSelected=function(t){var e=o.getStatusCodeForItem(t);return/[0,1]{3}1[0,1]/.test(e)},o.isItemSelectedStandard=function(t){var e=o.getStatusCodeForItem(t);return/1001[0,1]/.test(e)},o.isItemSelectedAndNotStandard=function(t){var e=o.isItemSelected(t),n=o.isItemSelectedStandard(t);return e&&!n},o.getSelectedItemsCountFromList=function(t){return i.dom.getElementsArray(o.defaults.configurationItemSelector,t).reduce(function(t,e){return o.isItemSelectedAndNotStandard(e)?t+1:t},0)},o.updateListCounter=function(t){var e=i.dom.getElement(o.defaults.counterSelector,t);if(i.dom.isElement(e)){var n=i.dom.closest(t,o.defaults.optionsGroupWrap),r=i.dom.closest(e,o.defaults.counterWrapperSelector),a=o.getSelectedItemsCountFromList(n);e.textContent=a,o.setTitleForCounter(r,e,a),o.toggleCounterVisibility(r,a)}},o.toggleCounterVisibility=function(t,e){e>0?t.classList.remove(o.defaults.hiddenClass):t.classList.add(o.defaults.hiddenClass)},o.setTitleForCounter=function(t,e,n){var r="";n>0&&(r=n+" ",r+=1===n?e.getAttribute("data-text-selected-single"):e.getAttribute("data-text-selected-multi")),t.setAttribute("title",r)},o.updateLists=function(){var t=i.dom.getElementsArray(o.defaults.expertContainerSelector),e=i.dom.getElementsArray(o.defaults.optionsListHeadSelector);t.length<1||e.forEach(o.updateListCounter)},o.addEvents=function(){o.domEventDelegate.on("click",o.defaults.optionsListHeadSelector,o.handleToggleClick),o.eventBus.on(r.appEvents.DOM_UPDATED,o.updateLists),o.eventBus.on(r.appEvents.PAGE_LOADED,o.updateLists)},a.initialize=function(t){o.eventBus=t,o.domEventDelegate=i.dom.getEventDelegate("body"),o.addEvents(),o.updateLists()},e.expertmode=a},
/*!****************************************!*\
  !*** ./js/configurator/form/select.js ***!
  \****************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formSelect=void 0;var r=n(/*! ../../application-bundle */3),i={},o={__:i};i.instance=!1,i.oDefaults={sDropdownSelectionClass:"nm-at-select-default-val"},i.addEvents=function(){i.eventBus.on(r.appEvents.PAGE_LOADED,i.onPageLoaded),i.eventBus.on(r.appEvents.FORM_LOADED,i.onFormLoaded),i.handleSelectChanges()},i.onPageLoaded=function(){i.handleSelectChanges()},i.onFormLoaded=function(){i.handleSelectChanges()},i.handleSelectChanges=function(t){var e=jQuery("select");jQuery.each(e,function(){var t=jQuery(this);i.legacyEventBus.on("change.select",i.updateSelect),i.setSelectState(t)})},i.updateSelect=function(t){var e=jQuery(t.target);i.setSelectState(e)},i.setSelectState=function(t){var e,n,r,o=t.find("option:selected");jQuery.each(o,function(){n=jQuery(this),e=n.val(),r=void 0!==n.attr("data-is-default"),n.parent().toggleClass(i.oDefaults.sDropdownSelectionClass,e&&"*"===e||r)})},i.initialize=function(){i.addEvents(),i.handleSelectChanges()},o.initialize=function(t){i.eventBus=t,i.legacyEventBus=jQuery("body"),i.initialize()},e.formSelect=o},
/*!****************************************!*\
  !*** ./js/configurator/form/simple.js ***!
  \****************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formSimple=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! babel-runtime/helpers/toConsumableArray */45)),i=n(/*! ./core */222),o=n(/*! ../dpu/api */27),a=n(/*! ../../application-bundle */3),s=n(/*! core-utils */0);var l=".nm-j-simpleform",u={},c={__:u};u.scanSource=function(t){[].concat((0,r.default)(t.querySelectorAll(l))).forEach(function(t){return u.initForm(t)})},u.initForm=function(t){var e=t.getAttribute("id"),n=t.querySelector("form");n.addEventListener("submit",function(t){t.preventDefault(),u.onSubmit(e,n)})},u.onSubmit=function(t,e){var n=u.serializeForm(e);"audicode-input"===t&&(n.match(/audicode=([Aa]{1}[a-zA-Z0-9]{7})/i)&&(n="audicode="+n.match(/audicode=([Aa]{1}[a-zA-Z0-9]{7})/i)[1].toUpperCase()));u.call(t,{data:n})},u.serializeForm=function(t){var e=new FormData(t);return[].concat((0,r.default)(e)).reduce(function(t,e){return(t?t+"&":"")+e[0]+"="+e[1]},"")},u.getUrl=function(t){var e=[],n=o.dpuApi.getContext();n&&e.push("context="+n);var r=o.dpuApi.getSubsessionID();r&&e.push("subsession="+r);var i=o.dpuApi.getPrString();i&&e.push("ids="+encodeURIComponent(i));var a=SETUPS.get("nemo.url.form."+t);return(a+=-1===a.indexOf("?")?"?":"&")+e.join("&")},u.call=function(t,e){var n=document.getElementById(t);n.classList.add("nm-j-simpleform-loading"),n.classList.remove("nm-j-simpleform-error","nm-j-simpleform-success");var r=n.getAttribute("data-dpu-form-id")||t,i=u.getUrl(r),o=e.data;s.ajax.getJSON(i,o).then(function(e){u.handleSuccess(e,t,r)},function(e){u.handleFail(e,t,r)})},u.handleSuccess=function(t,e,n){var s=document.getElementById(e),l=i.formCore.responseToObj(t);if(!l||!l[n])return u.handleFail(l,e,n);2===Math.floor(l[n].statuscode/100)?([].concat((0,r.default)(s.querySelectorAll(".nm-error"))).forEach(function(t){return t.innerHTML=""}),l[n].message&&[].concat((0,r.default)(s.querySelectorAll(".nm-success"))).forEach(function(t){return t.innerHTML=l[n].message}),s.classList.remove("nm-j-simpleform-error"),s.classList.add("nm-j-simpleform-success"),u.eventBus.trigger(a.appEvents.FORM_FINISHED,{id:e,response:l}),s.setAttribute("data-form-is-finished","1"),"audicode-input"===e&&(a.router.open("page",o.dpuApi.getCurrentCarlineUrl()),document.querySelector(".nm-button-close.nm-ajaxLayerClose").click())):(u.handleFail(l,e,n),u.eventBus.emit(a.appEvents.FORM_ERROR,{id:e,response:l})),s.classList.remove("nm-j-simpleform-loading")},u.handleFail=function(t,e,n){var i=document.getElementById(e),o=u.isDefaultErrorWithDpuMessage(t,e,n)?t[n].message:u.getFormErrorMessage(t);[].concat((0,r.default)(i.querySelectorAll(".nm-error"))).forEach(function(t){return t.innerHTML=o}),i.classList.add("nm-j-simpleform-error"),i.classList.remove("nm-j-simpleform-success","nm-j-simpleform-loading"),console.error("form/simple.handleFail",o)},u.isDefaultErrorWithDpuMessage=function(t,e,n){return!!(t&&t.header.error&&"DEFAULT"===t.header.error.id&&n&&t[n]&&t[n].message)},u.getFormErrorMessage=function(t){return t.login&&!t.login.success?o.dpuApi.getErrorMessage("LOGIN_FAILED"):o.dpuApi.getErrorMessage(t.header.error)},u.addEvents=function(){u.eventBus.on(a.appEvents.LAYER_LOADED,function(t){t&&t.element&&u.scanSource(t.element)}),u.scanSource(document)},c.initialize=function(t){u.eventBus=t,u.addEvents()},e.formSimple=c},
/*!*************************************************!*\
  !*** ./js/configurator/hidden-version-items.js ***!
  \*************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hiddenVersionItems=void 0;var r=n(/*! ../application-bundle */3),i=n(/*! ./dpu/api */27),o=n(/*! core-utils */0),a={},s={__:a};a.addEvents=function(){a.eventBus.on(r.appEvents.VERSION_LOAD_COMPLETE,a.setHiddenItemsFromVersionResponse),a.eventBus.on(r.appEvents.PAGE_LOADED,a.setHiddenItemsFromVersionResponse),a.eventBus.on(r.appEvents.LAYER_LOADED,a.setHiddenItemsFromVersionResponse)},a.setHiddenItemsFromVersionResponse=function(t){var e,n,r=t&&t.domElement?t.domElement:document,a=o.dom.getElementsArray(".nm-j-configurator-item",r),s=i.dpuApi.getHiddenItemIDsFromVersion();if(s&&null!==s)for(e=0;e<s.length;e++)for(n=0;n<a.length;n++)s[e]===a[n].getAttribute("data-configurator-id")&&a[n].setAttribute("data-visibility","hidden")},s.initialize=function(t){a.eventBus=t,a.addEvents()},e.hiddenVersionItems=s},
/*!************************************!*\
  !*** ./js/configurator/infobox.js ***!
  \************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.infobox=void 0;var r=n(/*! core-utils */0),i={},o={__:i};i.oDefaults={sSelectorDelegateClick:".nm-infobox",sSelectorInfoboxContainer:".nm-infobox-container",sToggleClass:"nm-infobox-show"},i.clickedElement=null,i.handleOutsideClick=function(t){var e=r.dom.getElement(i.oDefaults.sSelectorInfoboxContainer,i.clickedElement);e.classList.contains(i.oDefaults.sToggleClass)&&r.dom.isElementOutsideOfElementWithSelector(t.target,i.oDefaults.sSelectorDelegateClick)&&(i.domEventDelegate.off("click",i.handleOutsideClick),i.closeInfoBox(e),i.clickedElement=null)},i.handleToggleClick=function(){var t=r.dom.getElement(i.oDefaults.sSelectorInfoboxContainer,this);i.clickedElement=this,t.classList.contains(i.oDefaults.sToggleClass)?i.closeInfoBox(t):(t.classList.add(i.oDefaults.sToggleClass),i.registerOutsideClickEvent())},i.registerOutsideClickEvent=function(){i.domEventDelegate.on("click","*",i.handleOutsideClick)},i.closeInfoBox=function(t){t.classList.remove(i.oDefaults.sToggleClass)},i.addEvents=function(){i.domEventDelegate.on("click",i.oDefaults.sSelectorDelegateClick,i.handleToggleClick)},i.initialize=function(){i.init||i.addEvents(),i.init=!0},o.initialize=function(t){i.eventBus=t,i.domEventDelegate=r.dom.getEventDelegate("body"),i.initialize()},e.infobox=o},
/*!************************************************!*\
  !*** ./js/configurator/inlinerendering-aoz.js ***!
  \************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlinerenderingAoz=void 0;var r=n(/*! ../application-bundle */3),i=n(/*! core-utils */0),o=n(/*! ./dpu/api */27),a={},s={__:a};a.oDefaults={sAttributeInitialCaption:"data-initialcaption",sAttributePrNumber:"data-partprnumber",sClassAozActive:"nm-aoz-active",sClassAozButton:"nm-aoz-btn",sClassAozDescription:"nm-aoz-description",sClassAozHintText:"nm-aoz-hinttext",sClassAozInvisible:"nm-aoz-invisible",sClassAozItem:"nm-aoz-item",sClassAozModule:"nm-md-aoz",sClassAozPrice:"nm-aoz-price",sSelectorAozButton:".nm-aoz-btn a",sSelectorAozItem:".nm-aoz-item",selectorModul:".nm-md-aoz",selectorStripe:".nm-aoz-stripe",classShowPrevArrow:"nm-j-aoz-show-prev-arrow",classShowNextArrow:"nm-j-aoz-show-next-arrow",classPrevButton:"nm-aoz-stripe-prev",selectorArrowButton:".nm-aoz-stripe-navigation-item",selectorPrevButton:".nm-aoz-stripe-prev",selectorNextButton:".nm-aoz-stripe-next",selectorStripeContainer:".nm-aoz-stripe-container",selectorStripeWrap:".nm-aoz-stripe-wrap",selectorStripeList:".nm-aoz-stripe > ul",selectorStripeItem:".nm-aoz-item"},a.scrollDuration=500,a.addEvents=function(){a.eventBus.on(r.appEvents.PAGE_LOADED,a.handleSelectionUpdated),a.eventBus.on(r.appEvents.CONFIG_UPDATE,a.handleSelectionUpdated),a.domEventDelegate.on("scroll",a.oDefaults.selectorStripe,a.stripeScrollHandler),a.domEventDelegate.on("click",a.oDefaults.sSelectorAozItem,a.toggleItem),a.domEventDelegate.on("click",a.oDefaults.sSelectorAozButton,a.toggleConfigItem),a.domEventDelegate.on("click",a.oDefaults.selectorPrevButton,a.handlePrevNextClick),a.domEventDelegate.on("click",a.oDefaults.selectorNextButton,a.handlePrevNextClick),window.addEventListener("resize",a.resizeModule)},a.resizeModule=function(){var t,e;i.dom.getElementsArray(a.oDefaults.selectorModul).forEach(function(n){i.dom.getElement(a.oDefaults.selectorStripeContainer,n),(t=i.dom.getElement(a.oDefaults.selectorStripe,n))&&(e=i.dom.closest(t,a.oDefaults.selectorStripeWrap),a.hideNavigationArrows(e))})},a.handlePrevNextClick=function(t){var e="next",n=i.dom.closest(t.target,a.oDefaults.selectorArrowButton);n&&(n.classList.contains(a.oDefaults.classPrevButton)&&(e="prev"),a.translateStripe(n,e))},a.translateStripe=function(t,e){var n,r,o=i.dom.getElement(a.oDefaults.selectorStripeContainer,a.getCurrentModule(t)),s=i.dom.closest(t,a.oDefaults.selectorStripeWrap),l=i.dom.getElement(a.oDefaults.selectorStripe,s),u=i.dom.getElement(a.oDefaults.selectorStripeList,s);u.clientWidth>o.clientWidth&&(s.classList.remove(a.oDefaults.classShowPrevArrow),s.classList.remove(a.oDefaults.classShowNextArrow),n=a.calculateNewScrollPosition(o,l.scrollLeft,e,u.clientWidth),r=a.calculateScrollDuration(o,l.scrollLeft,n),i.dom.animateElementX(n,l,r).then(function(){a.hideNavigationArrows(s)}))},a.getCurrentModule=function(t){return t?i.dom.closest(t,a.oDefaults.selectorModul):null},a.calculateScrollDuration=function(t,e,n){return a.scrollDuration*(Math.abs(e-n)/t.clientWidth)},a.calculateNewScrollPosition=function(t,e,n,r){var i=t.clientWidth;return"next"===n?Math.min(e+i,r-i):Math.max(0,e-i)},a.hideNavigationArrows=function(t){var e=t,n=i.dom.getElement(a.oDefaults.selectorStripe,e),r=i.dom.getElementsArray(a.oDefaults.selectorStripeItem,e),o=i.dom.getElement(a.oDefaults.selectorStripeList,e);0!==r.length&&(n.scrollLeft>10?e.classList.add(a.oDefaults.classShowPrevArrow):e.classList.remove(a.oDefaults.classShowPrevArrow),e.clientWidth+n.scrollLeft<o.clientWidth-10?e.classList.add(a.oDefaults.classShowNextArrow):e.classList.remove(a.oDefaults.classShowNextArrow))},a.stripeScrollHandler=function(t){var e=t.target,n=i.dom.closest(e,a.oDefaults.selectorStripeWrap);n&&a.hideNavigationArrows(n)},a.toggleItem=function(t){var e=a.getClosestElementWithClass(t.target,a.oDefaults.sClassAozModule),n=a.getClosestElementWithClass(t.target,a.oDefaults.sClassAozItem);t.preventDefault(),t.stopPropagation(),e&&n&&(n.classList.contains(a.oDefaults.sClassAozActive)?a.unsetSelection(e):a.setNewSelection(e,n)),a.handleSelectionUpdated()},a.toggleConfigItem=function(t){var e=a.getClosestElementWithClass(t.target,a.oDefaults.sClassAozModule),n=e.getElementsByClassName(a.oDefaults.sClassAozActive)[0];n.getAttribute(a.oDefaults.sAttributePrNumber).split(" ").join("_");t.preventDefault(),a.updateButtonWrapperClass(e,n)},a.retrievePrNumbersToFilter=function(t){var e,n,r=t.getElementsByClassName(a.oDefaults.sClassAozItem),i=[];for(e=0,n=r.length;e<n;e++)i.push(r[e].getAttribute("data-configurator-id"));return i},a.updateRenderImage=function(t,e){var n,r,i,s,l,u=[],c=[],d=t.getElementsByClassName("nm-j-configurator-renderimage"),f=a.retrievePrNumbersToFilter(t);for(n=0,r=d.length;n<r;n++)c.push(d[n].getAttribute("data-renderimage-type")),i=d[n].getAttribute("data-renderimage-view"),u.indexOf(i)<=-1&&u.push(i);o.dpuApi.sendRenderServiceRequest(f,e,u.join(","),c.join(",")).then(function(t){for(n=0,r=d.length;n<r;n++)s=d[n].getAttribute("data-renderimage-type"),i=d[n].getAttribute("data-renderimage-view"),l=t["render-results"][e][i][s],d[n].setAttribute("style","background-image: url("+l+")")})},a.resetRenderImage=function(t){var e,n,r,i=t.getElementsByClassName("nm-j-configurator-renderimage");for(e=0,n=i.length;e<n;e++)r=i[e].getAttribute("data-url"),i[e].setAttribute("style","background-image: url("+r+")")},a.getClassBySubstring=function(t,e){var n,r,i=!1;for(n=0,r=t.classList.length;n<r;n++)if(t.classList[n].indexOf(e)>-1){i=t.classList[n];break}return i},a.updateButtonWrapperClass=function(t,e){var n=t.getElementsByClassName(a.oDefaults.sClassAozButton)[0],r=a.getClassBySubstring(e,"nm-j-configurator-status_"),i=a.getClassBySubstring(n,"nm-j-configurator-status_");i&&n.classList.remove(i),r&&n.classList.add(r),a.updateButtonTrackingAttributes(t,e)},a.updateButtonTrackingAttributes=function(t,e){var n=t.getElementsByClassName("nm-el-btn")[0],r=e.getAttribute("data-name"),i=e.getAttribute("data-familygroup"),o=e.getAttribute("data-family");r=""!==o?o+":"+r:r,r=(r=""!==i?i+":"+r:r).replace(/"/g,'\\"'),n.parentNode.setAttribute("data-configurator-id",e.getAttribute("data-configurator-id"))},a.updateDescription=function(t,e){var n=t.getElementsByClassName(a.oDefaults.sClassAozDescription)[0];n.innerHTML=!1===e?n.getAttribute(a.oDefaults.sAttributeInitialCaption):e},a.updatePrice=function(t,e){t.getElementsByClassName(a.oDefaults.sClassAozPrice)[0].innerHTML=e},a.updateHintText=function(t,e){t.getElementsByClassName(a.oDefaults.sClassAozHintText)[0].innerHTML=e},a.unsetSelection=function(t){a.removeClassFromElementsWithClassWithinDomFragment(t,a.oDefaults.sClassAozItem,a.oDefaults.sClassAozActive),a.updateDescription(t,!1),a.updatePrice(t,"&nbsp;"),a.updateHintText(t,"&nbsp;"),a.addClassToElementsWithClassWithinDomFragment(t,a.oDefaults.sClassAozButton,a.oDefaults.sClassAozInvisible),a.resetRenderImage(t)},a.setNewSelection=function(t,e){a.updateDescription(t,e.getAttribute("data-name")),a.updatePrice(t,e.getAttribute("data-price")),a.updateHintText(t,e.getAttribute("data-hinttext")),a.removeClassFromElementsWithClassWithinDomFragment(t,a.oDefaults.sClassAozItem,a.oDefaults.sClassAozActive),e.classList.add(a.oDefaults.sClassAozActive),a.removeClassFromElementsWithClassWithinDomFragment(t,a.oDefaults.sClassAozButton,a.oDefaults.sClassAozInvisible),a.updateButtonWrapperClass(t,e)},a.getClosestElementWithClass=function(t,e){for(var n=t;n.classList&&!n.classList.contains(e);){if(!n.parentNode)return!1;n=n.parentNode}return!!n.parentNode&&n},a.removeClassFromElementsWithClassWithinDomFragment=function(t,e,n){var r,i,o=t.getElementsByClassName(e);for(r=0,i=o.length;r<i;r++)o[r].classList.remove(n)},a.addClassToElementsWithClassWithinDomFragment=function(t,e,n){var r,i,o=t.getElementsByClassName(e);for(r=0,i=o.length;r<i;r++)o[r].classList.add(n)},a.updateStatusClass=function(t,e){var n=a.getClassBySubstring(t,"nm-j-configurator-status_");t.classList.remove(n),t.classList.add("nm-j-configurator-status_"+e)},a.handleSelectionUpdated=function(){var t,e,n,r,i,s=document.body.getElementsByClassName(a.oDefaults.sClassAozItem);for(t=0,e=s.length;t<e;t++)r=s[t].getAttribute(a.oDefaults.sAttributePrNumber).split(" ").join("_"),(n=o.dpuApi.getItem(r)).status&&a.updateStatusClass(s[t],n.status),s[t].classList.contains(a.oDefaults.sClassAozActive)&&(i=a.getClosestElementWithClass(s[t],a.oDefaults.sClassAozModule),a.updateRenderImage(i,r))},s.initialize=function(t){a.eventBus=t,a.domEventDelegate=i.dom.getEventDelegate("body"),a.addEvents(),a.handleSelectionUpdated()},e.inlinerenderingAoz=s},
/*!********************************************!*\
  !*** ./js/configurator/inlinerendering.js ***!
  \********************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlinerendering=void 0;var r=n(/*! ../application-bundle */3),i=n(/*! ./ave/api */192),o={},a={__:o};o.oDefaults={sIdCanvas:"nm-ave-canvas",sClassActive:"nm-active",sClassLoading:"nm-3d-loading",sClassUnLoading:"nm-3d-unloading",sClassAVECandidate:"nm-ave-candidate",sClassModeAuto:"nm-md-in-mode-automatic",sClassLandscapeWrapper:"nm-md-in-landscape-wrapper",sClassPortraitWrapper:"nm-md-in-portrait-wrapper",sSelectorInlineRenderingModule:".nm-md-inline-rendering",sSelectorAVEContainer:".nm-md-ave-container",sSelectorAVEContainerActive:".nm-md-ave-container.nm-active",sSelectorInlineRendering:".nm-j-configurator-renderimage",sSelectorInlineRenderingButton360:".nm-md-inline-rendering .nm-icon-360-view",sSelectorInlineRenderingButton2d:".nm-md-inline-rendering .nm-icon-2d-view",sSelectorButton360:".nm-icon-360-view",sSelectorButton2d:".nm-icon-2d-view",sSelectorAVECandidate:".nm-ave-candidate",sSelectorLandscapeWrapper:".nm-md-in-landscape-wrapper",sSelectorPortraitWrapper:".nm-md-in-portrait-wrapper",sSelectorLoading:".nm-3d-loading"},o.addEvents=function(){o.eventBus.on(r.appEvents.AVE_AVAILABLE,o.handlerEnable360),o.eventBus.on(r.appEvents.PAGE_LOADED,o.handlerPageLoaded),o.eventBus.on(r.appEvents.AVE_STREAM_READY,o.aveStreamReadyHandler),o.eventBus.on(r.appEvents.PAGE_OPEN,o.handlerPageOpen)},o.handlerPageLoaded=function(t){var e;!0===i.aveApi.isAveAvailable()&&((e=jQuery(t.domElement)).find(o.oDefaults.sSelectorInlineRenderingButton360).is(":visible")||(e.find(o.oDefaults.sSelectorInlineRenderingButton360).show(),e.find(o.oDefaults.sSelectorInlineRenderingButton360).off("click",o.handlerActivate3d),e.find(o.oDefaults.sSelectorInlineRenderingButton2d).off("click",o.handlerActivate2d),e.find(o.oDefaults.sSelectorInlineRenderingButton360).on("click",o.handlerActivate3d),e.find(o.oDefaults.sSelectorInlineRenderingButton2d).on("click",o.handlerActivate2d)))},o.handlerEnable360=function(){!0===i.aveApi.isAveAvailable()&&(jQuery(o.oDefaults.sSelectorInlineRenderingButton360).is(":visible")||(jQuery(o.oDefaults.sSelectorInlineRenderingButton360).show(),jQuery(o.oDefaults.sSelectorInlineRenderingButton360).off("click",o.handlerActivate3d),jQuery(o.oDefaults.sSelectorInlineRenderingButton2d).off("click",o.handlerActivate2d),jQuery(o.oDefaults.sSelectorInlineRenderingButton360).on("click",o.handlerActivate3d),jQuery(o.oDefaults.sSelectorInlineRenderingButton2d).on("click",o.handlerActivate2d)))},o.handlerPageOpen=function(){var t=jQuery(o.oDefaults.sSelectorAVEContainerActive);t.length>0&&(o.setContainerTo2d(t),i.aveApi.deactivate(t.attr("id")))},o.handlerActivate3d=function(t){var e=jQuery(t.currentTarget),n=jQuery(o.oDefaults.sSelectorAVEContainerActive),r=e.parent().parent();t.preventDefault(),o.activate3dForContainer(r,n),o.enableResizeHandler()},o.activate3dForContainer=function(t,e){var n=t.find(o.oDefaults.sSelectorInlineRendering),r=t.children(o.oDefaults.sSelectorAVEContainer).attr("id"),a=n.attr("data-renderimage-view");o.setContainerTo2d(e),o.setContainerTo3d(t,e),e.length>0?(i.aveApi.moveAVE(e.attr("id"),r,a),o.removeLoadingImg(jQuery(o.oDefaults.sSelectorAVECandidate))):i.aveApi.activateAVE(r,a)},o.setContainerTo3d=function(t){var e=t.find(o.oDefaults.sSelectorInlineRendering),n=t.children(o.oDefaults.sSelectorAVEContainer);t.find(o.oDefaults.sSelectorButton360).hide(),t.find(o.oDefaults.sSelectorButton2d).show(),e.addClass(o.oDefaults.sClassLoading),e.addClass(o.oDefaults.sClassAVECandidate),n.addClass(o.oDefaults.sClassActive)},o.handlerActivate2d=function(t){var e=jQuery(o.oDefaults.sSelectorAVEContainerActive);t.preventDefault(),o.setContainerTo2d(e),i.aveApi.deactivate(e.attr("id"))},o.setContainerTo2d=function(t){t.length>0&&(t.parent().find(o.oDefaults.sSelectorButton2d).hide(),t.parent().find(o.oDefaults.sSelectorButton360).show(),setTimeout(function(){t.next().removeClass(o.oDefaults.sClassUnLoading)},1e3),t.parent().find(o.oDefaults.sSelectorInlineRendering).removeClass(o.oDefaults.sClassLoading),t.parent().find(o.oDefaults.sSelectorInlineRendering).removeClass(o.oDefaults.sClassAVECandidate),t.removeClass(o.oDefaults.sClassActive))},o.removeLoadingImg=function(t){console.log("removeLoadingImg"),t.addClass(o.oDefaults.sClassUnLoading),t.removeClass(o.oDefaults.sClassLoading)},o.triggerSwipeTracker=function(t){t.target.closest(".nm-ave-animation-selector-wrapper")},o.aveStreamReadyHandler=function(){var t=jQuery(o.oDefaults.sSelectorAVEContainerActive);o.removeLoadingImg(jQuery(o.oDefaults.sSelectorLoading)),t.length>0&&(t.off("mousedown",o.triggerSwipeTracker),t.off("touchstart",o.triggerSwipeTracker),t.on("mousedown",o.triggerSwipeTracker),t.on("touchstart",o.triggerSwipeTracker))},o.enableResizeHandler=function(){jQuery(window).off("resize",o.handlerResize),jQuery(window).on("resize",o.handlerResize)},o.handlerResize=function(){var t,e=jQuery(o.oDefaults.sSelectorAVEContainerActive),n=e.parent().hasClass(o.oDefaults.sClassLandscapeWrapper),r=e.parent().hasClass(o.oDefaults.sClassPortraitWrapper);jQuery(window).width()<jQuery(window).height()&&n?t=e.closest(o.oDefaults.sSelectorInlineRenderingModule).find(o.oDefaults.sSelectorPortraitWrapper):jQuery(window).width()>=jQuery(window).height()&&r&&(t=e.closest(o.oDefaults.sSelectorInlineRenderingModule).find(o.oDefaults.sSelectorLandscapeWrapper)),t&&o.activate3dForContainer(t,e)},a.initialize=function(t){o.eventBus=t,o.addEvents()},e.inlinerendering=a},
/*!***************************************************!*\
  !*** ./js/configurator/dpu/last-configuration.js ***!
  \***************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lastConfiguration=void 0;var r=l(n(/*! babel-runtime/core-js/promise */11)),i=l(n(/*! babel-runtime/core-js/object/keys */49)),o=l(n(/*! babel-runtime/core-js/json/stringify */70)),a=n(/*! ./api */27),s=n(/*! ../../application-bundle */3);function l(t){return t&&t.__esModule?t:{default:t}}var u={},c={__:u};u.globalEventBus=null,u.EXPIRED_THRESHOLD=72,window.audi=window.audi||{},window.audi.api=window.audi.api||{},u.isExpired=function(t){return(new Date).getTime()/216e3-t>=u.EXPIRED_THRESHOLD},u.addEvents=function(){u.globalEventBus.on(s.appEvents.CONFIG_UPDATE,u.handleConfigurationUpdate)},u.getLastConfiguration=function(){var t=u.getStoredConfiguration();return!(!t||!t.lastChanged)&&(!u.isExpired(t.lastChanged)&&t)},window.audi.api.lastConfiguration=u.getLastConfiguration,u.handleConfigurationUpdate=function(){var t=u.getConfigurationObject();u.hasSorage()&&t&&u.writeEntry(t)},u.hasSorage=function(){return!!u.getStorage()},u.getStorage=function(){return window.localStorage||null},u.writeEntry=function(t){var e;try{e=(0,o.default)(t),u.getStorage().setItem("lastConfiguration",e)}catch(t){console.warn(t)}},u.getConfigurationObject=function(){var t,e=a.dpuApi.getConfiguration(),n={assets:{},assetsMobile:{}},r=a.dpuApi.getConfigurationAssets();return t=a.dpuApi.getRenderUrl(),e&&!a.dpuApi.getConflicts()&&r&&0!==(0,i.default)(r).length?(n.assets.exterior_front=r.exterior_front&&r.exterior_front["stage.hd"]?t+r.exterior_front["stage.hd"]:"",n.assets.closeup_lights=r.closeup_lights&&r.closeup_lights["stage.hd"]?t+r.closeup_lights["stage.hd"]:"",n.assets.exterior=r.exterior&&r.exterior["stage.hd"]?t+r.exterior["stage.hd"]:"",n.assetsMobile.exterior_front=r.exterior_front&&r.exterior_front["stage.hdx"]?t+r.exterior_front["stage.hdx"]:"",n.assetsMobile.closeup_lights=r.closeup_lights&&r.closeup_lights["stage.hdx"]?t+r.closeup_lights["stage.hdx"]:"",n.assetsMobile.exterior=r.exterior&&r.exterior["stage.hdx"]?t+r.exterior["stage.hdx"]:"",n.price=e.price,n.carline=e.carline,n.carlineName=e.carlineName,n.eec=e.eec,n.lastChanged=(new Date).getTime(),n["mv-version"]=a.dpuApi.getMarketVersion(),n.context=a.dpuApi.getContext(),n.url=u.getEntryUrl(e.prstring),n):null},u.getStoredConfiguration=function(){var t=u.getStorage();if(!t||!t.lastConfiguration)return null;try{return JSON.parse(t.lastConfiguration)}catch(t){return console.warn(t),null}},u.getEntryUrl=function(t){var e;return e=window.location.href.split("#")[0],e+=e.indexOf("?")>0?"&":"?",e+="pr="+t},c.initialize=function(t){var e;return new r.default(function(n){u.globalEventBus=t,u.addEvents(),(e=parseInt(SETUPS.get("nemo.last_config.expires"),10))>0&&(u.EXPIRED_THRESHOLD=e),n("configurator/last-configuration.js")})},e.lastConfiguration=c},
/*!**************************************************!*\
  !*** ./js/configurator/dpu/loading-indicator.js ***!
  \**************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loadingIndicator=void 0;var r=n(/*! ../../application-bundle */3),i={},o={__:i};i.oDefaults={sSelectorItemLoading:".nm-j-configurator-item-loading",sItemLoadingClass:"nm-j-configurator-item-loading"},i.showLoadingIndicator=function(t){var e=t.$element;e&&e.length&&e.addClass(i.oDefaults.sItemLoadingClass)},i.hideLoadingIndicator=function(){jQuery(i.oDefaults.sSelectorItemLoading).removeClass(i.oDefaults.sItemLoadingClass)},i.addEvents=function(){i.eventBus.on(r.appEvents.CONFIG_CHANGEREQUEST_START,i.showLoadingIndicator),i.eventBus.on(r.appEvents.CONFIG_CHANGEREQUEST_END,i.hideLoadingIndicator)},o.initialize=function(t){i.eventBus=t,i.addEvents()},e.loadingIndicator=o},
/*!**************************************!*\
  !*** ./js/configurator/offerrate.js ***!
  \**************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(/*! babel-runtime/core-js/object/set-prototype-of */15)),i=d(n(/*! babel-runtime/core-js/reflect/construct */17)),o=d(n(/*! babel-runtime/core-js/object/get-prototype-of */7)),a=d(n(/*! babel-runtime/helpers/classCallCheck */1)),s=d(n(/*! babel-runtime/helpers/possibleConstructorReturn */8)),l=d(n(/*! babel-runtime/helpers/createClass */2)),u=d(n(/*! babel-runtime/helpers/inherits */9)),c=n(/*! core-utils */0);function d(t){return t&&t.__esModule?t:{default:t}}function f(){return(0,i.default)(HTMLElement,[],this.__proto__.constructor)}(0,r.default)(f.prototype,HTMLElement.prototype),(0,r.default)(f,HTMLElement);var m=function(t){function e(){return(0,a.default)(this,e),(0,s.default)(this,(e.__proto__||(0,o.default)(e)).call(this))}return(0,u.default)(e,t),(0,l.default)(e,null,[{key:"observedAttributes",get:function(){return["data-rate"]}},{key:"selectors",get:function(){return{circle:".nm-offer-rate-path",text:".nm-offer-rate-value"}}},{key:"options",get:function(){return{circle:{duration:2e3,property:"strokeDashoffset",easing:"easeInOutSine"},text:{duration:2e3,property:"innerHTML",easing:"noEasingInt"},observer:{threshold:1}}}}]),(0,l.default)(e,[{key:"connectedCallback",value:function(){this.initElements(),this.setInitialValues(),this.isIntersectionOberserverAvailable()?this.setupIntersectionObserver():this.startAnimations()}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"data-rate":this.updateRate(e,n)}}},{key:"updateRate",value:function(t,e){null!==t&&t!==e&&(this.initRate(),this.startAnimations())}},{key:"isIntersectionOberserverAvailable",value:function(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype}},{key:"setupIntersectionObserver",value:function(){var t=this;new IntersectionObserver(function(n){n.filter(function(t){return t.intersectionRatio>=e.options.observer.threshold}).forEach(function(){return t.startAnimations()})},e.options.observer).observe(this)}},{key:"initElements",value:function(){this.circle=this.querySelector(e.selectors.circle),this.text=this.querySelector(e.selectors.text),this.pathLength=this.circle.getTotalLength(),this.initRate()}},{key:"initRate",value:function(){this.rate=parseInt(this.getAttribute("data-rate"),10),this.rate=this.rate>100?100:this.rate}},{key:"setInitialValues",value:function(){this.circle.style.strokeDasharray=this.pathLength,this.circle.style.strokeDashoffset=this.pathLength}},{key:"startAnimations",value:function(){var t=this.pathLength*(1-this.rate/100);c.animate.animateElementStyleProperty(t,this.circle,e.options.circle),this.text&&c.animate.animateElementProperty(this.rate,this.text,e.options.text)}}]),e}(f);e.default=m,window.customElements.get("audi-configurator-offerrate")||window.customElements.define("audi-configurator-offerrate",m)},
/*!**************************************************************!*\
  !*** ./js/configurator/pattern-matching/pattern-audicode.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.patternAudicode=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! babel-runtime/core-js/promise */11)),i=n(/*! ../../global-bundle */44),o=n(/*! ../audicode */215);var a={},s={__:a};a.oDefaults={},a.pendingPromise=null,a.resolved=!1,a.eventBus=null,a.register=function(){i.patternMatching.register("audicode",a.getAudiCode),i.patternMatching.register("conf_audicode",a.getAudiCode)},a.getAudiCode=function(){return!a.resolved&&a.pendingPromise?a.pendingPromise:(a.pendingPromise=a.fetchAudiCode().catch(function(t){return a.resolved=!0,a.pendingPromise=null,t}).then(function(t){return a.resolved=!0,a.pendingPromise=null,t}),a.pendingPromise)},a.fetchAudiCode=function(){return new r.default(function(t,e){o.audicode.loadAudiCode().then(function(e){t(e)},function(t){e(t),console.error(t)})})},s.initialize=function(){a.register()},e.patternAudicode=s},
/*!***************************************************************!*\
  !*** ./js/configurator/pattern-matching/pattern-carlineId.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.patternCarlineId=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! babel-runtime/core-js/promise */11)),i=n(/*! ../../global-bundle */44),o=n(/*! ../dpu/api */27);var a={},s={__:a};a.oDefaults={},a.register=function(){i.patternMatching.register("carlineID",a.getCarlineId)},a.getCarlineId=function(){var t;return new r.default(function(e,n){(t=o.dpuApi.getCarline())?e(t):n(new TypeError("load pattern -carlineID- failed"))})},s.initialize=function(){a.register()},e.patternCarlineId=s},
/*!*******************************************************************!*\
  !*** ./js/configurator/pattern-matching/pattern-configuration.js ***!
  \*******************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.patternConfiguration=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! babel-runtime/core-js/promise */11)),i=n(/*! ../../global-bundle */44),o=n(/*! ../dpu/api */27);var a={},s={__:a};a.oDefaults={},a.register=function(){i.patternMatching.register("conf_finance",a.getConfigurationAttribute("financeProductName")),i.patternMatching.register("conf_name",a.getConfigurationAttribute("carlineName")),i.patternMatching.register("conf_id",a.getConfigurationAttribute("carline")),i.patternMatching.register("conf_description",a.getConfigurationAttribute("description")),i.patternMatching.register("conf_modelyear",a.getConfigurationAttribute("modelyear")),i.patternMatching.register("conf_power_primary",a.getModelInfoAttribute("power-primary")),i.patternMatching.register("conf_power_secondary",a.getModelInfoAttribute("power-secondary"))},a.getConfigurationAttribute=function(t){return function(){var e=o.dpuApi.getConfiguration();return new r.default(function(n,r){e&&e[t]?n(e[t]):r(t+" was not found within the configuration")})}},a.getModelInfoAttribute=function(t){return function(){var e=o.dpuApi.getCurrentModelInfo();return new r.default(function(n,r){e&&e[t]?n(e[t]):r(t+" was not found within the model Info")})}},s.initialize=function(){a.register()},e.patternConfiguration=s},
/*!**************************************************************!*\
  !*** ./js/configurator/pattern-matching/pattern-language.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.patternLanguage=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! babel-runtime/core-js/promise */11)),i=n(/*! ../../global-bundle */44);var o={},a={__:o};o.oDefaults={},o.eventBus=null,o.register=function(){i.patternMatching.register("language",o.getLanguage)},o.getLanguage=function(){var t;return new r.default(function(e,n){(t=SETUPS.get("nemo.locale.language"))?e(t):n(new TypeError("load pattern -language- failed"))})},a.initialize=function(){o.register()},e.patternLanguage=a},
/*!****************************************************************!*\
  !*** ./js/configurator/pattern-matching/pattern-leadsource.js ***!
  \****************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.patternLeadsource=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! babel-runtime/core-js/promise */11)),i=n(/*! ../../global-bundle */44);var o={},a={__:o};o.oDefaults={sourceName:"IPH"},o.eventBus=null,o.register=function(){i.patternMatching.register("lead_source",o.getLeadSource)},o.getLeadSource=function(){return new r.default(function(t,e){i.iph.inIPHMode()?t(o.oDefaults.sourceName):e(new TypeError("load pattern -leadsource- failed"))})},a.initialize=function(){o.register()},e.patternLeadsource=a},
/*!***************************************************************!*\
  !*** ./js/configurator/pattern-matching/pattern-partnerId.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.patternPartnerId=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! babel-runtime/core-js/promise */11)),i=n(/*! ../../global-bundle */44);var o={},a={__:o};o.oDefaults={},o.eventBus=null,o.register=function(){i.patternMatching.register("partnerid",o.getPartnerId)},o.getPartnerId=function(){var t;return new r.default(function(e,n){(t=i.iph.inIPHMode())?e(t):n(new TypeError("load pattern -partnerid- failed"))})},a.initialize=function(){o.register()},e.patternPartnerId=a},
/*!**************************************************************!*\
  !*** ./js/configurator/pattern-matching/pattern-prstring.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.patternPrString=void 0;var r=l(n(/*! babel-runtime/core-js/promise */11)),i=l(n(/*! babel-runtime/helpers/classCallCheck */1)),o=l(n(/*! babel-runtime/helpers/createClass */2)),a=n(/*! ../../global-bundle */44),s=n(/*! ../dpu/api */27);function l(t){return t&&t.__esModule?t:{default:t}}var u=new(function(){function t(){(0,i.default)(this,t)}return(0,o.default)(t,[{key:"initialize",value:function(){a.patternMatching.register("prstring",this._getPrString)}},{key:"_getPrString",value:function(){return new r.default(function(t){return t(s.dpuApi.getPrString())})}}]),t}());e.patternPrString=u},
/*!***************************************************************!*\
  !*** ./js/configurator/pattern-matching/pattern-vehicleId.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.patternVehicleId=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! babel-runtime/core-js/promise */11)),i=n(/*! ../../global-bundle */44);var o={},a={__:o};o.oDefaults={},o.register=function(){i.patternMatching.register("vehicle_id",o.getVehicleId)},o.getVehicleId=function(){return new r.default(function(t,e){var n=o.getUrlParameterByName("vehicleid",location.href);n?t(n):e(new TypeError("load pattern -vehicleid- failed"))})},o.getUrlParameterByName=function(t,e){var n,r,i;return i=e||window.location.href,r=(t||"").replace(/[[\]]/g,"\\$&"),(n=new RegExp("[?&]"+r+"(=([^&#]*)|&|#|$)").exec(i))?n[2]?decodeURIComponent((n[2]||"").replace(/\+/g," ")):"":null},a.initialize=function(){o.register()},e.patternVehicleId=a},
/*!************************************!*\
  !*** ./js/configurator/pattern.js ***!
  \************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pattern=void 0;var r=n(/*! ../application-bundle */3),i=n(/*! core-utils */0),o=n(/*! ./dpu/api */27),a={},s={__:a},l="",u="";a.setGroupPrice=function(){i.dom.getElementsArray(".js-configurator-group").forEach(function(t){var e,n=t,r=i.dom.closest(n,".nm-pattern-block, .nm-pattern-block-dynamic, .nm-tile-block"),a=i.dom.getElementsArray(".nm-j-configurator-item:not(.nm-j-configurator-status_00000)",r),c=Number.MAX_VALUE,d=!0;a.forEach(function(t){var n,r,i;r=(n=o.dpuApi.getItem(t.getAttribute("data-configurator-id")))&&n.price?n.price:"",1*(i=(i=s.getRawPrice(r,!1)).toFixed(2))==0&&(e=u),1*c>1*i&&(e=r,c=i),d&&c!==i&&(d=!1)}),d||(e=l+" "+e),i.dom.getElement(".nm-price",n).textContent=e})},s.getRawPrice=function(t,e){var n,r;return r=0===SETUPS.get("scope.commaseparator")||"0"===SETUPS.get("scope.commaseparator")?/[^0-9,]/g:/[^0-9.]/g,(n=t.replace(r,"")).replace(/[,]/g,"."),n=!0===e?parseInt(n,10):parseFloat(n),isNaN(n)&&(n=0),n},a.setSelectedGroup=function(){i.dom.getElementsArray(".nm-pattern-list-dynamic").forEach(function(t){var e=i.dom.getElementsArray("li.nm-j-configurator-status_11010, li.nm-j-configurator-status_10011",t).length;t.classList.remove("nm-pattern-selected"),e&&t.classList.add("nm-pattern-selected")})},a.handleUpdates=function(){i.polling.wait(function(){return o.dpuApi.isInitialized()||!o.dpuApi.getCarline()},5e3,250).then(function(){a.setSelectedGroup(),a.setGroupPrice()}).catch(function(t){return console.warn("pattern: could not update groups and prices",t)})},a.subscribe=function(){a.eventBus.on(r.appEvents.CONFIG_UPDATE,a.handleUpdates),a.eventBus.on(r.appEvents.PAGE_LOADED,a.handleUpdates),a.eventBus.on(r.appEvents.LAYER_LOADED,a.handleUpdates)},a.initialize=function(){l=window.i18n.from,u=window.i18n["standard-group-price"],a.subscribe()},s.initialize=function(t){a.eventBus=t,a.initialize()},e.pattern=s},
/*!*********************************************!*\
  !*** ./js/configurator/pdf-service-link.js ***!
  \*********************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pdfServiceLink=void 0;var r=n(/*! core-utils */0),i=n(/*! ../global-bundle */44),o={},a={__:o};o.oDefaults={sSelectorModule:".j-pdf-configuration"},o.addEvents=function(){r.dom.getEventDelegate("body").on("click",o.oDefaults.sSelectorModule,o.callPDFServiceWithAudicode)},o.callPDFServiceWithAudicode=function(t){var e,n;e=SETUPS.get("nemo.pdf.url"),console.log("PDFURl: ",e),e&&(n=window.open(),i.patternMatching.getReplacedUrl(e+"/audicode/{{audicode}}","audi.de").then(function(t){n.location=t}).catch(function(t){console.warn("PDF SERVICE LINK ERROR: something went wrong in pattern matching: ",t)}))},a.initialize=function(t){o.addEvents()},e.pdfServiceLink=a},
/*!****************************************************!*\
  !*** ./js/configurator/preconfiguration-teaser.js ***!
  \****************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.preconfigurationTeaser=void 0;var r=n(/*! core-utils */0),i=n(/*! ./dpu/api */27),o=n(/*! ./dpu/controller */138),a=n(/*! ../application-bundle */3),s={},l={__:s};s.oDefaults={sPreconfTeaserSelector:".nm-module-preconfiguration-teaser",spreconfigSlide:".nm-md-preconfig-teaser-slide",sButtonSelector:".j-preconfig-submit",sButtonConfigurationClass:"nm-md-preconfig-teaser-custom-configuration",sSelectorTabsNavi:"ul.nm-preconfiguration-teaser-thumbs",sSelectorTeaserTemplates:"j-preconfig-teaser-tpl-",sTabsSelectorDelegateClick:"li.nm-preconfiguration-teaser-thumbnail",sMenuSelectedClass:"nm-selected",sSelectorTeaserContainer:".nm-preconfig-teaser-peephole",selectorArrow:".nm-preconfiguration-teaser-slide-arrows a",selectorArrowPrev:".nm-preconfiguration-teaser-slide-prev",selectorArrowNext:".nm-preconfiguration-teaser-slide-next",classHidden:"nm-hidden"},s.selectedIndex=0,s.maxIndex=0,s.startPos={x:0,y:0},s.PREV="prev",s.sensitivity=40,s.direction="left",s.isAnimating=!1,s.xDirection="none",s.yDirection="none",s.deltaX=0,s.deltaY=0,s.eventLookup={touchdevice:{down:"touchstart",move:"touchmove",up:"touchend"},desktopdevice:{down:"mousedown",move:"mousemove",up:"mouseup"}},s.isDown=!1,s.deviceType="desktopdevice",s.isTouchDevice=function(){return!!("ontouchstart"in window)||!!navigator.msMaxTouchPoints},s.handlePageLoaded=function(){if(s.$preconfigTeaserContainer&&jQuery.contains(document,s.$preconfigTeaserContainer[0]))return!1;if(s.$preconfigTeaserContainer=jQuery(s.oDefaults.sPreconfTeaserSelector),s.$preconfigTeaserContainer.length){var t=jQuery("script[id^='"+s.oDefaults.sSelectorTeaserTemplates+"']");s.maxIndex=t.length-1,s.isTouchDevice()&&(s.deviceType="touchdevice"),s.maxIndex>0&&(s.addSwipeEvents(),s.$preconfigTeaserContainer.on("click.tabs touchend.tabs",s.oDefaults.sTabsSelectorDelegateClick,s.handleTabClick)),s.$preconfigTeaserContainer.on("click.configuration.start touchend.configuration.start",s.oDefaults.sButtonSelector,s.handleConfigurationStartClick),s.eventBus.on(a.appEvents.CONFIG_UPDATE,s.updateButtonLabel),s.updateButtonLabel(),s.updateArrows(0)}},s.addSwipeEvents=function(){s.removeSwipeEvents(),s.$preconfigTeaserContainer.off(s.eventLookup[s.deviceType].down,s.handleMouseDown).on(s.eventLookup[s.deviceType].down,s.handleMouseDown)},s.removeSwipeEvents=function(){s.$preconfigTeaserContainer.off(s.eventLookup[s.deviceType].up,s.handleMouseUp),s.$preconfigTeaserContainer.off(s.eventLookup[s.deviceType].move,s.handleMouseMove)},s.handleMouseDown=function(t){s.isDown=!1,"select"!==t.target.nodeName.toLowerCase()&&"input"!==t.target.nodeName.toLowerCase()&&"option"!==t.target.nodeName.toLowerCase()&&(s.isDown=!0,s.deltaX=0,s.deltaY=0,s.startPos.x=t.pageX||t.originalEvent.changedTouches[0].pageX,s.startPos.y=t.pageY||t.originalEvent.changedTouches[0].pageY,s.$preconfigTeaserContainer.off(s.eventLookup[s.deviceType].up,s.handleMouseUp).on(s.eventLookup[s.deviceType].up,s.handleMouseUp),s.isTouchDevice()||s.$preconfigTeaserContainer.on(s.eventLookup[s.deviceType].move,s.handleMouseMove))},s.getXDirection=function(t){return t>0?"left":"right"},s.getYDirection=function(t){return t>0?"up":"down"},s.handleMouseUp=function(t){s.down=!1,s.removeSwipeEvents(),s.deltaX=s.startPos.x-(t.pageX||t.originalEvent.changedTouches[0].pageX),s.deltaY=s.startPos.y-(t.pageY||t.originalEvent.changedTouches[0].pageY),s.xDirection=s.getXDirection(s.deltaX),s.yDirection=s.getYDirection(s.deltyY),Math.abs(s.deltaX)>s.sensitivity&&Math.abs(s.deltaY)<s.sensitivity&&s.triggerViewChange(s.xDirection)},s.handleMouseMove=function(t){s.isDown&&(s.deltaX=s.startPos.x-(t.pageX||t.originalEvent.changedTouches[0].pageX),s.deltaY=s.startPos.y-(t.pageY||t.originalEvent.changedTouches[0].pageY),s.xDirection=s.getXDirection(s.deltaX),s.yDirection=s.getYDirection(s.deltyY),Math.abs(s.deltaX)>s.sensitivity&&Math.abs(s.deltaY)<s.sensitivity&&(s.removeSwipeEvents(),s.isDown=!1,s.triggerViewChange(s.xDirection)))},s.removeEvents=function(){s.$preconfigTeaserContainer=jQuery(s.oDefaults.sPreconfTeaserSelector),s.$preconfigTeaserContainer.length&&(s.removeSwipeEvents(),s.$preconfigTeaserContainer.off("click.tabs touchend.tabs",s.handleTabClick),s.$preconfigTeaserContainer.off("click.configuration.start touchend.configuration.start",s.handleConfigurationStartClick),jQuery("body").off(a.appEvents.CONFIG_UPDATE,s.updateButtonLabel))},s.handleConfigurationStartClick=function(t){s.cancelEvent(t);var e=jQuery(this),n=e.data("prstring"),r=e.data("audicode");return jQuery(t.target).closest("a").trigger("click.link-tracking"),r?(o.dpuController.loadConfigurationFromTeaser({audicode:r,prstring:null},"audicode.preconfig-teaser").then(function(){a.router.open("page",i.dpuApi.getCurrentCarlineUrl())}),!1):n?(o.dpuController.loadConfigurationFromTeaser({prstring:n,audicode:null},"prstring.preconfig-teaser").then(function(){a.router.open("page",i.dpuApi.getCurrentCarlineUrl())}),!1):(a.router.open("page",i.dpuApi.getCurrentCarlineUrl()),void jQuery("a.nm-configuration-new").trigger("click.configuration.new"))},s.handleTabClick=function(t){t&&t.preventDefault&&t.preventDefault();var e,n=s.selectedIndex;this.hasAttribute("data-direction")?e=this.getAttribute("data-direction")===s.PREV?n-1:n+1:e=$(this).index();return s.cancelEvent(t),s.isAnimating?null:e!==n&&(s.direction=e>n?"left":"right",s.selectedIndex=e,void s.updateContent(s.selectedIndex,s.direction))},s.updateArrows=function(t){if(0!=s.maxIndex){var e=r.dom.getElement(s.oDefaults.selectorArrowPrev),n=r.dom.getElement(s.oDefaults.selectorArrowNext);0==t?e.classList.add(s.oDefaults.classHidden):e.classList.remove(s.oDefaults.classHidden),t==s.maxIndex?n.classList.add(s.oDefaults.classHidden):n.classList.remove(s.oDefaults.classHidden)}},s.getNextIndex=function(t){return(t+1)%(s.maxIndex+1)},s.getPreviousIndex=function(t){var e=t-1;return e<0&&(e=s.maxIndex),e},s.updateContent=function(t,e){s.insertTeaser(t,e),s.updateSelection(t)},s.triggerViewChange=function(t){var e=s.selectedIndex;if(s.isAnimating)return null;s.legacyEventBus.trigger("swipe.preconfiguration",{prop16:"<prefix>:"+i.dpuApi.getCarlineName(),eVar39:"Pre-Config Switch",prop39:"Pre-Config Switch",eVar44:"Pre-Config Switch",prop44:"Pre-Config Switch",eVar46:"<pagename>:Pre-Config Switch:Swipe",prop46:"<pagename>:Pre-Config Switch:Swipe",prop67:"<pagename>"}),s.direction=t,e="right"===t?s.getPreviousIndex(e):s.getNextIndex(e),s.selectedIndex=e,s.updateContent(s.selectedIndex,s.direction)},s.handlePageLeave=function(){s.removeEvents()},s.animateStage=function(t,e,n,r){var i="-"+.5*e.width()+"px";s.isAnimating=!0,"left"===t?e.css("height",n).animate({"margin-left":i,height:r},500,"easeOutSine",s.animationEnded):e.css("margin-left",i).animate({"margin-left":0,height:r},500,"easeOutSine",s.animationEnded)},s.insertTeaser=function(t,e){var n,r,i,o,a=jQuery(s.oDefaults.sSelectorTeaserContainer);a.addClass("nm-slide-animation-start-"+e),n=s.getTemplateByIndex(t),r=jQuery(n),i=jQuery(s.oDefaults.spreconfigSlide).height()+"px",r.appendTo(a),o=r.height()+"px",s.animateStage(e,a,i,o)},s.animationEnded=function(){$(this).removeClass(["nm-slide-animation-start-",s.direction].join("")).removeAttr("style").find(s.oDefaults.spreconfigSlide).first().remove(),s.isAnimating=!1,s.updateArrows(s.selectedIndex)},s.updateButtonLabel=function(){i.dpuApi.hasCustomConfiguration()?$(s.oDefaults.sSelectorTeaserContainer).addClass(s.oDefaults.sButtonConfigurationClass):$(s.oDefaults.sSelectorTeaserContainer).removeClass(s.oDefaults.sButtonConfigurationClass)},s.updateSelection=function(t){var e=s.$preconfigTeaserContainer.find(s.oDefaults.sSelectorTabsNavi).find(s.oDefaults.sTabsSelectorDelegateClick);e.removeClass(s.oDefaults.sMenuSelectedClass),jQuery(e[t]).addClass(s.oDefaults.sMenuSelectedClass)},s.getTemplateByIndex=function(t){var e=jQuery(["#",s.oDefaults.sSelectorTeaserTemplates,t].join("")).html()||"";return e=e.trim()},s.cancelEvent=function(t){t&&"function"==typeof t.preventDefault&&t.preventDefault()},s.addEvents=function(){s.eventBus.on(a.appEvents.PAGE_LOADED,s.handlePageLoaded),s.eventBus.on(a.appEvents.LAYER_LOADED,s.handlePageLoaded),s.domEventDelegate.on("click",s.oDefaults.selectorArrow,s.handleTabClick)},l.initialize=function(t){s.eventBus=t,s.domEventDelegate=r.dom.getEventDelegate("body"),s.addEvents(),s.handlePageLoaded()},e.preconfigurationTeaser=l},
/*!********************************************!*\
  !*** ./js/configurator/preconfs-teaser.js ***!
  \********************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.preconfsTeaser=void 0;var r=n(/*! ./dpu/api */27),i=n(/*! ./dpu/controller */138),o=n(/*! ../application-bundle */3),a={},s={__:a};a.oDefaults={sPreconfTeaserSelector:".nm-md-preconfs-teaser",sPreconfsSlide:".nm-md-preconfs-teaser-slide",sButtonSelector:".j-preconfs-submit",sButtonConfigurationClass:"nm-md-preconfs-teaser-custom-configuration",sSelectorDotsNavi:"ul.nm-dots-navi",sSelectorTeaserTemplates:"j-preconfs-teaser-tpl-",sDotsSelectorDelegateClick:"li.nm-dot",sMenuSelectedClass:"nm-selected",sSelectorTeaserContainer:".nm-peephole"},a.selectedIndex=0,a.maxIndex=0,a.startPos={x:0,y:0},a.sensitivity=40,a.direction="left",a.isAnimating=!1,a.xDirection="none",a.yDirection="none",a.deltaX=0,a.deltaY=0,a.eventLookup={touchdevice:{down:"touchstart",move:"touchmove",up:"touchend"},desktopdevice:{down:"mousedown",move:"mousemove",up:"mouseup"}},a.isDown=!1,a.deviceType="desktopdevice",a.isTouchDevice=function(){return!!("ontouchstart"in window)||!!navigator.msMaxTouchPoints},a.handlePageLoaded=function(){if(a.$preconfsTeaserContainer=jQuery(a.oDefaults.sPreconfTeaserSelector),a.$preconfsTeaserContainer.length){var t=jQuery("script[id^='"+a.oDefaults.sSelectorTeaserTemplates+"']");a.maxIndex=t.length-1,a.isTouchDevice()&&(a.deviceType="touchdevice"),a.maxIndex>0&&(a.addSwipeEvents(),a.$preconfsTeaserContainer.on("click.dots touchend.dots",a.oDefaults.sDotsSelectorDelegateClick,a.handleDotClick)),a.$preconfsTeaserContainer.on("click.configuration.start touchend.configuration.start",a.oDefaults.sButtonSelector,a.handleConfigurationStartClick),a.eventBus.on(o.appEvents.CONFIG_UPDATE,a.updateButtonLabel),a.updateButtonLabel()}},a.addSwipeEvents=function(){a.removeSwipeEvents(),a.$preconfsTeaserContainer.off(a.eventLookup[a.deviceType].down,a.handleMouseDown).on(a.eventLookup[a.deviceType].down,a.handleMouseDown)},a.removeSwipeEvents=function(){a.$preconfsTeaserContainer.off(a.eventLookup[a.deviceType].up,a.handleMouseUp),a.$preconfsTeaserContainer.off(a.eventLookup[a.deviceType].move,a.handleMouseMove)},a.handleMouseDown=function(t){a.isDown=!1,"select"!==t.target.nodeName.toLowerCase()&&"input"!==t.target.nodeName.toLowerCase()&&"option"!==t.target.nodeName.toLowerCase()&&(a.isDown=!0,a.deltaX=0,a.deltaY=0,a.startPos.x=t.pageX||t.originalEvent.changedTouches[0].pageX,a.startPos.y=t.pageY||t.originalEvent.changedTouches[0].pageY,a.$preconfsTeaserContainer.off(a.eventLookup[a.deviceType].up,a.handleMouseUp).on(a.eventLookup[a.deviceType].up,a.handleMouseUp),a.isTouchDevice()||a.$preconfsTeaserContainer.on(a.eventLookup[a.deviceType].move,a.handleMouseMove))},a.handleMouseUp=function(t){a.down=!1,a.removeSwipeEvents(),a.deltaX=a.startPos.x-(t.pageX||t.originalEvent.changedTouches[0].pageX),a.deltaY=a.startPos.y-(t.pageY||t.originalEvent.changedTouches[0].pageY),a.deltaX>0?a.xDirection="left":a.xDirection="right",a.deltaY>0?a.yDirection="up":a.yDirection="down",Math.abs(a.deltaX)>a.sensitivity&&Math.abs(a.deltaY)<a.sensitivity&&a.triggerViewChange(a.xDirection)},a.handleMouseMove=function(t){a.isDown&&(a.deltaX=a.startPos.x-(t.pageX||t.originalEvent.changedTouches[0].pageX),a.deltaY=a.startPos.y-(t.pageY||t.originalEvent.changedTouches[0].pageY),a.deltaX>0?a.xDirection="left":a.xDirection="right",a.deltaY>0?a.yDirection="up":a.yDirection="down",Math.abs(a.deltaX)>a.sensitivity&&Math.abs(a.deltaY)<a.sensitivity&&(a.removeSwipeEvents(),a.isDown=!1,a.triggerViewChange(a.xDirection)))},a.removeEvents=function(){a.$preconfsTeaserContainer=jQuery(a.oDefaults.sPreconfTeaserSelector),a.$preconfsTeaserContainer.length&&(a.removeSwipeEvents(),a.$preconfsTeaserContainer.off("click.dots touchend.dots",a.handleDotClick),a.$preconfsTeaserContainer.off("click.configuration.start touchend.configuration.start",a.handleConfigurationStartClick),jQuery("body").off(o.appEvents.CONFIG_UPDATE,a.updateButtonLabel))},a.handleConfigurationStartClick=function(t){a.cancelEvent(t);var e=jQuery(this),n=e.data("prstring"),s=e.data("audicode");return s?(i.dpuController.loadConfigurationFromTeaser({audicode:s,prstring:null},"audicode.preconfs-teaser").then(function(){o.router.open("page",r.dpuApi.getCurrentCarlineUrl())}),!1):n?(i.dpuController.loadConfigurationFromTeaser({prstring:n,audicode:null},"prstring.preconfs-teaser").then(function(){o.router.open("page",r.dpuApi.getCurrentCarlineUrl())}),!1):(o.router.open("page",r.dpuApi.getCurrentCarlineUrl()),void jQuery("a.nm-configuration-new").trigger("click.configuration.new"))},a.handleDotClick=function(t){if(a.cancelEvent(t),a.isAnimating)return null;var e=$(this).index(),n=a.selectedIndex;if(e===n)return!1;a.direction=e>n?"left":"right",a.selectedIndex=e,a.updateContent(a.selectedIndex,a.direction)},a.getNextIndex=function(t){return(t+1)%(a.maxIndex+1)},a.getPreviousIndex=function(t){return(t-=1)<0&&(t=a.maxIndex),t},a.updateContent=function(t,e){a.insertTeaser(t,e),a.updateSelection(t)},a.triggerViewChange=function(t){if(a.isAnimating)return null;var e=a.selectedIndex;"right"===t?(a.direction="right",e=a.getPreviousIndex(e)):(a.direction="left",e=a.getNextIndex(e)),a.selectedIndex=e,a.updateContent(a.selectedIndex,a.direction)},a.handlePageLeave=function(){a.removeEvents()},a.insertTeaser=function(t,e){var n=jQuery(a.oDefaults.sSelectorTeaserContainer);n.addClass("nm-slide-animation-start-"+e);var r=a.getTemplateByIndex(t),i=jQuery(r),o=jQuery(a.oDefaults.sPreconfsSlide).height()+"px";i.appendTo(n);var s=i.height()+"px",l="-"+.5*n.width()+"px";a.isAnimating=!0,"left"===e?n.css("height",o).animate({"margin-left":l,height:s},500,"easeOutSine",a.animationEnded):n.css("margin-left",l).animate({"margin-left":0,height:s},500,"easeOutSine",a.animationEnded)},a.animationEnded=function(){$(this).removeClass(["nm-slide-animation-start-",a.direction].join("")).removeAttr("style").find(a.oDefaults.sPreconfsSlide).first().remove(),a.isAnimating=!1},a.updateButtonLabel=function(){r.dpuApi.hasCustomConfiguration()?$(a.oDefaults.sSelectorTeaserContainer).addClass(a.oDefaults.sButtonConfigurationClass):$(a.oDefaults.sSelectorTeaserContainer).removeClass(a.oDefaults.sButtonConfigurationClass)},a.updateSelection=function(t){var e=a.$preconfsTeaserContainer.find(a.oDefaults.sSelectorDotsNavi).find(a.oDefaults.sDotsSelectorDelegateClick);e.removeClass(a.oDefaults.sMenuSelectedClass),jQuery(e[t]).addClass(a.oDefaults.sMenuSelectedClass)},a.getTemplateByIndex=function(t){var e=jQuery(["#",a.oDefaults.sSelectorTeaserTemplates,t].join("")).html()||"";return e=e.trim()},a.cancelEvent=function(t){t&&"function"==typeof t.preventDefault&&t.preventDefault()},a.addEvents=function(){a.eventBus.on(o.appEvents.PAGE_LOADED,a.handlePageLoaded),a.eventBus.on(o.appEvents.PAGE_LEAVE,a.handlePageLeave),a.eventBus.on(o.appEvents.LAYER_LOADED,a.handlePageLoaded)},s.initialize=function(t){a.eventBus=t,a.addEvents(),a.handlePageLoaded()},e.preconfsTeaser=s},
/*!********************************************!*\
  !*** ./js/configurator/recommendations.js ***!
  \********************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recommendations=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(/*! babel-runtime/core-js/json/stringify */70)),i=n(/*! ./dpu/api */27),o=n(/*! ../application-bundle */3),a=n(/*! core-utils */0),s=n(/*! ./recommendations-list-template */331);var l={},u={__:l};l.oDefaults={sSelectorTemplateClass:".nm-recommendation",sSelectorTabClass:".nm-j-link-recommendations"},l.tplFunc=null,l.tplFuncNoRecs=function(){return""},l.getTplString=function(t){var e=$(t);return e.length>0?e.html():""},l.showTab=function(){jQuery("body").addClass("nm-has-recommendations")},l.hideTab=function(){jQuery("body").removeClass("nm-has-recommendations")},l.tabAvailable=function(){return jQuery(l.oDefaults.sSelectorTabClass).length>0},l.containerAvailable=function(){return jQuery(l.oDefaults.sSelectorTemplateClass).length>0},l.initialize=function(){l.addEvents()},l.dispose=function(){l.disposeEvents()},l.parse=function(t){var e,n=i.dpuApi.getItems()||{},o={recommendations:[]},a=JSON.parse((0,r.default)(t)),s={};return jQuery.each(n,function(t,e){s[e.mbvId]=e}),e=[],jQuery.each(a,function(t,r){if(null===r)return!1;r.recommendation=jQuery.map(r.recommendation,function(t){return!!s[t.id]?s[t.id]:i.dpuApi.getItem(t.id)}),r.chosen=jQuery.map(r.chosen,function(t){return!!s[t.id]?s[t.id]:n[t.id]}),e.push(r)}),jQuery.each(e,function(t,e){Array.prototype.push.call(o.recommendations,e)}),o.recommendations=e,o.carlineName=i.dpuApi.getCarlineName(),o},l.render=function(){var t=i.dpuApi.getRecommendations(),e=l.parse(t),n=a.template.render(s.recommendationsListTemplate,e);n=n.replace("{{=it.carlineName}}",e.carlineName.toUpperCase()),jQuery(l.oDefaults.sSelectorTemplateClass).html(n)},l.renderNoRecommendations=function(){var t=i.dpuApi.getConfiguration(),e=a.template.render(s.recommendationsListTemplate,t);e=e.replace("{{=it.carlineName}}",(i.dpuApi.getCarline()||"").toUpperCase()),jQuery(l.oDefaults.sSelectorTemplateClass).html(e),jQuery(l.oDefaults.sSelectorTemplateClass).html(l.tplFuncNoRecs(t))},l.addEvents=function(){l.eventBus.on(o.appEvents.CONFIG_UPDATE,l.handleConfigUpdate),l.eventBus.on(o.appEvents.PAGE_LOADED,l.handlePageLoaded),l.eventBus.on(o.appEvents.PAGE_LOADED,l.handleLayerLoaded),l.eventBus.on(o.appEvents.LAYER_LOADED,l.handleLayerLoaded),l.eventBus.on(o.appEvents.LAYER_CLOSED,l.handleLayerClosed)},l.disposeEvents=function(){l.eventBus.off(o.appEvents.CONFIG_UPDATE,l.handleConfigUpdate),l.eventBus.off(o.appEvents.PAGE_LOADED,l.handlePageLoaded),l.eventBus.off(o.appEvents.PAGE_LOADED,l.handleLayerLoaded),l.eventBus.off(o.appEvents.LAYER_LOADED,l.handleLayerLoaded),l.eventBus.off(o.appEvents.LAYER_CLOSED,l.handleLayerClosed)},l.recommendationsAvailable=function(){return i.dpuApi.isConfigurable()&&i.dpuApi.getRecommendations().length},l.updateView=function(){l.containerAvailable()||(l.recommendationsAvailable()?(l.showTab(),l.render()):l.hideTab())},l.handleConfigUpdate=function(){l.updateView()},l.handlePageLoaded=function(){l.updateView()},l.handleLayerClosed=function(){l.recommendationsAvailable()||l.hideTab()},l.handleLayerLoaded=function(){!l.recommendationsAvailable()&&l.containerAvailable()?(l.showTab(),l.renderNoRecommendations()):l.recommendationsAvailable()&&l.containerAvailable()?(l.showTab(),l.render()):l.recommendationsAvailable()&&l.tabAvailable()&&l.showTab()},u.initialize=function(t){l.eventBus=t,l.initialize()},e.recommendations=u},
/*!**********************************************************!*\
  !*** ./js/configurator/recommendations-list-template.js ***!
  \**********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.recommendationsListTemplate='<h2 class="nm-el-hdl nm-el-hdl-02 nm-at-hdl-b">\n\t{{=window.i18n[\'recommendations-layer.your-recommendations-for\']}}\n</h2>\n<p class="nm-el-pg nm-el-pg-03">\n\t{{=window.i18n[\'recommendations-layer.message\']}}\n</p>\n{{~it.recommendations :value :index}}\n<div class="nm-recommendation-container nm-recommendation-{{=index+1}}">\n\t<div class="nm-module nm-md-recommendations">\n\t\t<strong class="nm-el-hdl nm-el-hdl-04">\n\t\t\t{{=window.i18n[\'recommendations-layer.recommendation-index\']}} {{=index+1}}\n\t\t</strong>\n\t\t<p class="nm-recommendation-title nm-el-pg nm-el-pg-03">\n\t\t\t{{=value.explanation}}\n\t\t</p>\n\t\t{{~value.recommendation :r}}\n\t\t<div class="nm-module nm-md-teaser-equipment nm-md-teaser clearfix nm-j-configurator-item nm-j-configurator-status_{{=r.status}}"\n\t\tdata-configurator-id="{{=r.id}}">\n\t\t\t<div class="nm-md-teaser-img">\n\t\t\t\t<img src="{{=r.image}}" alt="" />\n\t\t\t</div>\n\t\t\t<div class="nm-md-teaser-copy">\n\t\t\t\t<strong class="nm-el-hdl nm-el-hdl-04 nm-at-hdl-b">\n\t\t\t\t\t{{=r.name}}\n\t\t\t\t</strong>\n\t\t\t\t<div class="nm-info-wrap">\n\t\t\t\t\t<a class="nm-info nm-image-replace nm-layerLink" href="{{=r.url}}">{{=window.i18n[\'more-information\']}}</a>\n\t\t\t\t</div>\n\t\t\t\t<span class="nm-price nm-el-hdl nm-el-hdl-04">\n\t\t\t\t\t{{=r.price}}\n\t\t\t\t</span>\n\t\t\t\t<div class="nm-el-pg nm-el-pg-02">\n\t\t\t\t\t{{=r.description || "No descriptive text found"}}\n\t\t\t\t</div>\n\t\t\t\t<a class="nm-el-btn nm-el-btn-02 nm-j-configurator-delegate-click" href="#">\n\t\t\t\t    <span class="nm-at-btn-state01">{{=window.i18n[\'configuration.add-item\']}}</span>\n\t\t\t\t    <span class="nm-at-btn-state02">{{=window.i18n[\'configuration.item-included\']}}</span>\n\t\t\t\t    <span class="nm-at-btn-state03">{{=window.i18n[\'configuration.remove-item\']}}</span>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t\t{{~}} {{? 0 !== value.chosen.length}}\n\t\t<p class="nm-el-pg nm-el-pg-03 nm-at-pg-b">\n\t\t\t{{=window.i18n[\'recommendations-layer.explanation\']}}:\n\t\t</p>\n\t\t{{~value.chosen :c}}\n\t\t<ul class="nm-options-list">\n\t\t\t<li class="clearfix">\n\t\t\t\t<div class="nm-options-cell-additional">\n\t\t\t\t\t<div class="nm-list-item-text nm-el-pg nm-el-pg-04">\n\t\t\t\t\t\t{{=c.name}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="nm-info-wrap">\n\t\t\t\t\t<a class="nm-info nm-layerLink" href="{{=c.url}}" title="{{=window.i18n[\'more-information\']}}"></a>\n\t\t\t\t</div>\n\t\t\t\t<div class="nm-price nm-el-pg nm-el-pg-04 clearfix">\n\t\t\t\t\t<span class="nm-price">\n\t\t\t\t\t\t{{=c.price}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t\t{{~}} {{?}}\n\t</div>\n</div>\n{{~}}'},
/*!**********************************************!*\
  !*** ./js/configurator/renderinginjector.js ***!
  \**********************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderinginjector=void 0;var r=n(/*! ../application-bundle */3),i=n(/*! ./renderinglayer */226),o=n(/*! ./ave/api */192),a={},s={__:a};a.oDefaults={sIdCanvas:"avecanvas",sClassActive:"nm-active",sClassAVE:"ave-layer",sSelectorOptionsWrapper:".nm-ave-animation-selector-wrapper",sSelectorStageWrapper:".nm-renderinglayer-stagewrapper",sSelectorBack:".nm-renderinglayer .nm-backarrow",sSelectorNext:".nm-renderinglayer .nm-nextarrow",sSelectorOuterRenderingLayer:".nm-layer-renderinglayer",sSelectorRenderingLayer:".nm-layer-renderinglayer",sSelectorRenderingStageWrapper:".nm-renderinglayer-stagewrapper",sSelectorThumbnail:".nm-renderinglayer-item .nm-rl-placeholder",sSelectorThumbnailActive:".nm-renderinglayer-item .nm-rl-placeholder.nm-active",sSelectorAVEContainerActive:".nm-md-ave-container.nm-active",sSelectorActiveStageImageWrapper:".nm-renderinglayer-imagewrapper.nm-active"},a.disableStreamReadyEvent=function(){a.eventBus.off(r.appEvents.AVE_STREAM_READY,i.renderinglayer.disableFor3D)},a.handlerLayerClosed=function(){var t,e;jQuery(a.oDefaults.sSelectorRenderingLayer).length>0&&jQuery(a.oDefaults.sSelectorRenderingLayer).first().hasClass(a.oDefaults.sClassAVE)&&(jQuery(".nm-3d-unloading").length>0?(e=(t=jQuery(".nm-3d-unloading").prev()).attr("id"),a.moveOptionsIntoCanvas(),o.aveApi.moveAVE(a.oDefaults.sIdCanvas,e),t.addClass(a.oDefaults.sClassActive)):(o.aveApi.deactivate(a.oDefaults.sIdCanvas),jQuery(a.oDefaults.sSelectorOptionsWrapper).remove()))},a.handlerThumbnailClick=function(){jQuery(this).hasClass(a.oDefaults.sClassActive)||a.activateView(this)},a.handlerBackClick=function(t){var e,n=jQuery(a.oDefaults.sSelectorThumbnailActive);t.preventDefault(),n.length>0&&(e=i.renderinglayer.determinePrevFromActive(n)),void 0===e&&(e=i.renderinglayer.determineDefaultPrev()),a.activateView(e)},a.handlerNextClick=function(t){var e,n=jQuery(a.oDefaults.sSelectorThumbnailActive);t.preventDefault(),n.length>0&&(e=i.renderinglayer.determineNextFromActive(n)),void 0===e&&(e=i.renderinglayer.determineDefaultNext()),a.activateView(e)},a.activateView=function(t){var e=jQuery(a.oDefaults.sSelectorThumbnailActive).attr("data-key"),n=jQuery(t).attr("data-key");jQuery(a.oDefaults.sSelectorThumbnail).removeClass(a.oDefaults.sClassActive),jQuery(t).addClass(a.oDefaults.sClassActive),n!==e&&o.aveApi.showPerspective(n)},a.captureAVEDrag=function(t){jQuery("body").off("click",".nm-layer-wrapper",r.layerApi.wrapperClickHandler),jQuery(".nm-layer-wrapper").off("mousedown",a.handlerAVEWrapperClick),jQuery(".nm-layer-wrapper").on("mousedown",a.handlerAVEWrapperClick),jQuery(".nm-layer-wrapper").off("touchstart",a.handlerAVEWrapperClick),jQuery(".nm-layer-wrapper").on("touchstart",a.handlerAVEWrapperClick)},a.activateThumbListeners=function(){jQuery(a.oDefaults.sSelectorThumbnail).on("click",a.handlerThumbnailClick),jQuery(a.oDefaults.sSelectorBack).on("click",a.handlerBackClick),jQuery(a.oDefaults.sSelectorNext).on("click",a.handlerNextClick),jQuery("#"+a.oDefaults.sIdCanvas).off("mousedown",a.captureAVEDrag),jQuery("#"+a.oDefaults.sIdCanvas).off("touchstart",a.captureAVEDrag),jQuery("#"+a.oDefaults.sIdCanvas).on("mousedown",a.captureAVEDrag),jQuery("#"+a.oDefaults.sIdCanvas).on("touchstart",a.captureAVEDrag)},a.handlerAVEWrapperClick=function(){jQuery("body").off("mousedown",".nm-layer-wrapper",r.layerApi.wrapperClickHandler),jQuery("body").on("mousedown",".nm-layer-wrapper",r.layerApi.wrapperClickHandler),jQuery("body").off("touchstart",".nm-layer-wrapper",r.layerApi.wrapperClickHandler),jQuery("body").on("touchstart",".nm-layer-wrapper",r.layerApi.wrapperClickHandler)},a.moveOptionsOutOfCanvas=function(){jQuery(a.oDefaults.sSelectorOptionsWrapper).prependTo(jQuery(a.oDefaults.sSelectorStageWrapper))},a.moveOptionsIntoCanvas=function(){jQuery(a.oDefaults.sSelectorOptionsWrapper).prependTo(jQuery("#"+a.oDefaults.sIdCanvas))},a.retrieveActiveViewPerspective=function(){var t=jQuery(a.oDefaults.sSelectorActiveStageImageWrapper);return t&&t.attr("data-view")?t.attr("data-view"):"exterior_front"},a.prepareDomForAVE=function(){null===document.getElementById(a.oDefaults.sIdCanvas)&&jQuery(a.oDefaults.sSelectorRenderingStageWrapper).prepend('<div id="'+a.oDefaults.sIdCanvas+'" class="nm-md-ave-container"></div>'),a.eventBus.on(r.appEvents.AVE_STREAM_READY,i.renderinglayer.disableFor3D),jQuery(a.oDefaults.sSelectorOuterRenderingLayer).addClass(a.oDefaults.sClassAVE)},a.handlerInjectAVE=function(){var t=jQuery(a.oDefaults.sSelectorAVEContainerActive);!0===o.aveApi.isAveAvailable()?(a.prepareDomForAVE(),t.length>0?(o.aveApi.moveAVE(t.attr("id"),a.oDefaults.sIdCanvas,!1),i.renderinglayer.disableFor3D()):o.aveApi.activateAVE(a.oDefaults.sIdCanvas,a.retrieveActiveViewPerspective()),a.handlerFollowupInjection()):console.log("renderinginjector - no matching carline")},a.handlerFollowupInjection=function(){a.activateThumbListeners(),a.moveOptionsOutOfCanvas()},a.handlerLayerOpened=function(){jQuery(a.oDefaults.sSelectorRenderingLayer).length>0?o.aveApi.isActiveCarline()?!0===o.aveApi.isAveAvailable()?a.handlerInjectAVE():a.eventBus.on(r.appEvents.AVE_AVAILABLE,a.handlerInjectAVE):(jQuery(a.oDefaults.sSelectorOuterRenderingLayer).removeClass(a.oDefaults.sClassAVE),jQuery("#"+a.oDefaults.sIdCanvas).remove()):console.log("renderinginjector - no matching dom element")},a.addEvents=function(){a.eventBus.on(r.appEvents.RENDERINGLAYER_LOADED,a.handlerLayerOpened),a.eventBus.on("jslayer.close",a.handlerLayerClosed),a.eventBus.on("jslayer.close",a.disableStreamReadyEvent)},s.initialize=function(t){a.eventBus=t,a.addEvents()},e.renderinginjector=s},
/*!****************************************************!*\
  !*** ./js/configurator/renderinglayer-template.js ***!
  \****************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.renderingLayerTemplate='\n\t<div class="nm-layer-toolbar">\n\t\t<div class="nm-renderingcounter">\n\t\t\t&nbsp;<span class="nm-renderingcounter-current">01</span>|\n\t\t\t<span class="nm-renderingcounter-total">--</span>&nbsp;\n\t\t</div>\n\t\t<div class="nm-button-close">\n\t\t\t<svg class="nm-icon-cancel">\n\t\t\t\t<use xlink:href={{=SETUPS.get(\'coreci.url.assets\')+"/icons/svg/sprite/sprite.svg#nm-icon-cancel"}}></use>\n\t\t\t</svg>\n\t\t</div>\n\t</div>\n\t<div class="nm-layer-inner nm-renderinglayer-wrapper">\n\t\t<div class="nm-renderinglayer {{? it.open }} nm-cabrio-open{{ } }}" style="{{?it.native_width!=undefined}} width: {{=it.native_width}}px{{?}}">\n\t\t\t<input type="radio" id="nm-renderinglayer-exteriortoggle" name="nm-renderinglayer-toggle-radio" value="exterior" class="nm-renderinglayer-toggle-radio" {{? it.interiorActive }}{{?? it.open }}{{??}}checked{{?}} >\n\t\t\t<input type="radio" id="nm-renderinglayer-exterioropentoggle" name="nm-renderinglayer-toggle-radio" value="exterioropen" class="nm-renderinglayer-toggle-radio" {{? it.interiorActive }}{{?? it.open }}checked{{??}}{{?}} >\n\t\t\t<input type="radio" id="nm-renderinglayer-interiortoggle" name="nm-renderinglayer-toggle-radio" value="interior" class="nm-renderinglayer-toggle-radio" {{? it.interiorActive }}checked{{?? it.open }}{{??}}{{?}} >\n\t\t\t\x3c!--\n\t\t\t<input type="checkbox" id="nm-renderinglayer-opentoggle" name="nm-rl-toggle-open" class="nm-rl-toggle-open" {{? it.open}}checked{{?}} >\n\t\t--\x3e\n\t\t\t<div class="nm-renderinglayer-stagewrapper {{? it.openavailable}} openavailable {{ }}}">\n\t\t\t\t<ul class="nm-renderinglayer-stagebrowse">\n\t\t\t\t\t<li class="nm-backarrow"><a href="" class="nm-b-icon nm-icon-back-arrow-l"></a></li>\n\t\t\t\t\t<li class="nm-nextarrow"><a href="" class="nm-b-icon nm-icon-next-arrow-l"></a></li>\n\t\t\t\t</ul>\n\t\t\t\t<a href="" class="nm-renderinglayer-open nm-el-btn nm-el-btn-01">{{? it.open}}{{=window.i18n[\'rendering-layer.cabrio-close\']}}{{??}}{{=window.i18n[\'rendering-layer.cabrio-open\']}}{{?}}</a>\n\n\t \t\t\t<div class="nm-renderinglayer-stage">\n\t \t\t\t\t<ul class="nm-renderinglayer-stageimages">{{~ it.exterior :value:i }}<li class="nm-renderinglayer-imagewrapper{{? it.currentRenderingView == value.name }} nm-active{{?}}" data-view="{{=value.name}}"><div class="nm-renderinglayer-image nm-j-configurator-renderimage nm-rendersource-{{=value.name}}" data-renderimage-type="fullscreen" data-renderimage-view="{{=value.name}}" style="background-image: url({{=value.image}});"></div></li>{{~}}{{~ it.exterior_open :value:i }}<li class="nm-renderinglayer-imagewrapper{{? it.currentRenderingView == value.name }} nm-active{{?}}"><div class="nm-renderinglayer-image nm-j-configurator-renderimage nm-rendersource-{{=value.name}}" data-renderimage-type="fullscreen" data-renderimage-view="{{=value.name}}" style="background-image: url({{=value.image}});"></div></li>{{~}}{{~ it.interior :value:i }}<li class="nm-renderinglayer-imagewrapper{{? it.currentRenderingView == value.name }} nm-active{{?}}"><div class="nm-renderinglayer-image nm-j-configurator-renderimage nm-rendersource-{{=value.name}}" data-renderimage-type="fullscreen" data-renderimage-view="{{=value.name}}" style="background-image: url({{=value.image}});"></div></li>{{~}}</ul>\n\t \t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="nm-renderinglayer-thumbnails clearfix">\n\t\t\t\t<ul class="nm-renderinglayer-thumbs">\n{{~ it.exterior :value:i }}\n\t{{? i == 0}}\n\t\t\t\t\t<li class="nm-renderinglayer-item nm-rl-toggle-exterior">\n\t\t\t\t\t\t<div class="nm-rl-placeholder nm-js-exterior {{=value.name}}{{? it.currentRenderingView == value.name }} nm-active{{?}}" data-key="{{=value.name}}">\n\t\t\t\t\t\t\t<label for="nm-renderinglayer-exteriortoggle" class="nm-renderinglayer-expander"></label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="nm-renderinglayer-thumb nm-j-configurator-renderimage {{=value.name}}" data-renderimage-type="{{=value.type}}" data-renderimage-view="{{=value.name}}" style="background-image:url({{=value.thumbnail}})"><a class="nm-b-icon nm-icon-plus"></a></div>\n\t{{??}}\n\t\t\t\t\t<li class="nm-renderinglayer-item nm-rl-item-exterior">\n\t\t\t\t\t\t<div class="nm-rl-placeholder nm-js-exterior {{=value.name}}{{? it.currentRenderingView == value.name }} nm-active{{?}}" data-key="{{=value.name}}"></div>\n\t\t\t\t\t\t<div class="nm-renderinglayer-thumb nm-j-configurator-renderimage {{=value.name}}" data-renderimage-type="{{=value.type}}" data-renderimage-view="{{=value.name}}" style="background-image:url({{=value.thumbnail}})"></div>\n\t{{?}}\n\t\t\t\t\t</li>\n{{~}}\n{{~ it.exterior_open :value:i }}\n\t{{? i == 0}}\n\t\t\t\t\t<li class="nm-renderinglayer-item nm-rl-toggle-exterior-open">\n\t\t\t\t\t\t<div class="nm-rl-placeholder nm-js-exterior-open {{=value.name}}{{? it.currentRenderingView == value.name }} nm-active{{?}}" data-key="{{=value.name}}">\n\t\t\t\t\t\t\t<label for="nm-renderinglayer-exterioropentoggle" class="nm-renderinglayer-expander"></label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="nm-renderinglayer-thumb nm-j-configurator-renderimage {{=value.name}}" data-renderimage-type="{{=value.type}}" data-renderimage-view="{{=value.name}}" style="background-image:url({{=value.thumbnail}})"><a class="nm-b-icon nm-icon-plus"></a></div>\n\t{{??}}\n\t\t\t\t\t<li class="nm-renderinglayer-item nm-rl-item-exterior-open">\n\t\t\t\t\t\t<div class="nm-rl-placeholder nm-js-exterior-open {{=value.name}}{{? it.currentRenderingView == value.name }} nm-active{{?}}" data-key="{{=value.name}}"></div>\n\t\t\t\t\t\t<div class="nm-renderinglayer-thumb nm-j-configurator-renderimage {{=value.name}}" data-renderimage-type="{{=value.type}}" data-renderimage-view="{{=value.name}}" style="background-image:url({{=value.thumbnail}})"></div>\n\t{{?}}\n\t\t\t\t\t</li>\n{{~}}\n{{~ it.interior :value:i }}\n\t{{? i == 0}}\n\t\t\t\t\t<li class="nm-renderinglayer-item nm-js-toggle nm-rl-toggle-interior">\n\t\t\t\t\t\t<div class="nm-rl-placeholder nm-js-interior {{=value.name}}{{? it.currentRenderingView == value.name }} nm-active{{?}}" data-key="{{=value.name}}">\n\t\t\t\t\t\t\t<label for="nm-renderinglayer-interiortoggle" class="nm-renderinglayer-expander"></label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="nm-renderinglayer-thumb nm-j-configurator-renderimage {{=value.name}}" data-renderimage-type="{{=value.type}}" data-renderimage-view="{{=value.name}}" style="background-image:url({{=value.thumbnail}})"><a class="nm-b-icon nm-icon-plus"></a></div>\n\t{{??}}\n\t\t\t\t\t<li class="nm-renderinglayer-item nm-js-item nm-rl-item-interior">\n\t\t\t\t\t\t<div class="nm-rl-placeholder nm-js-interior {{=value.name}}{{? it.currentRenderingView == value.name }} nm-active{{?}}" data-key="{{=value.name}}"></div>\n\t\t\t\t\t\t<div class="nm-renderinglayer-thumb nm-j-configurator-renderimage {{=value.name}}" data-renderimage-type="{{=value.type}}" data-renderimage-view="{{=value.name}}" style="background-image:url({{=value.thumbnail}})"></div>\n\t{{?}}\n\t\t\t\t\t</li>\n{{~}}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>'},
/*!************************************************!*\
  !*** ./js/configurator/scs-matching-basket.js ***!
  \************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scsMatchingBasket=void 0;var r=n(/*! ../application-bundle */3),i=n(/*! core-utils */0),o=n(/*! ./scs-matching-basket-template */335),a={},s={__:a};a.oDefaults={classBasketMatchingContainer:".nm-basket-matching",classBasketMatchingCarousel:".nm-basket-matching-car-slider",classBasketMatchingListSlider:".nm-basket-matching-list-slider",classBasketArrowLeft:".nm-basket-matching-prev",classBasketArrowRight:".nm-basket-matching-next",classBasketThumb:".nm-basket-matching-list-small ul li label"},a.currentMatchingVehicles=null,a.eventBus=null,a.scDetailLinkPattern=null,a.carouselItemCount=null,a.carouselItemWidth=null,a.carouselItemHeight=null,a.carouselWidth=null,a.carouselIndex=0,a.carouselLabelStep=!1,a.carouselItemWidthTransform=null,a.addEvents=function(){a.eventBus.on(r.appEvents.STOCKCAR_UPDATE,a.handleStockcarResults),a.addClickEvents()},a.addClickEvents=function(){var t=i.dom.getEventDelegate("body");t.on("click",a.oDefaults.classBasketArrowLeft,a.prevArrowClickHandler),t.on("click",a.oDefaults.classBasketArrowRight,a.nextArrowClickHandler),t.on("click",a.oDefaults.classBasketThumb,a.thumbClickHandler)},a.removeClickEvents=function(){var t=i.dom.getEventDelegate("body");t.off("click",a.oDefaults.classBasketArrowLeft,a.prevArrowClickHandler),t.off("click",a.oDefaults.classBasketArrowRight,a.nextArrowClickHandler),t.off("click",a.oDefaults.classBasketThumb,a.thumbClickHandler)},a.handlePageLoaded=function(){a.currentMatching&&document.querySelector(a.oDefaults.selectorModuleContainer)&&a.handleStockcarResults(a.currentMatching)},a.handleStockcarResults=function(t){var e;t&&(a.currentMatchingVehicles=t.vehicleBasic?t.vehicleBasic:[],e=a.parseResonse(t),a.renderTemplate(e))},a.parseResonse=function(t){var e,n,r,i,o={cars:[]},s=t.vehicleBasic.length;for(e=0,n=s;e<n;e++)(r=t.vehicleBasic[e])&&(i={id:r.id,model:r.symbolicCarline.description,engine:r.modelCode.description,image:a.setImageSrc(r.pictures),price:a.getFormattedPrice(r.typedPrices,"retail"),link:a.setDetailsURL(r.id),svdVersion:r.svdVersion,percentage:Math.round(r.percentage||r.displayPercentage)},o.cars.push(i));return o.result_link=a.setResultsURL(t.filterExpression),o.totalCount=s,o},a.setImageSrc=function(t){var e;return(t||[]).forEach(function(t){"n5c01"===t.key&&(e=t.url)}),e},a.setResultsURL=function(t){var e=a.getResultsLinkUrl()||"";return e=e.replace(/SC_ATTR_FILTERS/i,t)},a.getResultsLinkUrl=function(){var t=document.querySelector(a.oDefaults.classBasketMatchingContainer);return t?t.getAttribute("data-result-url"):null},a.setDetailsURL=function(t){var e=a.getDetailsLinkUrl()||"";return e=e.replace(/SC_VEHICLE_ID/i,t)},a.getDetailsLinkUrl=function(){var t=document.querySelector(a.oDefaults.classBasketMatchingContainer);return t?t.getAttribute("data-detail-url"):null},a.getFormattedPrice=function(t,e){for(var n=t.length;n--;)if(t[n].type===e)return t[n].formatted;return null},a.renderTemplate=function(t){var e,n=document.querySelector(a.oDefaults.classBasketMatchingContainer);n&&(n.innerHTML="",t.cars.length>1&&(e=i.template.render(o.scsMatchingBasketTemplate,t),n.innerHTML=e,a.initCarousel()))},a.initCarousel=function(){var t=document.querySelector(a.oDefaults.classBasketMatchingCarousel+" ul"),e=document.querySelector(a.oDefaults.classBasketMatchingCarousel+" ul li:last-child");a.carouselItemCount=parseInt(t.childNodes.length,10),a.carouselItemWidthTransform=100/a.carouselItemCount,a.carouselItemWidth="100",a.carouselWidth=100*a.carouselItemCount+"%",t.setAttribute("style","width:"+a.carouselWidth+";transform: translate(-"+a.carouselItemWidthTransform+"%);"),t.insertBefore(e,t.firstChild),i.swipe.register(a.onSwipeFinishHandler,a.oDefaults.classBasketMatchingCarousel,{swipedistance:50})},a.getCurrentIndex=function(){var t=0;return i.dom.getElementsArray(a.oDefaults.classBasketMatchingListSlider).forEach(function(e,n){e.checked&&(t=n)}),t},a.setCurrentIndex=function(t){var e=a.getCurrentIndex();t!==e&&(a.updateThumbPosition(t),a.updateCounter(t+1),a.animation(e,t))},a.nextArrowClickHandler=function(){var t=a.getCurrentIndex();t=++t%a.carouselItemCount,a.setCurrentIndex(t)},a.prevArrowClickHandler=function(){var t=a.getCurrentIndex();(t=--t)<0&&(t=a.carouselItemCount-1),a.setCurrentIndex(t)},a.onSwipeFinishHandler=function(t){if(t.direction&&0!==t.move)switch(t.direction.horizontal){case i.swipe.LEFT:a.nextArrowClickHandler();break;default:a.prevArrowClickHandler()}},a.animation=function(t,e){var n;a.removeClickEvents(),t<e?(n="next",0===t&&e===a.carouselItemCount-1&&(n="prev")):(n="prev",t===a.carouselItemCount-1&&0===e&&(n="next")),"prev"===n?a.animatePrev(t,e):a.animateNext(t,e)},a.animatePrev=function(t,e){var n=document.querySelector(a.oDefaults.classBasketMatchingCarousel+" ul"),r=document.querySelector(a.oDefaults.classBasketMatchingCarousel+" ul li:last-child");i.dom.handleTransition(n).then(function(i){i.classList.remove("slide-transition"),t-e>1&&(r=document.querySelector(a.oDefaults.classBasketMatchingCarousel+" ul li:last-child")),n.insertBefore(r,n.firstChild),n.setAttribute("style","width:"+a.carouselWidth+";transform: translate(-"+a.carouselItemWidthTransform+"%);"),a.addClickEvents()}),t-e>1?(n.insertBefore(r,n.firstChild),n.setAttribute("style","width:"+a.carouselWidth+";transform: translate(-"+2*a.carouselItemWidthTransform+"%);"),n.classList.add("slide-transition"),n.setAttribute("style","width:"+a.carouselWidth+";transform: translate(0)")):(n.classList.add("slide-transition"),n.setAttribute("style","width:"+a.carouselWidth+";transform: translate(0)"))},a.animateNext=function(t,e){var n=document.querySelector(a.oDefaults.classBasketMatchingCarousel+" ul"),r=document.querySelector(a.oDefaults.classBasketMatchingCarousel+" ul li:first-child");i.dom.handleTransition(n).then(function(n){n.classList.remove("slide-transition"),n.appendChild(r,n.firstChild),e-t>1&&(r=document.querySelector(a.oDefaults.classBasketMatchingCarousel+" ul li:first-child"),n.appendChild(r,n.firstChild)),n.setAttribute("style","width:"+a.carouselWidth+";transform: translate(-"+a.carouselItemWidthTransform+"%);"),a.addClickEvents()}).catch(function(t){console.log("Promise not completed ",t)}),n.classList.add("slide-transition"),n.setAttribute("style","width:"+a.carouselWidth+";transform: translate(-"+a.carouselItemWidthTransform*(e-t<0?2:e-t+1)+"%);")},a.thumbClickHandler=function(t){var e=parseInt(t.target.getAttribute("data-index"),10);a.setCurrentIndex(e)},a.updateThumbPosition=function(t){var e=i.dom.getElementsArray(".nm-basket-matching-list-slider");e.map(function(t){t.checked=!1}),e[t].checked=!0},a.updateCounter=function(t){document.querySelector(".nm-basket-matching-counter-current").innerHTML=t},s.initialize=function(t){a.eventBus=t,a.addEvents()},e.scsMatchingBasket=s},
/*!*********************************************************!*\
  !*** ./js/configurator/scs-matching-basket-template.js ***!
  \*********************************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.scsMatchingBasketTemplate='{{~ it.cars :car :index }}\n<input type="radio" id="nm-basket-matching-list-car{{=index+1}}" name="nm-basket-matching-list-slider" class="nm-basket-matching-list-slider" data-index="{{=index}}" {{? index === 0}}checked="checked" {{?}} />\n{{~}}\n<label class="nm-basket-toggle-widgets-label-fullarea" for="nm-basket-toggle-widgets"></label>\n<label class="nm-basket-toggle-widgets-label" for="nm-basket-toggle-widgets">\n\t<span class="nm-el-hdl nm-el-hdl-04 nm-at-hdl-b">{{=window.i18n[\'basket.matching.headline\'] || "Verfgbare Neuwagen"}}</span>\n\t<svg class="nm-icon-arrow">\n\t\t<use xlink:href={{=SETUPS.get(\'coreci.url.assets\')+"/icons/svg/arrow.svg#nm-icon-arrow"}}></use>\n\t</svg>\n</label>\n<div class="nm-basket-matching-wrap">\n\t<div class="nm-basket-matching-car-slider">\n\n\t\t<div class="nm-basket-matching-next"></div>\n\t\t<div class="nm-basket-matching-prev"></div>\n\t\t<div class="nm-basket-matching-counter nm-el-lbl nm-el-lbl-01">\n\t\t\t<span class="nm-basket-matching-counter-current">1</span>/<span class="nm-basket-matching-counter-total">{{=it.totalCount}}</span>\n\t\t</div>\n\t\t<ul>\n\t\t\t{{~ it.cars :car :index }}\n\t\t\t\t<li data-index="{{=index}}">\n\t\t\t\t\t<div class="nm-basket-matching-car-container">\n\t\t\t\t\t\t<a class="nm-layerLink" href="{{=car.link}}">\n\t\t\t\t\t\t\t<div {{? car.image !== \'undefined\' && car.image !== \'\' }} style="background-image: url({{=car.image}});" class="nm-basket-matching-car-image" {{??}} class="nm-basket-matching-car-image nm-basket-matching-car-fallback" {{?}} ></div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<a class="nm-layerLink" href="{{=car.link}}">\n\t\t\t\t\t\t<div class="nm-basket-matching-car-info">\n\t\t\t\t\t\t\t<span class="nm-basket-matching-car-model nm-el-lbl nm-el-lbl-01 nm-at-lbl-b">{{=car.model}}</span>\n\t\t\t\t\t\t\t<span class="nm-basket-matching-car-description nm-el-lbl nm-el-lbl-01">{{=car.engine}}</span>\n\t\t\t\t\t\t\t<span class="nm-basket-matching-car-price nm-el-lbl nm-el-lbl-01">{{=car.price}}</span>\n\n\t\t\t\t\t\t\t<div class="nm-basket-matching-circle" data-progress="{{=car.percentage}}">\n\t\t\t\t\t\t\t\t<style>\n\t\t\t\t\t\t\t\t{{var circle_degree = parseInt(car.percentage * 1.8);}}\n\t\t\t\t\t\t\t\t{{var circle_degree_fix = parseInt(circle_degree * 2);}}\n\t\t\t\t\t\t\t\t{{var full_percentage = car.percentage<50 ? 0 : car.percentage;}}\n\n\t\t\t\t\t\t\t\t\t.nm-basket-matching-circle .circle-{{=index}} .mask.full .fill {\n\t\t\t\t\t\t\t\t\t\tclip: rect(0px, 25px, {{=full_percentage}}px, 0px);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t.nm-basket-matching-circle .circle-{{=index}} .mask.full, .nm-basket-matching-circle .circle-{{=index}} .mask .fill {\n\t\t\t\t\t\t\t\t\t    -webkit-transform: rotate({{=circle_degree}}deg);\n\t\t\t\t\t\t\t\t\t    -ms-transform: rotate({{=circle_degree}}deg);\n\t\t\t\t\t\t\t\t\t    transform: rotate({{=circle_degree}}deg);\n\t\t\t\t\t\t\t\t\t    animation: fill-{{=index}}  ease-in-out 3s;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t.nm-basket-matching-circle .circle-{{=index}} .mask .fill.fix {\n\t\t\t\t\t\t\t\t\t    -webkit-transform: rotate({{=circle_degree_fix}}deg);\n\t\t\t\t\t\t\t\t\t    -ms-transform: rotate({{=circle_degree_fix}}deg);\n\t\t\t\t\t\t\t\t\t    transform: rotate({{=circle_degree_fix}}deg);\n\t\t\t\t\t\t\t\t\t    animation: fill-fix-{{=index}} ease-in-out 3s;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t.nm-basket-matching-circle .circle-{{=index}} .mask.full, .nm-basket-matching-circle .circle-{{=index}} .mask.full .fill {\n\t\t\t\t\t\t\t\t\t\tborder-radius: 0;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t@keyframes fill-{{=index}}  {\n\t\t\t\t\t\t\t\t\t\t0% {\n\t\t\t\t\t\t\t\t\t\t    -webkit-transform: rotate(0deg);\n\t\t\t\t\t\t\t\t\t\t    -ms-transform: rotate(0deg);\n\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(0deg);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t100% {\n\t\t\t\t\t\t\t\t\t\t    -webkit-transform: rotate({{=circle_degree}}deg);\n\t\t\t\t\t\t\t\t\t\t    -ms-transform: rotate({{=circle_degree}}deg);\n\t\t\t\t\t\t\t\t\t\t\ttransform: rotate({{=circle_degree}}deg);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t@keyframes fill-fix-{{=index}}  {\n\t\t\t\t\t\t\t\t\t\t0% {\n\t\t\t\t\t\t\t\t\t\t    -webkit-transform: rotate(0deg);\n\t\t\t\t\t\t\t\t\t\t    -ms-transform: rotate(0deg);\n\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(0deg);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t100% {\n\t\t\t\t\t\t\t\t\t\t    -webkit-transform: rotate({{=circle_degree_fix}}deg);\n\t\t\t\t\t\t\t\t\t\t    -ms-transform: rotate({{=circle_degree_fix}}deg);\n\t\t\t\t\t\t\t\t\t\t\ttransform: rotate({{=circle_degree_fix}}deg);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</style>\n\t\t\t\t\t\t\t\t<div class="outer-circle"></div>\n\t\t\t\t\t\t\t\t<div class="circle-{{=index}}">\n\t\t\t\t\t\t\t\t\t<div class="mask full">\n\t\t\t\t\t\t\t\t\t\t<div class="fill"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="mask half">\n\t\t\t\t\t\t\t\t\t\t<div class="fill"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="fill fix"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="inner-circle">{{=car.percentage}}%</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t{{~}}\n\t\t</ul>\n\t</div>\n\t<div class="nm-basket-matching-list-small-wrap">\n\t\t<div class="nm-basket-matching-list-small">\n\t\t\t<ul>\n\t\t\t\t{{~ it.cars :car :index }}\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<label for="nm-basket-matching-list-car{{=index+1}}" {{? !!car.image }} style="background-image: url({{=car.image}});" {{??}} class="nm-basket-matching-car-fallback" {{?}} data-index="{{=index}}"></label>\n\t\t\t\t\t</li>\n\t\t\t\t{{~}}\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n\t<div class="nm-basket-matching-more-btn">\n\t\t<a href="{{=it.result_link}}" class="nm-el-btn nm-el-btn-01 nm-el-btn-ast nm-at-btn-inv"><span>{{=window.i18n[\'basket.matching.button.label\'] || "Weitere Neuwagen"}}</span></a>\n\t</div>\n</div>'},
/*!*****************************************!*\
  !*** ./js/configurator/scs-matching.js ***!
  \*****************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scsMatching=void 0;var r=c(n(/*! babel-runtime/regenerator */18)),i=c(n(/*! babel-runtime/core-js/promise */11)),o=c(n(/*! babel-runtime/helpers/asyncToGenerator */19)),a=c(n(/*! babel-runtime/core-js/object/keys */49)),s=n(/*! ../application-bundle */3),l=n(/*! core-utils */0),u=n(/*! ./dpu/api */27);function c(t){return t&&t.__esModule?t:{default:t}}var d={},f={__:d};d.oDefaults={classBasketMatchingContainer:".nm-basket-matching"},d.eventBus=null,d.matchingSize=6,d.svdVersion=null,d.stckSetups=null,d.addEvents=function(){d.eventBus.on(s.appEvents.CONFIG_UPDATE,d.triggerStckRequest),d.eventBus.on(s.appEvents.PAGE_READY,d.triggerStckRequest)},d.isMatchingActive=function(){var t=!1,e=!!SETUPS.get("stockcar.scs.market"),n=!!SETUPS.get("scope.nemo.scs-matching"),r=(SETUPS.get("stockcar.context")||"").toString();return!1!==SETUPS.get("stockcar.context")&&"false"!==r||!0!==e&&"true"!==e||!0!==n&&"true"!==n||(t=!0),t},d.initialize=function(){!0===d.isMatchingActive()&&d.getSVDVersion().then(function(){d.triggerStckRequest(),d.addEvents()})},d.getStckUrlSetup=function(t){return d.stckSetups={},d.stckSetups.baseUrl=SETUPS.get("stockcar.scs.base.url"),d.stckSetups.market=SETUPS.get("stockcar.scs.market.path"),d.stckSetups.versionId=d.getStckVersionString(t),d.stckSetups},d.getStckVersionString=function(t){var e=SETUPS.get("stockcar.scs.default.version")?SETUPS.get("stockcar.scs.default.version")+"/":"",n=SETUPS.get("stockcar.scs.version.mapping");return(0,a.default)(n).length>0&&(e="string"==typeof n[t]?n[t]+"/":e),e},d.triggerStckRequest=function(){if(!0===d.isMatchingActive())return d.startStckRequests().then(function(t){return d.svdVersion=t&&t.header&&t.header.dataVersion?t.header.dataVersion:d.svdVersion,d.broadcastStckMatching(t)}).catch(function(t){console.log(t)})},d.startStckRequests=(0,o.default)(r.default.mark(function t(){var e,n,o;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=d.getMatchingUrl())){t.next=11;break}return t.next=4,d.getSVDVersion();case 4:if(o=t.sent,n=d.getRequestParams(o)){t.next=8;break}return t.abrupt("return",i.default.reject("missing SCS Attributes"));case 8:return t.abrupt("return",l.ajax.getJSON(e,n,{withCredentials:!1}));case 11:return t.abrupt("return",i.default.reject("no version and matchUrl"));case 12:case"end":return t.stop()}},t,this)})),d.getBasketContainer=function(){return document.querySelector(d.oDefaults.classBasketMatchingContainer)},d.getMatchingAttributes=function(){var t,e=d.getBasketContainer();return(t=u.dpuApi.getSCSmatchingAttributes())&&t.length>0?t.join(","):e&&e.getAttribute("data-attributes").replace(/[[\s\]']+/g,"")||null},d.getRequestParams=function(t){var e=[],n=d.getMatchingAttributes();return n&&n.length&&t?(e.push("svd="+t),e.push("size="+d.matchingSize),e.push("attributes="+n),e=e.join("&")):null},d.broadcastStckMatching=function(t){return d.eventBus.emit(s.appEvents.STOCKCAR_UPDATE,t),t},d.getVersionUrl=function(){var t,e=d.stckSetups?d.stckSetups:d.getStckUrlSetup("version");return e.baseUrl&&e.versionId&&e.market&&(t=e.baseUrl+e.versionId+"version/"+e.market),t},d.getMatchingUrl=function(){var t,e=d.stckSetups?d.stckSetups:d.getStckUrlSetup("search");return e.baseUrl&&e.versionId&&e.market&&(t=e.baseUrl+e.versionId+"search/match/"+e.market),t},d.getSVDVersion=function(){var t=void 0;return function(){return t?d.svdVersion&&(t=i.default.resolve(d.svdVersion)):t=d.svdVersion?i.default.resolve(d.svdVersion):d.fetchSVDVersion(),t}}(),d.fetchSVDVersion=function(){var t=d.getVersionUrl();return d.svdVersion=null,l.ajax.getJSON(t,null,{withCredentials:!1}).then(function(t){if(d.svdVersion=t&&t.header&&t.header.dataVersion?t.header.dataVersion:null,!d.svdVersion)throw new TypeError("could not load svd-version");return d.svdVersion}).catch(function(t){console.error("SVD Version error. Using stockcar.static.svd ",t),d.svdVersion=SETUPS.get("stockcar.static.svd")||""}).then(function(){return d.svdVersion})},f.initialize=function(t){d.eventBus=t,d.initialize()},e.scsMatching=f},
/*!*********************************************!*\
  !*** ./js/configurator/summary-techdata.js ***!
  \*********************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.summaryTechdata=void 0;var r=d(n(/*! babel-runtime/core-js/object/assign */72)),i=d(n(/*! babel-runtime/core-js/object/keys */49)),o=d(n(/*! babel-runtime/helpers/toConsumableArray */45)),a=d(n(/*! babel-runtime/core-js/promise */11)),s=n(/*! ../application-bundle */3),l=n(/*! ./dpu/api */27),u=n(/*! ./dpu/model */166),c=n(/*! core-utils */0);function d(t){return t&&t.__esModule?t:{default:t}}var f={},m={__:f};f.oDefaults={ssButtonCompactMode:".nm-summary-list-toggle-btn",sSelectorSummaryTechDataContainer:".nm-summary-list-techdata-container",sSelectorSummaryTechDataMultiContainer:".nm-mediathek-description",sSelectorSummaryContainer:".nm-module-summary-engine",sSelectorSummaryContainerEngineIcons:".nm-summary-tech-icons",sSelectorSummaryListContainer:".nm-summary-list-container.nm-techdata-container",sSelectorSummaryWltpLink:".nm-module-summary-techdata-list .nm-wltp-link",sSelectorTechRow:".nm-techrow",sSelectorCompactMode:"nm-is-compact-mode",hiddenClass:"nm-hidden",maxModelsinfoWaitTime:3e4,sButtonFullTechData:".nm-foldout-techdata-list-button-full-techdata",sButtonEngineCompare:".nm-foldout-techdata-list-button-engine-compare"},f.handlePageLoaded=function(t){var e=t&&t.domElement?t.domElement:document;f.bindClicks(e),f.patchMotorInfo(e)},f.bindClicks=function(t){f.summaryTechDataContainer=c.dom.getElementsArray(f.oDefaults.sSelectorSummaryTechDataContainer,t),f.buttonCompactMode=c.dom.getElementsArray(f.oDefaults.ssButtonCompactMode,t),f.summaryTechDataContainer.length>0&&f.buttonCompactMode.length>0&&(f.domDelegate.off("click",f.oDefaults.ssButtonCompactMode,f.handleToggleBtnClick),f.domDelegate.on("click",f.oDefaults.ssButtonCompactMode,f.handleToggleBtnClick))},f.handleLayerLoaded=function(t){var e=t&&t.element?t.element:document;f.bindClicks(e),f.patchMotorInfo(e)},f.handleConfigurationUpdates=function(){m.wait(l.dpuApi.isInitialized,f.oDefaults.maxModelsinfoWaitTime).then(function(){f.patchMotorInfo(document)})},f.run=function(t,e,n,r,i){var o,a,s;a=0,(s=t())?r(s):o=setInterval(function(){(s=t())?(clearInterval(o),r(s)):a>e&&(clearInterval(o),i(new Error)),a+=n},n)},m.wait=function(t,e,n){var r=n||50;return new a.default(function(n,i){f.run(t,e,r,n,i)})},f.initialize=function(){f.addEvents()},f.addEvents=function(){f.eventBus.on(s.appEvents.PAGE_LOADED,f.handlePageLoaded),f.eventBus.on(s.appEvents.LAYER_LOADED,f.handleLayerLoaded),f.eventBus.on(s.appEvents.CONFIG_UPDATE,f.handleConfigurationUpdates),f.eventBus.on(s.appEvents.MODELSINFO_LOAD_COMPLETE,f.handlePageLoaded)},f.handleToggleBtnClick=function(t){t.preventDefault();var e=t.target,n=c.dom.closest(e,f.oDefaults.sSelectorSummaryTechDataMultiContainer);[].concat((0,o.default)(n.querySelectorAll(f.oDefaults.sSelectorSummaryTechDataContainer))).forEach(function(t){c.dom.isElement(t)&&(t.classList.contains(f.oDefaults.sSelectorCompactMode)?t.classList.remove(f.oDefaults.sSelectorCompactMode):t.classList.add(f.oDefaults.sSelectorCompactMode))})},f.patchMotorInfo=function(t){var e,n,r,o,a,s,d,m=t,p=c.dom.getElement('[data-template="summary"]',m),g=l.dpuApi.getEngine(),v=f.getMotorTechdata(g);if(c.dom.isElement(p)&&v){for(o in v)if(v[o])for(e=v[o],r=c.dom.getElementsArray(".nm-j-summary-text-"+o+", .nm-j-configurator-techdata-"+o,p),n=0;n<r.length;n++)c.dom.isElement(r[n])&&f.patchDOMfragment(r[n],e);f.updateVisibilityWltpLinks(v)}f.hideInvisibleCategories(),a=c.dom.getElement(f.oDefaults.sButtonFullTechData,m),s=c.dom.getElement(f.oDefaults.sButtonEngineCompare,m),d=u.dpuModel.getModelsInfo(),c.dom.isElement(a)&&c.dom.isElement(s)&&d&&(0,i.default)(d).length>1&&(a.classList.add(f.oDefaults.hiddenClass),s.classList.remove(f.oDefaults.hiddenClass))},f.updateVisibilityWltpLinks=function(t){var e=c.dom.getElementsArray(f.oDefaults.sSelectorSummaryWltpLink);if(e.length>0){var n=(0,i.default)(t).filter(function(t){return-1!=t.indexOf("wltp-")});if(n.length>0)n.map(function(e){return t[e]}).some(function(t){return""!=t&&void 0!=t})?e.forEach(function(t){return t.classList.remove("nm-hidden")}):e.forEach(function(t){return t.classList.add("nm-hidden")})}},f.getMotorTechdata=function(t){var e=l.dpuApi.getModelsInfo(t),n=l.dpuApi.getTechdata();return(0,r.default)({},e,n)},f.patchDOMfragment=function(t,e){var n=c.dom.closest(t,f.oDefaults.sSelectorTechRow);c.dom.isElement(t)&&(e?(n&&n.classList&&n.classList.remove(f.oDefaults.hiddenClass),t.innerHTML=e):n&&n.classList&&n.classList.add(f.oDefaults.hiddenClass))},f.hideInvisibleCategories=function(){var t,e,n,r,i,o=c.dom.getElementsArray(f.oDefaults.sSelectorSummaryListContainer+", "+f.oDefaults.sSelectorSummaryContainer);if(o.length>0)for(e=0;e<o.length;e++){for(r=0,t=c.dom.getElementsArray(f.oDefaults.sSelectorTechRow,o[e]),n=0;n<t.length;n++)t[n].classList.contains(f.oDefaults.hiddenClass)&&r++;if(t.length!==r)o[e].classList.remove(f.oDefaults.hiddenClass);else{if(i=c.dom.getElement(f.oDefaults.sSelectorSummaryContainerEngineIcons,o[e]),c.dom.isElement(i))return;o[e].classList.add(f.oDefaults.hiddenClass)}}},m.initialize=function(t){f.eventBus=t,f.domDelegate=c.dom.getEventDelegate("body"),f.initialize()},e.summaryTechdata=m},
/*!*************************************!*\
  !*** ./js/configurator/tilelist.js ***!
  \*************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(/*! babel-runtime/core-js/object/set-prototype-of */15)),i=d(n(/*! babel-runtime/core-js/reflect/construct */17)),o=d(n(/*! babel-runtime/core-js/object/get-prototype-of */7)),a=d(n(/*! babel-runtime/helpers/classCallCheck */1)),s=d(n(/*! babel-runtime/helpers/createClass */2)),l=d(n(/*! babel-runtime/helpers/possibleConstructorReturn */8)),u=d(n(/*! babel-runtime/helpers/inherits */9)),c=n(/*! core-utils */0);function d(t){return t&&t.__esModule?t:{default:t}}function f(){return(0,i.default)(HTMLElement,[],this.__proto__.constructor)}(0,r.default)(f.prototype,HTMLElement.prototype),(0,r.default)(f,HTMLElement);var m=".nm-module-tiles-uncategorized-tile, .nm-module-tiles-categorized-tile",p="nm-tile-fadeout",g=function(t){function e(){return(0,a.default)(this,e),(0,l.default)(this,(e.__proto__||(0,o.default)(e)).call(this))}return(0,u.default)(e,t),(0,s.default)(e,[{key:"connectedCallback",value:function(){this.getAllTiles(),this.addEvents()}},{key:"disconnectedCallback",value:function(){this.removeEvents()}},{key:"getAllTiles",value:function(){this.allTiles=c.dom.getElementsArray(m,this)}},{key:"addEvents",value:function(){var t=this;this.allTiles.forEach(function(e){e.addEventListener("mouseover",function(e){return t.handleTileMouseOver(e)}),e.addEventListener("mouseout",function(){return t.handleTileMouseOut()})})}},{key:"removeEvents",value:function(){var t=this;this.allTiles.forEach(function(e){e.removeEventListener("mouseover",function(e){return t.handleTileMouseOver(e)}),e.removeEventListener("mouseout",function(){return t.handleTileMouseOut()})})}},{key:"handleTileMouseOver",value:function(t){var e=this,n=t.currentTarget;this.allTiles.forEach(function(t){t!==n&&e.fadeOutTile(t)})}},{key:"handleTileMouseOut",value:function(){var t=this;this.allTiles.forEach(function(e){return t.fadeInTile(e)})}},{key:"fadeInTile",value:function(t){t.classList.remove(p)}},{key:"fadeOutTile",value:function(t){t.classList.add(p)}}]),e}(f);e.default=g,void 0===window.customElements.get("audi-configurator-tile-list")&&window.customElements.define("audi-configurator-tile-list",g)},
/*!************************************!*\
  !*** ./js/configurator/tooltip.js ***!
  \************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tooltip=void 0;var r=n(/*! core-utils */0),i={},o={__:i};i.defaults={tooltipVisibleClass:"nm-j-tooltip-visible",tooltipHideButtonClass:"nm-tooltip-hide",tipLeftClass:"nm-tip-left",tipRightClass:"nm-tip-right",tooltipContainerSelector:".nm-tooltip-container",tooltipPopupSelector:".nm-tooltip-popup"},i.handleTooltipClick=function(t){i.isHiddenButton(t.target)||i.openTooltip(t)},i.isHiddenButton=function(t){return t.classList.contains(i.defaults.tooltipHideButtonClass)},i.handleTooltipOutsideClick=function(t){r.dom.isElementOutsideOfElementWithSelector(t.target,i.defaults.tooltipContainerSelector)&&i.closeAllTooltips()},i.closeAllTooltips=function(){r.dom.getElementsArray("."+i.defaults.tooltipVisibleClass).forEach(function(t){t.classList.remove(i.defaults.tooltipVisibleClass)})},i.closeTooltip=function(t){var e=r.dom.closest(t.target,i.defaults.tooltipPopupSelector);r.dom.isElement(e)&&e.classList.remove(i.defaults.tooltipVisibleClass)},i.openTooltip=function(t){var e;e=r.dom.closest(t.target,i.defaults.tooltipContainerSelector),r.dom.getElement(i.defaults.tooltipPopupSelector,e).classList.add(i.defaults.tooltipVisibleClass)},i.addEvents=function(){i.domDelegate=r.dom.getEventDelegate("body"),i.domDelegate.on("click",i.defaults.tooltipContainerSelector,i.handleTooltipClick),i.domDelegate.on("click",i.handleTooltipOutsideClick),i.domDelegate.on("click","."+i.defaults.tooltipHideButtonClass,i.closeTooltip),i.domDelegate.on("mouseover",i.defaults.tooltipContainerSelector,i.setPosition)},i.setPosition=function(t){var e=r.dom.closest(t.target,i.defaults.tooltipContainerSelector),n=e.querySelector(i.defaults.tooltipPopupSelector);n.classList.contains(i.defaults.tooltipVisibleClass)||(i.removePositionClass(e),i.setPositionClass(e,n))},i.setPositionClass=function(t,e){var n=e.getBoundingClientRect();t.classList.remove(i.defaults.tipRightClass,i.defaults.tipLeftClass),n.left<0?t.classList.add(i.defaults.tipLeftClass):n.left+n.width>window.innerWidth&&t.classList.add(i.defaults.tipRightClass)},i.removePositionClass=function(t){t.classList.remove(i.defaults.tipRightClass,i.defaults.tipLeftClass)},o.initialize=function(){i.addEvents()},e.tooltip=o},
/*!***************************************!*\
  !*** ./js/configurator/visualizer.js ***!
  \***************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.visializer=void 0;var r=n(/*! ./dpu/api */27),i=n(/*! ./dpu/controller */138),o=n(/*! ../application-bundle */3),a=n(/*! core-utils */0),s={},l={__:s};s.oDefaults={sColors:"nm-j-visualizer-tiles-color",sRims:"nm-j-visualizer-tiles-rim",sCombiItem:".nm-j-visualizer-slide",sSelectorCombiContainer:".nm-j-visualizer-slides",sTilesSelector:".nm-j-visualizer-item",sTilesblockSelector:".nm-j-visualizer-tiles-block",sMenuSelectedClass:"nm-selected",sButtonSelector:".nm-j-preconfig-submit",sSlideActiveClass:"active",sSlideHiddenClass:"hidden"},s.timeoutID=null,s.timeoutDelay=1e3,s.handleConfigurationStartClick=function(t){var e,n,l=void 0,u=a.dom.getElement(s.oDefaults.sCombiItem+".active");s.cancelEvent(t),e=a.dom.getDataAttribute(u,"audicode"),n=a.dom.getDataAttribute(u,"prstring"),(e||n)&&(l={},e?l.audicode=e:l.prstring=n,i.dpuController.loadConfigurationFromTeaser(l,"audicode.visualizer").then(function(){o.router.open("page",r.dpuApi.getCurrentCarlineUrl())}))},s.handleTileClick=function(t){var e,n,r,i,o=void 0;s.cancelEvent(t),e=(o=a.dom.closest(t.target,s.oDefaults.sTilesSelector)).getAttribute("data-color-index")||o.getAttribute("data-rim-index"),s.updateTileSelection(o),i=s.getSelectedColorAndRimIndex(o),n=a.dom.getElement(".nm-visualizer-slide.active"),r=a.dom.getElement('.nm-visualizer-slide[data-matrix-index="'+i+'"]'),s.hideSlide(n),s.resetActiveVideo(n),s.showSlide(r),s.updateActiveTileBar(o,73,55*(e-1))},s.showSlide=function(t){t.classList.remove("hidden"),t.classList.add("active")},s.hideSlide=function(t){t.classList.remove("active"),t.classList.add("hidden")},s.resetActiveVideo=function(t){var e=a.dom.getElement("video",t);a.dom.isElement(e)&&e.currentTime>0&&(e.load(),a.dom.getElement(".nm-mediaplayer",t).classList.remove("nm-video-playing"))},s.updateTileSelection=function(t){var e=a.dom.closest(t,s.oDefaults.sTilesblockSelector);a.dom.getElement("."+s.oDefaults.sMenuSelectedClass,e).classList.remove(s.oDefaults.sMenuSelectedClass),t.classList.add(s.oDefaults.sMenuSelectedClass)},s.getSelectedColorAndRimIndex=function(){return a.dom.getElement(".nm-j-visualizer-tiles-color ."+s.oDefaults.sMenuSelectedClass).getAttribute("data-color-index")+"-"+a.dom.getElement(".nm-j-visualizer-tiles-rim ."+s.oDefaults.sMenuSelectedClass).getAttribute("data-rim-index")},s.handleTileHover=function(t){var e=a.dom.closest(t.target,s.oDefaults.sTilesSelector);s.updateActiveTileBar(e,e.clientWidth,e.offsetLeft),clearTimeout(s.timeoutID)},s.handleTileblockLeave=function(){clearTimeout(s.timeoutID),s.timeoutID=setTimeout(function(){a.dom.getElementsArray(s.oDefaults.sTilesSelector+"."+s.oDefaults.sMenuSelectedClass).forEach(function(t){s.updateActiveTileBar(t,t.clientWidth,t.offsetLeft)})},s.timeoutDelay)},s.updateActiveTileBar=function(t,e,n){var r=a.dom.closest(t,s.oDefaults.sTilesblockSelector),i=a.dom.getElement(".nm-visualizer-tile-active-bar",r);i.style.left=n+"px",i.style.width=e+"px"},s.cancelEvent=function(t){t&&"function"==typeof t.preventDefault&&t.preventDefault()},s.addEvents=function(){s.domEventDelegate.on("click",s.oDefaults.sTilesSelector,s.handleTileClick),s.domEventDelegate.on("click",s.oDefaults.sButtonSelector,s.handleConfigurationStartClick),s.domEventDelegate.on("mouseover",s.oDefaults.sTilesSelector,s.handleTileHover),s.domEventDelegate.on("mouseout",s.oDefaults.sTilesblockSelector,s.handleTileblockLeave)},s.removeEvents=function(){s.domEventDelegate.off("click",s.oDefaults.sTilesSelector,s.handleTileClick),s.domEventDelegate.off("click",s.oDefaults.sButtonSelector,s.handleConfigurationStartClick)},l.initialize=function(){s.domEventDelegate=a.dom.getEventDelegate("body"),s.init||s.addEvents(),s.init=!0},e.visializer=l},
/*!********************************!*\
  !*** ./js/configurator/vtp.js ***!
  \********************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.vtp=void 0;var r=n(/*! core-utils */0),i=n(/*! ../application-bundle */3),o=n(/*! ../global-bundle */44),a=n(/*! ./dpu/api */27),s={},l={__:s},u=void 0,c=void 0,d=[],f=void 0;s.oDefaults={sSelectorVTPlink:".nm-j-vtp-link"},s.handleJSONresponse=function(t){var e,n,r=u;e="",t&&t.num&&t.num>0?(r=c,e=" ("+t.num+")"):r=!1,(d=d||[]).forEach(function(t){f=t,r||(r=f.getAttribute("data-vtp-original")),f.setAttribute("href",r),n=f.textContent.split(" (")[0],f.textContent=n+e})},s.sendJSONPrequest=function(t){var e=t.replace(/&callback=\?$/,"");r.ajax.getJSONP(e).then(function(t){s.handleJSONresponse(t)},function(t){console.log("VTP JSON request failed! ",t.message),s.handleJSONresponse(null)})},s.checkForIPHDealerLink=function(t){var e=t;return o.iph.inIPHMode()&&(e=o.iph.addPartnerId(e),e=o.iph.updateNWB(e)),e},s.handleUpdates=function(){var t=a.dpuApi.getNwbLink(),e="";(d=r.dom.getElementsArray(s.oDefaults.sSelectorVTPlink)).length&&(d.forEach(function(t){(f=t).getAttribute("data-vtp-original")||(e=f.getAttribute("href"),f.setAttribute("data-vtp-original",e))}),t&&(u=s.checkForIPHDealerLink(t.plainLink),c=s.checkForIPHDealerLink(t.entryLink),s.sendJSONPrequest(s.checkForIPHDealerLink(t.queryLink))))},s.addEvents=function(){s.eventBus.on(i.appEvents.CONFIG_UPDATE,s.handleUpdates),s.eventBus.on(i.appEvents.LAYER_LOADED,s.handleUpdates),s.eventBus.on(i.appEvents.PAGE_LOADED,s.handleUpdates)},s.initialize=function(){s.instance||(s.addEvents(),s.instance=!0)},l.initialize=function(t){s.eventBus=t,s.initialize()},e.vtp=l},
/*!***********************************!*\
  !*** ./js/configurator/wallet.js ***!
  \***********************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wallet=void 0;var r=n(/*! ../application-bundle */3),i=n(/*! core-utils */0),o={},a={__:o};o.device=i.device,o.oDefaults={classIsWallet:"nm-agent-is-wallet"},o.eventBus=null,o.addEvents=function(){o.eventBus.on(r.appEvents.PAGE_LOADED,o.handlePageLoaded)},o.handlePageLoaded=function(){o.isWalletEnabled()&&document.querySelector("body").classList.add(o.oDefaults.classIsWallet)},o.isWalletEnabled=function(){return o.device.isiPod()||o.device.isiPhone()},a.initialize=function(t){o.eventBus=t,o.addEvents(),o.handlePageLoaded()},e.wallet=a},
/*!*****************************************!*\
  !*** ./js/configurator/your-payment.js ***!
  \*****************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.yourPayment=void 0;var r=n(/*! ./dpu/api */27),i=n(/*! ../application-bundle */3),o=n(/*! core-utils */0),a={},s={__:a};a.oDefaults={sSelectorModule:".nm-md-yourpayment",sSelectorRateSwitchCart:"#nm-price-rate-switch",sSelectorRateSwitchYP:"#nm-price-rate-switch-yp",sSelectorTable:".nm-yourpayment-costs-list",sSelectorSnippetText:".nm-j-configurator-text-",sShowErrorClass:"nm-j-yourpayment-show-error"},a.eventBus=null,a.addEvents=function(){a.eventBus.on(i.appEvents.PAGE_LOADED,a.handleConfigUpdate),a.eventBus.on(i.appEvents.CONFIG_UPDATE,a.handleConfigUpdate)},a.handleConfigUpdate=function(){var t;if(document.querySelector(a.oDefaults.sSelectorModule)&&r.dpuApi.isConfigurable()){if(!(t=r.dpuApi.getConfiguration()))return;""===t.rate?document.querySelector(a.oDefaults.sSelectorModule).classList.add(a.oDefaults.sShowErrorClass):(document.querySelector(a.oDefaults.sSelectorModule).classList.remove(a.oDefaults.sShowErrorClass),a.updatePriceMode(t))}},a.updatePriceMode=function(t){var e,n=document.querySelector(a.oDefaults.sSelectorRateSwitchYP),r=document.querySelector(a.oDefaults.sSelectorRateSwitchCart);n&&r&&(r.getAttribute("checked")!==n.getAttribute("checked")&&n.setAttribute("checked",r.getAttribute("checked")),e=t.financeParameterList?t.financeParameterList:null,a.popuplatePricesByRate(e))},a.popuplatePricesByRate=function(t){var e,n,r,i=0,s=document.querySelector(a.oDefaults.sSelectorTable);if(s&&t)for(e=t.length;i<e;)n=t[i].id,r=t[i].textAndUnit,n&&r&&o.dom.getElement(a.oDefaults.sSelectorSnippetText+n,s).text(r),i++},s.initialize=function(t){a.eventBus=t,a.addEvents(),a.handleConfigUpdate()},e.yourPayment=s},
/*!*****************************************!*\
  !*** ./js/configurator/zip-download.js ***!
  \*****************************************/
/*! dynamic exports provided */
/*! all exports used */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.zipDownload=void 0;var r=n(/*! core-utils */0),i=n(/*! ./dpu/api */27),o={},a={__:o};o.oDefaults={sLinkSelector:".nm-j-zip-download-delegate-click",sZipGateway:"/media-zip"},o.handleClickDownloadLink=function(t){var e=new XMLHttpRequest,n=i.dpuApi.getCarline()+".zip";return t.preventDefault(),e.onreadystatechange=function(){var t;4===e.readyState&&200===e.status&&(window.navigator.msSaveOrOpenBlob?window.navigator.msSaveBlob(e.response,n):((t=document.createElement("a")).href=window.URL.createObjectURL(e.response),t.download=n,t.style.display="none",document.body.appendChild(t),t.click()))},e.open("POST",o.getDownloadURL()),e.setRequestHeader("Content-Type","application/zip"),e.setRequestHeader("Content-Disposition","attachment; filename="+n),e.responseType="blob",e.send(),!0},o.addEvents=function(){o.domEventDelegate.on("click",o.oDefaults.sLinkSelector,o.handleClickDownloadLink)},o.getImageListFromConfigurationObject=function(){var t,e,n=i.dpuApi.getConfigurationAssets()||[],r=[],o=i.dpuApi.getRenderUrl();for(e in n)n.hasOwnProperty(e)&&(t="https:"+o+(n[e].fullscreen||n[e]["fullscreen.new"]||n[e]["stage.new"]),r.push(t));return r},o.getDownloadURL=function(){var t,e;return t=encodeURIComponent(o.getImageListFromConfigurationObject().join("\n")),e=["carline=",i.dpuApi.getCarline(),"&audicode=","","&images=",t].join(""),SETUPS.get("nemo.url.dpu")+o.oDefaults.sZipGateway+"?"+e},a.initialize=function(t){o.eventBus=t,o.domEventDelegate=r.dom.getEventDelegate("body"),o.addEvents()},e.zipDownload=a}])});
//# sourceMappingURL=bundle.configurator.js.map